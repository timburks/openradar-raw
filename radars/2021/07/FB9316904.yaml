apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: FB9316904
    labels:
        datastore_id: "4938587896283136"
data:
    classification: Incorrect/Unexpected Behavior
    created: "2021-07-12T20:38:42.916829Z"
    description: "Write an app that does this:\r\n\r\n1. Create an NSWindow whose colorSpace is set to [NSColorSpace sRGBColorSpace].\r\n2. Add a a layer-backed view with a solid background color (25% gray in my case).\r\n3. Add a subview that draws a partially transparent color (50% alpha red in my case).\r\n\r\nSometimes the colors are blended as sRGB. Other times they are blended in the device color space. The window flashes as you move it around or mouse over it.\r\n\r\nHere’s the kicker: take another app’s window and drag it near the red view. You can “paint” with it; apparently the window server uses sRGB for the parts that are overlapped by the other window’s shadow. See the attached video (using textedit as the second window) and sample project, which was used in the creation of the video."
    email: gnachman@gmail.com
    modified: "2021-07-12T20:38:42.916992Z"
    number: FB9316904
    number_intvalue: 9316904
    originated: 07/12/2021
    parent_number: '&{NULL_VALUE}'
    product: macOS
    product_version: "11.4"
    reproducible: ""
    resolved: ""
    status: Open
    title: Setting NSWindow.colorSpace to sRGB doesn't work consistently and causes drawing artifacts
