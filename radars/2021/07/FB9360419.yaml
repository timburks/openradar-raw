apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: FB9360419
    labels:
        datastore_id: "5021528546607104"
data:
    classification: ""
    created: "2021-07-19T11:45:19.096949Z"
    description: "I have a project which I package as an XCFramework successfully using Xcode 12.5.1; this project’s target is iOS 9.0 and I import the Network framework in some classes and conditionally use it depending on the host app’s iOS version.\r\nWhen I try to package the XCFramework using Xcode 13 beta 3 (failed also with beta 1 and 2) I get these errors:\r\n\r\n-num-threads 12 -output-filelist /var/folders/3y/6wknq7r11zs_31zl7xqd4z5m0000gn/T/TemporaryDirectory.fdcuew/outputs-1\r\n/Applications/Xcode-beta.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator15.0.sdk/usr/lib/swift/Network.swiftmodule/i386-apple-ios-simulator.swiftinterface:1254:19: error: 'NWConnection' is only available in iOS 12.0 or newer\r\nextension Network.NWConnection {\r\n                  ^\r\n/Applications/Xcode-beta.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator15.0.sdk/usr/lib/swift/Network.swiftmodule/i386-apple-ios-simulator.swiftinterface:1254:1: note: add @available attribute to enclosing extension\r\nextension Network.NWConnection {\r\n^\r\n/ReachabilityMonitor.swift:9:8: error: failed to build module 'Network'; this SDK is not supported by the compiler (the SDK is built with 'Apple Swift version 5.5 (swiftlang-1300.0.24.14 clang-1300.0.25.10)', while this compiler is 'Apple Swift version 5.5 (swiftlang-1300.0.24.13 clang-1300.0.25.10)'). Please select a toolchain which matches the SDK.\r\nimport Network\r\n       ^\r\n/Applications/Xcode-beta.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator15.0.sdk/usr/lib/swift/Network.swiftmodule/i386-apple-ios-simulator.swiftinterface:1254:19: error: 'NWConnection' is only available in iOS 12.0 or newer\r\nextension Network.NWConnection {\r\n                  ^\r\n/Applications/Xcode-beta.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator15.0.sdk/usr/lib/swift/Network.swiftmodule/i386-apple-ios-simulator.swiftinterface:1254:1: note: add @available attribute to enclosing extension\r\nextension Network.NWConnection {\r\n^"
    email: martin.acg@gmail.com
    modified: "2021-07-19T11:45:19.097109Z"
    number: FB9360419
    number_intvalue: 9360419
    originated: July 19th 2021
    parent_number: '&{NULL_VALUE}'
    product: Xcode
    product_version: 13 beta 3  (13A5192j)
    reproducible: ""
    resolved: ""
    status: Open
    title: XCFramework fails to Archive when Apple Network framework is imported and XCFramework target is below iOS 12
