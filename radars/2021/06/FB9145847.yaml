apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: FB9145847
    labels:
        datastore_id: "5003612023422976"
data:
    classification: ""
    created: "2021-06-09T14:58:58.891896Z"
    description: "I'm trying to use the `xcodebuild` CLI tool to upload to the App Store with the \"upload\" value for \"destination\" in the \"-exportOptionsPlist\". Historically the only authentication method has been Apple ID. \r\n\r\nXcode 15 adds support for the App Store Connect API Key. This API Key is used for `-allowProvisioningUpdates` but it isn't working for the \"upload\" destination.\r\n\r\nThe reason I am trying and hoping to use upload to the App Store with `xcodebuild` is because I want to make use of the new ability to manage version number and build numbers. This is done by adding the “manageAppVersionAndBuildNumber” in the “-exportOptionsPlist”. \r\n\r\nThis does work, however, the “manageAppVersionAndBuildNumber” and “upload” only work with the Apple ID that is signed into Xcode through the preferences. Getting and updating the app version and build number and uploading the binary are all possible to do with the App Store Connect API Key in other tools.\r\n\r\nFEATURE SUGGESTION: Allow “manageAppVersionAndBuildNumber” and “upload” in \"-exportOptionsPlist\" to use the App Store Connect API Key information passed in through “-authenticationKeyPath”, “-authenticationKeyID”, and “-authenticationIssuerID” so having a logged in Apple ID through Xcode is not required"
    email: me@joshholtz.com
    modified: "2021-06-09T14:58:58.892067Z"
    number: FB9145847
    number_intvalue: 9145847
    originated: Jun 9, 2021 at 8:38 AM
    parent_number: '&{NULL_VALUE}'
    product: Xcode
    product_version: Xcode 13.0 - Beta 1 - 13A5154h
    reproducible: ""
    resolved: ""
    status: Open
    title: xcodebuild should use App Store Connect API Key for uploading to App Store with -exportOptionsPlist destination as upload
