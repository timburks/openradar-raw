apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: FB8990109
    labels:
        datastore_id: "5005277799645184"
data:
    classification: ""
    created: "2021-02-05T10:10:29.883346Z"
    description: "Xcode fails to run unit tests without host application and UI tests when running with Rosetta enabled\r\n\r\n# Please list the steps you took to reproduce the issue:\r\n- Open \"Get Info\" menu for Xcode.app. Enable \"Open using Rosetta\"\r\n- Create new Document App iOS project with name \"Example\"\r\n- Change unit test target settings under General: Host Application = None\r\n- Remove following line from the generated unit test \"@testable import Example\"\r\n- Run all tests\r\n\r\n# What did you expect to happen?\r\nI expected all tests to complete successfully\r\nWhat actually happened?\r\nI received an error for each test target:\r\n\r\n# Error for unit test target:\r\n\r\nDetails\r\n\r\nInvalid device state\r\nDomain: com.apple.CoreSimulator.SimError\r\nCode: 405\r\n--\r\n\r\n\r\nSystem Information\r\n\r\nmacOS Version 11.0.1 (Build 20B29)\r\nXcode 12.4 (17801) (Build 12D4e)\r\nTimestamp: 2021-02-04T15:56:27+03:00\r\n\r\n\r\n\r\n# Error for ui test target:\r\n\r\nDetails\r\n\r\nCould not attach to pid : “25305”\r\nDomain: IDEDebugSessionErrorDomain\r\nCode: 3\r\nFailure Reason: attach failed ((os/kern) invalid argument)\r\nUser Info: {\r\n    DVTRadarComponentKey = 855031;\r\n    RawLLDBErrorMessage = \"attach failed ((os/kern) invalid argument)\";\r\n}\r\n--\r\n\r\n\r\nSystem Information\r\n\r\nmacOS Version 11.0.1 (Build 20B29)\r\nXcode 12.4 (17801) (Build 12D4e)\r\nTimestamp: 2021-02-04T15:56:25+03:00"
    email: mail@voidless.ru
    modified: "2021-02-05T10:10:29.88353Z"
    number: FB8990109
    number_intvalue: 8990109
    originated: "2021-02-04"
    parent_number: '&{NULL_VALUE}'
    product: Xcode
    product_version: Xcode Version 12.4 (12D4e)
    reproducible: Yes
    resolved: No
    status: Open
    title: Xcode under Rosetta fails to run unit tests without host application and UI tests
