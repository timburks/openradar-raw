apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "18444866"
    labels:
        datastore_id: "5896983520739328"
data:
    classification: Crash/Hang/Data Loss
    created: "2014-09-24T20:26:06.127482Z"
    description: "Ethernet interfaces start to timeout for no apparent reason. I cannot determine a specific set of events that can reproduce this behavior, but I notice that it most often happens after waking from sleep.\r\n\r\nWhen the problem occurs, all requests on the currently active interface timeout:\r\n\r\n====\r\nMyrtle:Warbler craig$ ping 192.168.0.1\r\nPING 192.168.0.1 (192.168.0.1): 56 data bytes\r\nRequest timeout for icmp_seq 0\r\nRequest timeout for icmp_seq 1\r\nRequest timeout for icmp_seq 2\r\nRequest timeout for icmp_seq 3\r\nRequest timeout for icmp_seq 4\r\nRequest timeout for icmp_seq 5\r\n^C\r\n====\r\n\r\nSometimes, switching the physical cable from en0 to en1 (or vice versa) restores connectivity.\r\n\r\nOther behavior I've seen is that switching System Preferences > Network > <Interface> > Advanced > Hardware from \"Automatic\" to \"Manual\" sometimes causes the hardware to wake up when the changes are applied:\r\n\r\n====\r\nRequest timeout for icmp_seq 330\r\nRequest timeout for icmp_seq 331\r\nRequest timeout for icmp_seq 332\r\nRequest timeout for icmp_seq 333\r\nRequest timeout for icmp_seq 334\r\nRequest timeout for icmp_seq 335\r\nRequest timeout for icmp_seq 336\r\nping: sendto: No route to host\r\nRequest timeout for icmp_seq 337\r\nping: sendto: No route to host\r\nRequest timeout for icmp_seq 338\r\nping: sendto: No route to host\r\nRequest timeout for icmp_seq 339\r\nping: sendto: No route to host\r\nRequest timeout for icmp_seq 340\r\nping: sendto: No route to host\r\nRequest timeout for icmp_seq 341\r\n\r\n=> apply changes in Network panel of System Preferences\r\n\r\nRequest timeout for icmp_seq 342\r\n64 bytes from 192.168.0.1: icmp_seq=343 ttl=64 time=0.721 ms\r\n64 bytes from 192.168.0.1: icmp_seq=344 ttl=64 time=0.731 ms\r\n64 bytes from 192.168.0.1: icmp_seq=345 ttl=64 time=0.637 ms\r\n64 bytes from 192.168.0.1: icmp_seq=346 ttl=64 time=0.642 ms\r\n64 bytes from 192.168.0.1: icmp_seq=347 ttl=64 time=0.689 ms\r\n64 bytes from 192.168.0.1: icmp_seq=348 ttl=64 time=0.730 ms\r\n64 bytes from 192.168.0.1: icmp_seq=349 ttl=64 time=0.723 ms\r\n64 bytes from 192.168.0.1: icmp_seq=350 ttl=64 time=0.673 ms\r\n64 bytes from 192.168.0.1: icmp_seq=351 ttl=64 time=0.621 ms\r\n64 bytes from 192.168.0.1: icmp_seq=352 ttl=64 time=11.755 ms\r\nRequest timeout for icmp_seq 353\r\nRequest timeout for icmp_seq 354\r\nRequest timeout for icmp_seq 355\r\nRequest timeout for icmp_seq 356\r\nRequest timeout for icmp_seq 357\r\nRequest timeout for icmp_seq 358\r\nRequest timeout for icmp_seq 359\r\nRequest timeout for icmp_seq 360\r\n====\r\n\r\nThis also shows some consistent behavior: the ping time increases just before the interface goes dead (this machine is a Mac Pro connected to the router with Gigabit Ethernet.)\r\n\r\nTaking the interface down and back up again does something similar. In this case, the interface remained active until a web page was loaded in my browser (Google Chrome):\r\n\r\n====\r\nMyrtle:Warbler craig$ ping 192.168.0.1\r\nPING 192.168.0.1 (192.168.0.1): 56 data bytes\r\nRequest timeout for icmp_seq 0\r\nRequest timeout for icmp_seq 1\r\nRequest timeout for icmp_seq 2\r\nRequest timeout for icmp_seq 3\r\nRequest timeout for icmp_seq 4\r\n\r\n==> sudo ifconfig en1 down\r\n\r\nping: sendto: No route to host\r\nRequest timeout for icmp_seq 5\r\nping: sendto: No route to host\r\nRequest timeout for icmp_seq 6\r\nping: sendto: No route to host\r\nRequest timeout for icmp_seq 7\r\nping: sendto: No route to host\r\nRequest timeout for icmp_seq 8\r\nping: sendto: No route to host\r\nRequest timeout for icmp_seq 9\r\nping: sendto: No route to host\r\nRequest timeout for icmp_seq 10\r\nping: sendto: No route to host\r\nRequest timeout for icmp_seq 11\r\nping: sendto: No route to host\r\nRequest timeout for icmp_seq 12\r\nping: sendto: No route to host\r\nRequest timeout for icmp_seq 13\r\nping: sendto: No route to host\r\nRequest timeout for icmp_seq 14\r\nping: sendto: No route to host\r\nRequest timeout for icmp_seq 15\r\nping: sendto: No route to host\r\nRequest timeout for icmp_seq 16\r\nping: sendto: No route to host\r\nRequest timeout for icmp_seq 17\r\nping: sendto: No route to host\r\nRequest timeout for icmp_seq 18\r\n\r\n==> sudo ifconfig en1 up\r\n\r\nRequest timeout for icmp_seq 19\r\n64 bytes from 192.168.0.1: icmp_seq=20 ttl=64 time=0.596 ms\r\n64 bytes from 192.168.0.1: icmp_seq=21 ttl=64 time=0.656 ms\r\n64 bytes from 192.168.0.1: icmp_seq=22 ttl=64 time=0.722 ms\r\n64 bytes from 192.168.0.1: icmp_seq=23 ttl=64 time=0.594 ms\r\n64 bytes from 192.168.0.1: icmp_seq=24 ttl=64 time=0.714 ms\r\n64 bytes from 192.168.0.1: icmp_seq=25 ttl=64 time=0.674 ms\r\n64 bytes from 192.168.0.1: icmp_seq=26 ttl=64 time=0.751 ms\r\n64 bytes from 192.168.0.1: icmp_seq=27 ttl=64 time=0.702 ms\r\n64 bytes from 192.168.0.1: icmp_seq=28 ttl=64 time=0.741 ms\r\n64 bytes from 192.168.0.1: icmp_seq=29 ttl=64 time=0.662 ms\r\n64 bytes from 192.168.0.1: icmp_seq=30 ttl=64 time=0.677 ms\r\n64 bytes from 192.168.0.1: icmp_seq=31 ttl=64 time=0.632 ms\r\n64 bytes from 192.168.0.1: icmp_seq=32 ttl=64 time=0.702 ms\r\n64 bytes from 192.168.0.1: icmp_seq=33 ttl=64 time=0.613 ms\r\n64 bytes from 192.168.0.1: icmp_seq=34 ttl=64 time=0.750 ms\r\n64 bytes from 192.168.0.1: icmp_seq=35 ttl=64 time=0.656 ms\r\n64 bytes from 192.168.0.1: icmp_seq=36 ttl=64 time=0.752 ms\r\n64 bytes from 192.168.0.1: icmp_seq=37 ttl=64 time=0.717 ms\r\n64 bytes from 192.168.0.1: icmp_seq=38 ttl=64 time=0.722 ms\r\n64 bytes from 192.168.0.1: icmp_seq=39 ttl=64 time=0.730 ms\r\n64 bytes from 192.168.0.1: icmp_seq=40 ttl=64 time=0.707 ms\r\n64 bytes from 192.168.0.1: icmp_seq=41 ttl=64 time=0.711 ms\r\n64 bytes from 192.168.0.1: icmp_seq=42 ttl=64 time=0.763 ms\r\n64 bytes from 192.168.0.1: icmp_seq=43 ttl=64 time=0.821 ms\r\n64 bytes from 192.168.0.1: icmp_seq=44 ttl=64 time=0.670 ms\r\n64 bytes from 192.168.0.1: icmp_seq=45 ttl=64 time=0.648 ms\r\n64 bytes from 192.168.0.1: icmp_seq=46 ttl=64 time=0.748 ms\r\n64 bytes from 192.168.0.1: icmp_seq=47 ttl=64 time=0.747 ms\r\n64 bytes from 192.168.0.1: icmp_seq=48 ttl=64 time=0.817 ms\r\n\r\n==> load web page\r\n\r\nRequest timeout for icmp_seq 49\r\nRequest timeout for icmp_seq 50\r\nRequest timeout for icmp_seq 51\r\nRequest timeout for icmp_seq 52\r\nRequest timeout for icmp_seq 53\r\nRequest timeout for icmp_seq 54\r\nRequest timeout for icmp_seq 55\r\nRequest timeout for icmp_seq 56\r\nRequest timeout for icmp_seq 57\r\nRequest timeout for icmp_seq 58\r\nRequest timeout for icmp_seq 59\r\nRequest timeout for icmp_seq 60\r\n====\r\n\r\nFinally, if I change the interface to use an address supplied by DHCP, I get back a 169.254.132.* self-assigned IP address. More proof that the hardware is wedged.\r\n\r\nAt present, the only way I know to fix this problem is to restart my Mac. For a machine that used to go months between restarts, doing it every day or two is a real disruption to my productivity.\r\n\r\nNote:\r\n\r\nI have included a system report and screenshots of my Network settings."
    email: craig.hockenberry@gmail.com
    modified: "2014-09-24T20:26:06.127753Z"
    number: "18444866"
    number_intvalue: 18444866
    originated: ""
    parent_number: '&{NULL_VALUE}'
    product: OS X
    product_version: 10.10 (14A361c)
    reproducible: Sometimes
    resolved: ""
    status: Open
    title: Ethernet connectivity drops periodically
