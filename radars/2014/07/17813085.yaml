apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "17813085"
    labels:
        datastore_id: "5207406925578240"
data:
    classification: Data Loss
    created: "2014-07-25T21:17:27.448835Z"
    description: "I have an app that responds to significant change notifications. When I start and use the app I save some information to the NSUserDefaults. After the phone reboots my app wakes up because iOS provides a significant change notification.\r\n\r\nWhen my app wakes up I make sure that nothing touches NSUserDefaults unless protected data is available. However, something still creates a fresh set of empty defaults. Those defaults hang around in memory.\r\n\r\nIf I then unlock my phone and open the app the blank set of defaults are synchronized and all of my data is gone.\r\n\r\nNotes:\r\n-If I unlock the phone, but do not start the app and examine the preferences file everything is still there.\r\n-If I unlock my phone, then force quit my app, and then open it everything is fine."
    email: mike@placed.com
    modified: "2015-01-21T19:56:55.818248Z"
    number: "17813085"
    number_intvalue: 17813085
    originated: 25-Jul-2014
    parent_number: '&{NULL_VALUE}'
    product: iOS
    product_version: 7.1.2
    reproducible: Always
    resolved: YES
    status: Open
    title: NSUserDefaults are reset (possible duplicate rdar://10535951)
