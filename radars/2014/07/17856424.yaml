apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "17856424"
    labels:
        datastore_id: "5888821472264192"
data:
    classification: Crash
    created: "2014-07-30T15:49:11.425392Z"
    description: "Some record owned by an Apple-internal SocketStream C++ class crashed in its destructor. So, some pointer it directly owns seems to have been freed elsewhere.\r\n\r\nNote: We're using Mutual TLS.\r\n\r\n\r\nException Type:  EXC_CRASH (SIGSEGV)\r\nException Codes: 0x0000000000000000, 0x0000000000000000\r\nTriggered by Thread:  0\r\n\r\nThread 0 Crashed:\r\n0   libsystem_kernel.dylib          0x38f74a8c mach_msg_trap + 20\r\n1   libsystem_kernel.dylib          0x38f74888 mach_msg + 44\r\n2   CoreFoundation                  0x2e28c7c6 __CFRunLoopServiceMachPort + 150\r\n3   CoreFoundation                  0x2e28af32 __CFRunLoopRun + 850\r\n4   CoreFoundation                  0x2e1f5ce2 CFRunLoopRunSpecific + 518\r\n5   CoreFoundation                  0x2e1f5ac6 CFRunLoopRunInMode + 102\r\n6   GraphicsServices                0x32ee327e GSEventRunModal + 134\r\n7   UIKit                           0x30a97a3c UIApplicationMain + 1132\r\n8   MyAppName                       0x000c87ca 0xc1000 + 30666\r\n9   libdyld.dylib                   0x38ed0ab4 start + 0\r\n\r\nThread 1:\r\n0   libsystem_kernel.dylib          0x38f7483c kevent64 + 24\r\n1   libdispatch.dylib               0x38eb5220 _dispatch_mgr_invoke + 228\r\n2   libdispatch.dylib               0x38eb4fa6 _dispatch_mgr_thread$VARIANT$mp + 34\r\n\r\nThread 2:\r\n0   CFNetwork                       0x2debe2f8 SocketStream::~SocketStream() + 284\r\n1   CFNetwork                       0x2debe1c8 SocketStream::~SocketStream() + 16\r\n2   CoreFoundation                  0x2e1f26b4 CFRelease + 460\r\n3   libdispatch.dylib               0x38eabd78 _dispatch_call_block_and_release + 8\r\n4   libdispatch.dylib               0x38eb2292 _dispatch_queue_drain$VARIANT$mp + 370\r\n5   libdispatch.dylib               0x38eb2096 _dispatch_queue_invoke$VARIANT$mp + 38\r\n6   libdispatch.dylib               0x38eb2d12 _dispatch_root_queue_drain + 74\r\n7   libdispatch.dylib               0x38eb2f88 _dispatch_worker_thread2 + 52\r\n8   libsystem_pthread.dylib         0x38feddbc _pthread_wqthread + 296\r\n9   libsystem_pthread.dylib         0x38fedc80 start_wqthread + 4\r\n\r\nThread 3 name:  WebThread\r\nThread 3:\r\n0   libsystem_kernel.dylib          0x38f74a8c mach_msg_trap + 20\r\n1   libsystem_kernel.dylib          0x38f74888 mach_msg + 44\r\n2   CoreFoundation                  0x2e28c7c6 __CFRunLoopServiceMachPort + 150\r\n3   CoreFoundation                  0x2e28aeec __CFRunLoopRun + 780\r\n4   CoreFoundation                  0x2e1f5ce2 CFRunLoopRunSpecific + 518\r\n5   CoreFoundation                  0x2e1f5ac6 CFRunLoopRunInMode + 102\r\n6   WebCore                         0x3636bbae RunWebThread(void*) + 414\r\n7   libsystem_pthread.dylib         0x38fefc1a _pthread_body + 138\r\n8   libsystem_pthread.dylib         0x38fefb8a _pthread_start + 98\r\n9   libsystem_pthread.dylib         0x38fedc8c thread_start + 4\r\n\r\nThread 4 name:  com.apple.NSURLConnectionLoader\r\nThread 4:\r\n0   libsystem_kernel.dylib          0x38f74a8c mach_msg_trap + 20\r\n1   libsystem_kernel.dylib          0x38f74888 mach_msg + 44\r\n2   CoreFoundation                  0x2e28c7c6 __CFRunLoopServiceMachPort + 150\r\n3   CoreFoundation                  0x2e28aeec __CFRunLoopRun + 780\r\n4   CoreFoundation                  0x2e1f5ce2 CFRunLoopRunSpecific + 518\r\n5   CoreFoundation                  0x2e1f5ac6 CFRunLoopRunInMode + 102\r\n6   Foundation                      0x2ec2f492 +[NSURLConnection(Loader) _resourceLoadLoop:] + 314\r\n7   Foundation                      0x2eca4e22 __NSThread__main__ + 1058\r\n8   libsystem_pthread.dylib         0x38fefc1a _pthread_body + 138\r\n9   libsystem_pthread.dylib         0x38fefb8a _pthread_start + 98\r\n10  libsystem_pthread.dylib         0x38fedc8c thread_start + 4\r\n\r\nThread 5:\r\n0   libsystem_kernel.dylib          0x38f74a8c mach_msg_trap + 20\r\n1   libsystem_kernel.dylib          0x38f74888 mach_msg + 44\r\n2   CoreFoundation                  0x2e28c7c6 __CFRunLoopServiceMachPort + 150\r\n3   CoreFoundation                  0x2e28aeec __CFRunLoopRun + 780\r\n4   CoreFoundation                  0x2e1f5ce2 CFRunLoopRunSpecific + 518\r\n5   CoreFoundation                  0x2e1f5ac6 CFRunLoopRunInMode + 102\r\n6   libAVFAudio.dylib               0x2d1e7584 GenericRunLoopThread::Entry(void*) + 124\r\n7   libAVFAudio.dylib               0x2d1dba94 CAPThread::Entry(CAPThread*) + 176\r\n8   libsystem_pthread.dylib         0x38fefc1a _pthread_body + 138\r\n9   libsystem_pthread.dylib         0x38fefb8a _pthread_start + 98\r\n10  libsystem_pthread.dylib         0x38fedc8c thread_start + 4\r\n\r\nThread 6 name:  com.apple.CFSocket.private\r\nThread 6:\r\n0   libsystem_kernel.dylib          0x38f87440 __select + 20\r\n1   CoreFoundation                  0x2e290688 __CFSocketManager + 480\r\n2   libsystem_pthread.dylib         0x38fefc1a _pthread_body + 138\r\n3   libsystem_pthread.dylib         0x38fefb8a _pthread_start + 98\r\n4   libsystem_pthread.dylib         0x38fedc8c thread_start + 4\r\n\r\nThread 7 name:  JavaScriptCore::BlockFree\r\nThread 7:\r\n0   libsystem_kernel.dylib          0x38f86f38 __psynch_cvwait + 24\r\n1   libsystem_pthread.dylib         0x38fef224 _pthread_cond_wait + 536\r\n2   libsystem_pthread.dylib         0x38ff0000 pthread_cond_wait + 36\r\n3   JavaScriptCore                  0x2f219d58 JSC::BlockAllocator::blockFreeingThreadMain() + 204\r\n4   JavaScriptCore                  0x2f2173a8 WTF::wtfThreadEntryPoint(void*) + 12\r\n5   libsystem_pthread.dylib         0x38fefc1a _pthread_body + 138\r\n6   libsystem_pthread.dylib         0x38fefb8a _pthread_start + 98\r\n7   libsystem_pthread.dylib         0x38fedc8c thread_start + 4\r\n\r\nThread 8 name:  JavaScriptCore::Marking\r\nThread 8:\r\n0   libsystem_kernel.dylib          0x38f86f38 __psynch_cvwait + 24\r\n1   libsystem_pthread.dylib         0x38fef224 _pthread_cond_wait + 536\r\n2   libsystem_pthread.dylib         0x38ff0000 pthread_cond_wait + 36\r\n3   JavaScriptCore                  0x2f3b523e JSC::GCThread::waitForNextPhase() + 74\r\n4   JavaScriptCore                  0x2f3b5298 JSC::GCThread::gcThreadMain() + 48\r\n5   JavaScriptCore                  0x2f2173a8 WTF::wtfThreadEntryPoint(void*) + 12\r\n6   libsystem_pthread.dylib         0x38fefc1a _pthread_body + 138\r\n7   libsystem_pthread.dylib         0x38fefb8a _pthread_start + 98\r\n8   libsystem_pthread.dylib         0x38fedc8c thread_start + 4\r\n\r\nThread 9 name:  WebCore: CFNetwork Loader\r\nThread 9:\r\n0   libsystem_kernel.dylib          0x38f74a8c mach_msg_trap + 20\r\n1   libsystem_kernel.dylib          0x38f74888 mach_msg + 44\r\n2   CoreFoundation                  0x2e28c7c6 __CFRunLoopServiceMachPort + 150\r\n3   CoreFoundation                  0x2e28aeec __CFRunLoopRun + 780\r\n4   CoreFoundation                  0x2e1f5ce2 CFRunLoopRunSpecific + 518\r\n5   CoreFoundation                  0x2e1f5ac6 CFRunLoopRunInMode + 102\r\n6   WebCore                         0x363b472a WebCore::runLoaderThread(void*) + 250\r\n7   JavaScriptCore                  0x2f2173a8 WTF::wtfThreadEntryPoint(void*) + 12\r\n8   libsystem_pthread.dylib         0x38fefc1a _pthread_body + 138\r\n9   libsystem_pthread.dylib         0x38fefb8a _pthread_start + 98\r\n10  libsystem_pthread.dylib         0x38fedc8c thread_start + 4\r\n\r\nThread 10:\r\n0   libsystem_kernel.dylib          0x38f86f38 __psynch_cvwait + 24\r\n1   libsystem_pthread.dylib         0x38fef224 _pthread_cond_wait + 536\r\n2   libsystem_pthread.dylib         0x38ff0000 pthread_cond_wait + 36\r\n3   Foundation                      0x2ec2f592 -[NSCondition wait] + 190\r\n4   MyAppName                       0x000f6430 0xc1000 + 218160\r\n5   Foundation                      0x2eca4e22 __NSThread__main__ + 1058\r\n6   libsystem_pthread.dylib         0x38fefc1a _pthread_body + 138\r\n7   libsystem_pthread.dylib         0x38fefb8a _pthread_start + 98\r\n8   libsystem_pthread.dylib         0x38fedc8c thread_start + 4\r\n\r\nThread 11:\r\n0   libsystem_kernel.dylib          0x38f74a8c mach_msg_trap + 20\r\n1   libsystem_kernel.dylib          0x38f74888 mach_msg + 44\r\n2   CoreFoundation                  0x2e28c7c6 __CFRunLoopServiceMachPort + 150\r\n3   CoreFoundation                  0x2e28aeec __CFRunLoopRun + 780\r\n4   CoreFoundation                  0x2e1f5ce2 CFRunLoopRunSpecific + 518\r\n5   CoreFoundation                  0x2e1f5ac6 CFRunLoopRunInMode + 102\r\n6   AudioToolbox                    0x2db526a4 GenericRunLoopThread::Entry(void*) + 124\r\n7   AudioToolbox                    0x2db338f0 CAPThread::Entry(CAPThread*) + 208\r\n8   libsystem_pthread.dylib         0x38fefc1a _pthread_body + 138\r\n9   libsystem_pthread.dylib         0x38fefb8a _pthread_start + 98\r\n10  libsystem_pthread.dylib         0x38fedc8c thread_start + 4\r\n\r\nThread 12:\r\n0   libsystem_kernel.dylib          0x38f87c7c __workq_kernreturn + 8\r\n1   libsystem_pthread.dylib         0x38feddc6 _pthread_wqthread + 306\r\n2   libsystem_pthread.dylib         0x38fedc80 start_wqthread + 4\r\n\r\nThread 13 name:  AFNetworking\r\nThread 13:\r\n0   libsystem_kernel.dylib          0x38f74a8c mach_msg_trap + 20\r\n1   libsystem_kernel.dylib          0x38f74888 mach_msg + 44\r\n2   CoreFoundation                  0x2e28c7c6 __CFRunLoopServiceMachPort + 150\r\n3   CoreFoundation                  0x2e28aeec __CFRunLoopRun + 780\r\n4   CoreFoundation                  0x2e1f5ce2 CFRunLoopRunSpecific + 518\r\n5   CoreFoundation                  0x2e1f5ac6 CFRunLoopRunInMode + 102\r\n6   Foundation                      0x2ebe2576 -[NSRunLoop(NSRunLoop) runMode:beforeDate:] + 250\r\n7   Foundation                      0x2ec334ac -[NSRunLoop(NSRunLoop) run] + 76\r\n8   MyAppName                       0x0086be26 0xc1000 + 8039974\r\n9   Foundation                      0x2eca4e22 __NSThread__main__ + 1058\r\n10  libsystem_pthread.dylib         0x38fefc1a _pthread_body + 138\r\n11  libsystem_pthread.dylib         0x38fefb8a _pthread_start + 98\r\n12  libsystem_pthread.dylib         0x38fedc8c thread_start + 4\r\n\r\nThread 14:\r\n0   libsystem_kernel.dylib          0x38f74a8c mach_msg_trap + 20\r\n1   libsystem_kernel.dylib          0x38f74888 mach_msg + 44\r\n2   CoreFoundation                  0x2e28c7c6 __CFRunLoopServiceMachPort + 150\r\n3   CoreFoundation                  0x2e28aeec __CFRunLoopRun + 780\r\n4   CoreFoundation                  0x2e1f5ce2 CFRunLoopRunSpecific + 518\r\n5   CoreFoundation                  0x2e2397fe CFRunLoopRun + 94\r\n6   CoreMotion                      0x2e8ac270 ___lldb_unnamed_function1404$$CoreMotion + 724\r\n7   libsystem_pthread.dylib         0x38fefc1a _pthread_body + 138\r\n8   libsystem_pthread.dylib         0x38fefb8a _pthread_start + 98\r\n9   libsystem_pthread.dylib         0x38fedc8c thread_start + 4\r\n\r\nThread 15:\r\n0   libsystem_kernel.dylib          0x38f87c7c __workq_kernreturn + 8\r\n1   libsystem_pthread.dylib         0x38feddc6 _pthread_wqthread + 306\r\n2   libsystem_pthread.dylib         0x38fedc80 start_wqthread + 4\r\n\r\nThread 0 crashed with ARM Thread State (32-bit):\r\n    r0: 0x10004005    r1: 0x07000006      r2: 0x00000000      r3: 0x00000c00\r\n    r4: 0x00001a03    r5: 0xffffffff      r6: 0x00000000      r7: 0x27d41e6c\r\n    r8: 0x00000000    r9: 0x00000001     r10: 0x00001a03     r11: 0x00000c00\r\n    ip: 0xffffffe1    sp: 0x27d41e2c      lr: 0x38f7488d      pc: 0x38f74a8c\r\n  cpsr: 0x60000010"
    email: kol.kheang@gmail.com
    modified: "2014-07-30T15:49:11.425551Z"
    number: "17856424"
    number_intvalue: 17856424
    originated: 07/30/2014
    parent_number: '&{NULL_VALUE}'
    product: iOS
    product_version: Version 7.0.2 (Build 11A501)
    reproducible: ""
    resolved: ""
    status: Open
    title: Double freeing of memory in SocketStream::~SocketStream() of CFNetwork
