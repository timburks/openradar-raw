apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "17363898"
    labels:
        datastore_id: "5328047725084672"
data:
    classification: Serious Bug
    created: "2014-06-18T18:22:12.787349Z"
    description: "Summary:\r\nRunning instruments from the command line without a specific device selected via the `-w` flag results in the error \"Automation is not available for this type of application\"\r\n\r\nSteps to Reproduce:\r\n1. Install Xcode/CLI tools\r\n2. Run a basic instruments CLI command with an iOS8 test application/script:\r\n\r\n/Applications/Xcode6-Beta.app/Contents/Developer/usr/bin/instruments -t /Applications/Xcode6-beta.app/Contents/Applications/Instruments.app/Contents/PlugIns/AutomationInstrument.xrplugin/Contents/Resources/Automation.tracetemplate /path/to/my.app -e UIASCRIPT /path/to/my/test.js -e UIARESULTSPATH /tmp\r\n\r\nExpected Results:\r\nI expect the simulator to launch with the default device and run my app and test script, the way it does in Instruments 5\r\n\r\nActual Results:\r\nWe see this error:\r\n\r\n2014-06-18 18:17:13 +0000 Fail: Exception: Automation is not available for this type of application.\r\n\r\nVerbose mode gives us some more information:\r\n\r\nInstruments : template : file:///Applications/Xcode6-beta.app/Contents/Applications/Instruments.app/Contents/PlugIns/AutomationInstrument.xrplugin/Contents/Resources/Automation.tracetemplate\r\nInstruments : Plugin Search Paths (\r\n    \"/Applications/Xcode6-Beta.app/Contents/Applications/Instruments.app/Contents/PlugIns\",\r\n    \"/Applications/Xcode6-Beta.app/Contents/Applications/Instruments.app/Contents/PlugIns\",\r\n    \"/Applications/Xcode6-Beta.app/Contents/Applications/Instruments.app/Contents/PlugIns/DTracePlugin\",\r\n    \"/Applications/Xcode6-Beta.app/Contents/Developer/Platforms/MacOSX.platform/Developer/Library/Instruments/PlugIns\"\r\n)\r\nInstruments : Loaded Instruments (\r\n    \"Instrument Type (name:Signposts; category:Behavior; uuid:com.apple.xray.instrument-type.signpost)\",\r\n<snip>\r\n \"Instrument Type (name:Automation; category:UI Automation; uuid:com.apple.xray.instrument-type.UIAutomation)\"\r\n)\r\nInstruments : Loading template 'file:///Applications/Xcode6-beta.app/Contents/Applications/Instruments.app/Contents/PlugIns/AutomationInstrument.xrplugin/Contents/Resources/Automation.tracetemplate'\r\nInstruments : Setting Instrument Trace Command : Instrument Command (purpose:Idle; output destination:file:///Users/saucelabs/Code/appium/instrumentscli8.trace)\r\nInstruments : Trace Command Recognized\r\nInstruments : (null)\r\nInstruments : (null)\r\nInstruments : Instruments Accepted Command\r\nInstruments : Preparing To Start Trace\r\nInstruments : Starting Instrument(s)\r\n2014-06-18 18:19:17 +0000 Fail: Exception: Automation is not available for this type of application.\r\nInstruments : Stopping Instrument(s)\r\n2014-06-18 11:19:18.898 instruments[84155:440245] Output Paths: (\r\n    \"/Users/saucelabs/Code/appium/instrumentscli8.trace\",\r\n    \"/Users/saucelabs/Code/appium/instrumentscli8.trace/instrument_data\",\r\n    \"/Users/saucelabs/Code/appium/instrumentscli8.trace/form.template\",\r\n    \"/Users/saucelabs/Code/appium/instrumentscli8.trace/Trace1.run\",\r\n    \"/Users/saucelabs/Code/appium/instrumentscli8.trace/instrument_data/1E2B732A-6DCA-48F6-9272-CF92DECBC024\",\r\n    \"/Users/saucelabs/Code/appium/instrumentscli8.trace/instrument_data/1E2B732A-6DCA-48F6-9272-CF92DECBC024/run_data\",\r\n    \"/Users/saucelabs/Code/appium/instrumentscli8.trace/shared_data/1.run\",\r\n    \"/Users/saucelabs/Code/appium/instrumentscli8.trace/instrument_data/1E2B732A-6DCA-48F6-9272-CF92DECBC024/run_data/1.run.zip\"\r\n)\r\nInstruments Trace Complete (Duration : 1.132321s; Output : /Users/saucelabs/Code/appium/instrumentscli8.trace)\r\n\r\nVersion:\r\nXcode 6\r\nInstruments 6\r\nOS X 10.10\r\n\r\nNotes:\r\nI also can't get an automation trace to successfully start from Instruments.app. It will start the app (so it gets further than instruments CLI), but even a simple 1-line UIAutomation script will immediately fail with no information given as to the reason\r\n\r\nRelated bugs: 17363642\r\n\r\nConfiguration:\r\nAll configurations"
    email: jlipps@gmail.com
    modified: "2014-07-22T18:10:53.050539Z"
    number: "17363898"
    number_intvalue: 17363898
    originated: 6/18/2014
    parent_number: '&{NULL_VALUE}'
    product: Instruments
    product_version: "6"
    reproducible: Always
    resolved: 7/22/2014
    status: Resolved
    title: Instruments CLI will not launch iOS8 automation trace (
