apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "17233107"
    labels:
        datastore_id: "5536341827780608"
data:
    classification: ""
    created: "2014-06-09T16:25:56.860534Z"
    description: "Summary:\r\nBuilding a static library containing Swift code ends up passing unknown option flags to libtool, causing a build error.\r\n\r\nSteps to Reproduce:\r\n1. In Xcode, create a new Cocoa Touch Static Library project.\r\n2. Build the project. The build succeeds, producing a libRapid.a static library.\r\n3. Add a new Swift file to the project, using the \"iOS > Source > Swift File\" template.\r\n4. Build the project.\r\n\r\nExpected Results:\r\nThe build succeeds, producing a libRapid.a static library.\r\n\r\nActual Results:\r\nThe build fails. Xcode displays the following error (the static library in this case is called \"Rapid\"):\r\n\r\nLibtool /Users/modocache/Library/Developer/Xcode/DerivedData/Rapid-bfetfasodnmpvmfcsxegitstdhad/Build/Products/Debug-iphonesimulator/libRapid.a normal i386\r\n    cd /Users/modocache/Desktop/Rapid\r\n    export IPHONEOS_DEPLOYMENT_TARGET=8.0\r\n    export PATH=\"/Applications/Xcode6-Beta.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin:/Applications/Xcode6-Beta.app/Contents/Developer/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin\"\r\n    /Applications/Xcode6-Beta.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/libtool -static -arch_only i386 -syslibroot /Applications/Xcode6-Beta.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator8.0.sdk -L/Users/modocache/Library/Developer/Xcode/DerivedData/Rapid-bfetfasodnmpvmfcsxegitstdhad/Build/Products/Debug-iphonesimulator -filelist /Users/modocache/Library/Developer/Xcode/DerivedData/Rapid-bfetfasodnmpvmfcsxegitstdhad/Build/Intermediates/Rapid.build/Debug-iphonesimulator/Rapid.build/Objects-normal/i386/Rapid.LinkFileList -ObjC -L/Applications/Xcode6-Beta.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/swift/iphonesimulator -Xlinker -rpath -Xlinker /Applications/Xcode6-Beta.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/swift/iphonesimulator -Xlinker -force_load -Xlinker /Applications/Xcode6-Beta.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/arc/libarclite_iphonesimulator.a -Xlinker -sectalign -Xlinker __SWIFT -Xlinker __ast -Xlinker 4 -Xlinker -sectcreate -Xlinker __SWIFT -Xlinker __ast -Xlinker /Users/modocache/Library/Developer/Xcode/DerivedData/Rapid-bfetfasodnmpvmfcsxegitstdhad/Build/Intermediates/Rapid.build/Debug-iphonesimulator/Rapid.build/Objects-normal/i386/Rapid.swiftmodule -o /Users/modocache/Library/Developer/Xcode/DerivedData/Rapid-bfetfasodnmpvmfcsxegitstdhad/Build/Products/Debug-iphonesimulator/libRapid.a\r\n\r\nerror: /Applications/Xcode6-Beta.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/libtool: unknown option character `X' in: -Xlinker\r\nUsage: /Applications/Xcode6-Beta.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/libtool -static [-] file [...] [-filelist listfile[,dirname]] [-arch_only arch] [-sacLT] [-no_warning_for_no_symbols]\r\nUsage: /Applications/Xcode6-Beta.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/libtool -dynamic [-] file [...] [-filelist listfile[,dirname]] [-arch_only arch] [-o output] [-install_name name] [-compatibility_version #] [-current_version #] [-seg1addr 0x#] [-segs_read_only_addr 0x#] [-segs_read_write_addr 0x#] [-seg_addr_table <filename>] [-seg_addr_table_filename <file_system_path>] [-all_load] [-noall_load]\r\n\r\nVersion:\r\nXcode Version 6.0 (6A215l) & OS X 10.9.3 (13D65)\r\n\r\nNotes:\r\n\r\n\r\nConfiguration:\r\n\r\n\r\nAttachments:\r\n\r\n---\r\n\r\nApple Developer Relations:\r\nEngineering has determined that this issue behaves as intended based on the following:\r\n\r\nThis is correct behavior.  Building static archives is not supported.\r\n\r\nWe are now closing this bug report.\r\n\r\nIf you have questions regarding the resolution of this issue, please update your bug report with that information.\r\n\r\nPlease be sure to regularly check new Apple releases for any updates that might affect this issue."
    email: B.Gesiak@gmail.com
    modified: "2014-09-15T19:30:21.071693Z"
    number: "17233107"
    number_intvalue: 17233107
    originated: 10-Jun-2014 01:24 AM
    parent_number: '&{NULL_VALUE}'
    product: Developer Tools
    product_version: ""
    reproducible: ""
    resolved: 20-Aug-2014 05:52 PM
    status: 'Closed: Intended behavior'
    title: Cannot build static library project containing Swift code
