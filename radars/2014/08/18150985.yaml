apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "18150985"
    labels:
        datastore_id: "4933288959410176"
data:
    classification: Serious Bug
    created: "2014-08-27T18:47:03.796573Z"
    description: "Example project:\r\nhttps://www.dropbox.com/s/2rswzao0k7s1zm0/WindowNotSizing.zip?dl=0\r\n\r\nSummary:\r\nWhen a landscape only UIViewController is created and set as the root view controller of a UIWindow, the view controller is incorrectly displayed/sized (as if it was in portrait). This does not occur in iOS 7.\r\n\r\nhttps://www.dropbox.com/s/08p6s9aep9fx39g/Screenshot%202014-08-27%2011.23.54.png?dl=0\r\n\r\nOur specific use case for this is the Heyzap Advertising SDK. When displaying a fullscreen video ad, we create a new window and set a landscape only UIViewController as its rootViewController, then call `makeKeyAndVisible` on the window to display the ad. \r\n\r\nSeveral people are experiencing the same problem, though they're not second window at runtime, but rather having this problem with a landscape only root view controller:\r\n\r\nhttps://devforums.apple.com/thread/240069?tstart=15\r\nOne dev from there says he filed a bug #17960800 about this.\r\n\r\nSteps to Reproduce:\r\n(See the attached sample project zip file; it already has this implemented with helpful NSLog statements)\r\n\r\n1. Create a new Xcode project (I used Xcode6-Beta6)\r\n2. Create a LandscapeOnlyViewController class with these methods implemented:\r\n\r\n- (void)viewDidLoad {\r\n    [super viewDidLoad];\r\n    self.view.backgroundColor = [UIColor greenColor];\r\n    \r\n}\r\n\r\n- (NSUInteger)supportedInterfaceOrientations {\r\n    return UIInterfaceOrientationMaskLandscapeRight;\r\n}\r\n\r\n3. In the App Delegate, create a new window after the app launches, making sure to hold a strong reference to it:\r\n\r\n@property (nonatomic, strong) UIWindow *secondWindow;\r\n\r\ndispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(2 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^{\r\n        self.secondWindow = [[UIWindow alloc] initWithFrame:[UIScreen mainScreen].bounds];\r\n        LandscapeOnlyViewController *vc = [[LandscapeOnlyViewController alloc] init];\r\n        self.secondWindow.rootViewController = vc;\r\n        [self.secondWindow makeKeyAndVisible];\r\n    });\r\n\r\n4. Run the app\r\n\r\nExpected Results:\r\nThe LandscapeOnlyViewController's view covers the screen in a landscape orientation.\r\n\r\nActual Results:\r\nThe view looks to still be in portrait, despite the device being in landscape\r\n\r\nhttps://www.dropbox.com/s/08p6s9aep9fx39g/Screenshot%202014-08-27%2011.23.54.png?dl=0\r\n\r\niOS 7 vs iOS 8 logs\r\n\r\n2014-08-27 11:11:17.466 WindowNotSizing[43242:70b] iOS Version = 7.0.3\r\n2014-08-27 11:11:17.467 WindowNotSizing[43242:70b] View bounds = {{0, 0}, {568, 320}}\r\n2014-08-27 11:11:17.468 WindowNotSizing[43242:70b] View frame = {{0, 0}, {320, 568}}\r\n2014-08-27 11:11:17.468 WindowNotSizing[43242:70b] View transform = [0, 1, -1, 0, 0, 0]\r\n2014-08-27 11:11:17.468 WindowNotSizing[43242:70b] Window bounds = {{0, 0}, {320, 568}}\r\n2014-08-27 11:11:17.469 WindowNotSizing[43242:70b] Window frame = {{0, 0}, {320, 568}}\r\n2014-08-27 11:11:17.469 WindowNotSizing[43242:70b] Window transform = [1, 0, 0, 1, 0, 0]\r\n2014-08-27 11:11:17.469 WindowNotSizing[43242:70b] Screen bounds = {{0, 0}, {320, 568}}\r\n\r\n\r\n\r\n2014-08-27 11:10:42.611 WindowNotSizing[43168:325209] iOS Version = 8.0\r\n2014-08-27 11:10:42.612 WindowNotSizing[43168:325209] View bounds = {{0, 0}, {320, 568}}\r\n2014-08-27 11:10:42.612 WindowNotSizing[43168:325209] View frame = {{0, 0}, {320, 568}}\r\n2014-08-27 11:10:42.612 WindowNotSizing[43168:325209] View transform = [1, 0, 0, 1, 0, 0]\r\n2014-08-27 11:10:42.612 WindowNotSizing[43168:325209] Window bounds = {{0, 0}, {320, 568}}\r\n2014-08-27 11:10:42.612 WindowNotSizing[43168:325209] Window frame = {{0, 0}, {320, 568}}\r\n2014-08-27 11:10:42.612 WindowNotSizing[43168:325209] Window transform = [1, 0, 0, 1, 0, 0]\r\n2014-08-27 11:10:42.613 WindowNotSizing[43168:325209] Screen bounds = {{0, 0}, {568, 320}}\r\n\r\nVersion:\r\niOS Simulator Version 8.0 (550) // Xcode Version 6.0 (6A280e)\r\n\r\nNotes:\r\n\r\n\r\nConfiguration:\r\niOS Simulator"
    email: feedback.tagher@gmail.com
    modified: "2014-08-27T18:47:03.796774Z"
    number: "18150985"
    number_intvalue: 18150985
    originated: Aug 27, 2014
    parent_number: '&{NULL_VALUE}'
    product: iOS SDK
    product_version: Xcode6-Beta6 (8.0 simulator)
    reproducible: Always
    resolved: ""
    status: Open
    title: 'iOS 8: Landscape UIViewController not being displayed correctly in new UIWindow'
