apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "17986478"
    labels:
        datastore_id: "5869589682454528"
data:
    classification: Serious Bug
    created: "2014-08-12T03:58:10.457Z"
    description: "Summary:\r\nA type variable can be specified as part of a protocol but any attempt to conform to that protocol by implementing the type variable in other objects causes a segfault.\r\n\r\nSteps to Reproduce:\r\n1. Create a new Swift file\r\n2. Define a protocol\r\n3. Add a type variable to the protocol\r\n4. Define an object that conforms to the protocol\r\n5. Implement the type variable in the object\r\n6. Execute the file using `xcrun swift` or add it to a target in an Xcode project and attempt to build.\r\n\r\nExpected Results:\r\nThe type variable can be accessed on objects that implement the protocol.\r\n\r\nActual Results:\r\n0  swift                    0x000000010900fb58 llvm::sys::PrintStackTrace(__sFILE*) + 40\r\n1  swift                    0x0000000109010044 SignalHandler(int) + 452\r\n2  libsystem_platform.dylib 0x00007fff8d4775aa _sigtramp + 26\r\n3  libsystem_platform.dylib 0x00007fff57870f68 _sigtramp + 3393165784\r\n4  swift                    0x00000001084af078 (anonymous namespace)::ArgEmitter::emit(swift::Lowering::RValueSource&&, swift::Lowering::AbstractionPattern) + 424\r\n5  swift                    0x00000001084a8c18 (anonymous namespace)::CallEmission::apply(swift::Lowering::SGFContext) + 1080\r\n6  swift                    0x00000001084ab246 swift::Lowering::SILGenFunction::emitGetAccessor(swift::SILLocation, swift::AbstractStorageDecl*, llvm::ArrayRef<swift::Substitution>, swift::Lowering::RValueSource&&, bool, swift::Lowering::RValue&&, swift::Lowering::SGFContext) + 1254\r\n7  swift                    0x00000001084c0da1 swift::Lowering::SILGenFunction::emitRValueForDecl(swift::SILLocation, swift::ConcreteDeclRef, swift::Type, swift::Lowering::SGFContext) + 1745\r\n8  swift                    0x00000001084c11a8 swift::Lowering::SILGenFunction::emitRValueForPropertyLoad(swift::SILLocation, swift::Lowering::ManagedValue, bool, swift::VarDecl*, llvm::ArrayRef<swift::Substitution>, bool, swift::Type, swift::Lowering::SGFContext) + 248\r\n9  swift                    0x00000001084d54c2 swift::ASTVisitor<(anonymous namespace)::RValueEmitter, swift::Lowering::RValue, void, void, void, void, void, swift::Lowering::SGFContext>::visit(swift::Expr*, swift::Lowering::SGFContext) + 27298\r\n10 swift                    0x00000001084bf096 swift::Lowering::SILGenFunction::emitRValue(swift::Expr*, swift::Lowering::SGFContext) + 22\r\n11 swift                    0x00000001084f36c7 swift::Lowering::SILGenFunction::emitReturnExpr(swift::SILLocation, swift::Expr*) + 359\r\n12 swift                    0x00000001084f627d swift::ASTVisitor<swift::Lowering::SILGenFunction, void, void, void, void, void, void>::visit(swift::Stmt*) + 141\r\n13 swift                    0x00000001084f3368 swift::Lowering::SILGenFunction::visitBraceStmt(swift::BraceStmt*) + 232\r\n14 swift                    0x00000001084f6284 swift::ASTVisitor<swift::Lowering::SILGenFunction, void, void, void, void, void, void>::visit(swift::Stmt*) + 148\r\n15 swift                    0x00000001084c41d3 swift::Lowering::SILGenFunction::emitFunction(swift::FuncDecl*) + 243\r\n16 swift                    0x00000001084a4096 swift::Lowering::SILGenModule::emitFunction(swift::FuncDecl*) + 230\r\n17 swift                    0x00000001084be073 swift::ASTVisitor<SILGenType, void, void, void, void, void, void>::visit(swift::Decl*) + 355\r\n18 swift                    0x00000001084bc9fb SILGenType::emitType() + 203\r\n19 swift                    0x00000001084b79de swift::Lowering::SILGenModule::visitNominalTypeDecl(swift::NominalTypeDecl*) + 30\r\n20 swift                    0x00000001084a600b swift::Lowering::SILGenModule::emitSourceFile(swift::SourceFile*, unsigned int) + 411\r\n2\r\n\r\nVersion:\r\nXcode6-Beta5 (6A279r)\r\n\r\nAttachments:\r\n'SwiftProtocolTypeVariableBug.swift' and 'SwiftProtocolTypeVariableBug.png' were successfully uploaded."
    email: paulyoungonline@gmail.com
    modified: "2014-10-29T23:43:59.834643Z"
    number: "17986478"
    number_intvalue: 17986478
    originated: 11-Aug-2014 11:56 PM
    parent_number: '&{NULL_VALUE}'
    product: Developer Tools
    product_version: Xcode6-Beta5 (6A279r)
    reproducible: Always
    resolved: Yes
    status: Closed
    title: 'Swift: Specifying a type variable in a protocol causes a segfault when an object conforms to that protocol'
