apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "17887874"
    labels:
        datastore_id: "6408632774164480"
data:
    classification: Enhancement
    created: "2014-08-01T19:37:06.567537Z"
    description: |-
        Summary:
        I would like to run certain script phases only when Product->Analyze is selected. Mostly these would be 3rd-party tools like ObjClean and Faux Pas. There’s no reliable way to tell from a script phase that analyze was selected vs. build.

        Expected Results:
        I would have expected the ACTION env var to be set to the command used in Xcode but I realize that’s probably overloaded at this point. Perhaps setting XCODE_ACTION would work?

        Actual Results:
        With a stock configuration the only hint that we’re analyzing instead of building is that these are set
          export RUN_CLANG_STATIC_ANALYZER=YES
          export CLANG_STATIC_ANALYZER_MODE=deep

        Obviously these can’t be relied on since they can be changed in build settings.
    email: hello@jmoore.me
    modified: "2014-08-01T19:37:06.567646Z"
    number: "17887874"
    number_intvalue: 17887874
    originated: 01-Aug-2014 12:37 PM
    parent_number: '&{NULL_VALUE}'
    product: Developer Tools
    product_version: 5.1.1 (5B1008)
    reproducible: Always
    resolved: ""
    status: Open
    title: Xcode should set an environment variable with the action selected from the Product menu
