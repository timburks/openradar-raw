apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "24409891"
    labels:
        datastore_id: "6064856646025216"
data:
    classification: ""
    created: "2016-01-29T16:06:47.22576Z"
    description: "Boris Sotillos\r\n29-Jan-2016 05:04 PM\r\n\r\nSummary:\r\nOn a NSBundleResourceRequest, calling beginAccessingResourcesWithCompletionHandler takes one minute before it issues the actual HTTP GET request,\r\n\r\nThis has been introduced in tvOS 9.2 beta 2. In 9.1 it didn't happen.\r\n\r\nSteps to Reproduce:\r\n1) Clean ODR (reinstall application)\r\n2) Run attached application in debug (ODR via Xcode simulation) or release (you may have to set up a webserver).\r\n3) Inspect logs.\r\n\r\nSee how in between these two log traces there is a 1 minute period. There is no reason for that.\r\n2016-01-29 16:54:25.738 odrup[568:150102] waiting for beginAccessingResourcesWithCompletionHandler completion\r\n2016-01-29 16:55:26.032 odrup[568:150372] beginAccessingResourcesWithCompletionHandler downloaded=1\r\n\r\n\r\nExpected Results:\r\nI would expect that download of such smaller files was initiated instantaneously.\r\nIt seems as there as a 1' timeout somewhere.\r\n\r\nActual Results:\r\n2016-01-29 16:54:24.733 odrup[568:150102] begin v1\r\n2016-01-29 16:54:24.734 odrup[568:150102] DumpTagContents begin (d1)\r\n2016-01-29 16:54:24.737 odrup[568:150102] waiting for conditionallyBeginAccessingResourcesWithCompletionHandler completion\r\n2016-01-29 16:54:24.746 odrup[568:150136] conditionallyBeginAccessingResourcesWithCompletionHandler available=0 checked=1\r\n2016-01-29 16:54:25.737 odrup[568:150102] conditionallyBeginAccessingResourcesWithCompletionHandler completed\r\n2016-01-29 16:54:25.738 odrup[568:150102] waiting for beginAccessingResourcesWithCompletionHandler completion\r\n2016-01-29 16:55:26.032 odrup[568:150372] beginAccessingResourcesWithCompletionHandler downloaded=1\r\n2016-01-29 16:55:26.807 odrup[568:150102] beginAccessingResourcesWithCompletionHandler completed\r\n2016-01-29 16:55:26.829 odrup[568:150102] contents='this is d1. same file in v1 & v2'\r\n2016-01-29 16:55:26.829 odrup[568:150102] DumpTagContents end (d1)\r\n2016-01-29 16:55:26.830 odrup[568:150102] DumpTagContents begin (d2)\r\n2016-01-29 16:55:26.830 odrup[568:150102] waiting for conditionallyBeginAccessingResourcesWithCompletionHandler completion\r\n2016-01-29 16:55:26.838 odrup[568:150372] conditionallyBeginAccessingResourcesWithCompletionHandler available=0 checked=1\r\n2016-01-29 16:55:27.832 odrup[568:150102] conditionallyBeginAccessingResourcesWithCompletionHandler completed\r\n2016-01-29 16:55:27.833 odrup[568:150102] waiting for beginAccessingResourcesWithCompletionHandler completion\r\n2016-01-29 16:56:28.170 odrup[568:150524] beginAccessingResourcesWithCompletionHandler downloaded=1\r\n2016-01-29 16:56:28.902 odrup[568:150102] beginAccessingResourcesWithCompletionHandler completed\r\n2016-01-29 16:56:28.912 odrup[568:150102] contents='this is d2 from v1'\r\n2016-01-29 16:56:28.912 odrup[568:150102] DumpTagContents end (d2)\r\n2016-01-29 16:56:28.913 odrup[568:150102] DumpTagContents begin (d3)\r\n2016-01-29 16:56:28.914 odrup[568:150102] waiting for conditionallyBeginAccessingResourcesWithCompletionHandler completion\r\n2016-01-29 16:56:28.920 odrup[568:150524] conditionallyBeginAccessingResourcesWithCompletionHandler available=0 checked=1\r\n2016-01-29 16:56:29.915 odrup[568:150102] conditionallyBeginAccessingResourcesWithCompletionHandler completed\r\n2016-01-29 16:56:29.916 odrup[568:150102] waiting for beginAccessingResourcesWithCompletionHandler completion\r\n2016-01-29 16:56:29.921 odrup[568:150524] beginAccessingResourcesWithCompletionHandler downloaded=0\r\n2016-01-29 16:56:30.918 odrup[568:150102] beginAccessingResourcesWithCompletionHandler completed\r\n2016-01-29 16:56:30.918 odrup[568:150102] DumpTagContents end (d3)\r\n2016-01-29 16:56:30.919 odrup[568:150102] end\r\n\r\n\r\n\r\nVersion:\r\ntvOS 9.2 (13Y5189e)\r\n\r\nNotes:\r\n\r\n\r\nConfiguration:\r\napple TV over LAN\r\n\r\nAttachments:\r\n'odrup.rar' was successfully uploaded."
    email: borissotillos@gmail.com
    modified: "2016-01-29T16:06:47.22605Z"
    number: "24409891"
    number_intvalue: 24409891
    originated: 29-Jan-2016 05:04 PM
    parent_number: '&{NULL_VALUE}'
    product: tvOS SDK
    product_version: tvOS 9.2 beta 2
    reproducible: 100%
    resolved: ""
    status: open
    title: beginAccessingResourcesWithCompletionHandler takes one minute to start the download
