apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "27841135"
    labels:
        datastore_id: "4997805424771072"
data:
    classification: Crash/Hang/Data Loss
    created: "2016-08-14T22:00:16.57731Z"
    description: "Summary:\r\nBuilt a project in Xcode8 beta 5.  Looks like it crashed with a problem apparently diagnosed in Xcode 8 beta 1 - rdar://27148447 - apparently something with multiple P3 color spaces.\r\n\r\nCleaning the build folder makes the crash go away\r\n\r\nIt'd be nice if you could fix this pretty obvious crasher - I don't know which of the P3 color spaces I have are useful or not, because I didn't create them myself.  Apparently they're important to some software I use.  Working software > crashing software.\r\n\r\nHere I am spending another chunk of time filing a radar for a known crasher when I should be working on stuff that pays.\r\n\r\n------\r\n\r\nHere's what it printed out:\r\n\r\nCommand /Applications/Xcode-8-beta-5.app/Contents/Developer/usr/bin/ibtool failed with exit code 255. The tool may have crashed. Please file a bug report at http://bugreport.apple.com with the above output and attach any crash logs for ibtool, ibtoold, Xcode, and Interface Builder Cocoa Touch Tool created around the time of this failure. These logs can be found in ~/Library/Logs/DiagnosticReports or /Library/Logs/DiagnosticReports.\r\n\r\nScreenshot attached.\r\nXcode mentions in Console attached.\r\n\r\nHere's the stacktrace in the console: (also in the screen shot):\r\n\r\n2016-08-14 17:45:42.138 ibtoold[60574:16287285] [MT] DVTAssertions: ASSERTION FAILURE in /Library/Caches/com.apple.xbs/Sources/IDEInterfaceBuilder/IDEInterfaceBuilder-11191/InterfaceBuilderKit/Utilities/IBAppKitAdditions.m:1798\r\nDetails:  \"cocoaP3\" should not be nil.\r\nFunction: NSColorSpace *IBLookupDisplayP3ColorSpace()\r\nThread:   <NSThread: 0x7f9130e19e70>{number = 1, name = main}\r\nHints: None\r\nBacktrace:\r\n  0   -[DVTAssertionHandler handleFailureInFunction:fileName:lineNumber:assertionSignature:messageFormat:arguments:] (in DVTFoundation)\r\n  1   _DVTAssertionHandler (in DVTFoundation)\r\n  2   _DVTAssertionFailureHandler (in DVTFoundation)\r\n  3   __61+[NSColorSpace(IBColorSpaceAdditions) ib_displayP3ColorSpace]_block_invoke (in IDEInterfaceBuilderKit)\r\n  4   _dispatch_client_callout (in libdispatch.dylib)\r\n  5   dispatch_once_f (in libdispatch.dylib)\r\n  6   +[NSColorSpace(IBColorSpaceAdditions) ib_displayP3ColorSpace] (in IDEInterfaceBuilderKit)\r\n  7   +[NSColor(IBDocumentArchiving) instantiateWithDocumentUnarchiver:] (in IDEInterfaceBuilderKit)\r\n  8  0x000000011611cb74 (in IDEInterfaceBuilderCocoaTouchIntegration)\r\n  9   __51-[IBDocumentUnarchiver unarchiveObjectFromElement:]_block_invoke (in IDEInterfaceBuilderKit)\r\n 10   -[IBDocumentUnarchiver recurseWithElement:kind:invokingBlock:] (in IDEInterfaceBuilderKit)\r\n 11   -[IBDocumentUnarchiver unarchiveObjectFromElement:] (in IDEInterfaceBuilderKit)\r\n 12   -[IBDocumentUnarchiver unarchiveObjectForKey:defaultValue:] (in IDEInterfaceBuilderKit)\r\n 13  0x00000001161fcec2 (in IDEInterfaceBuilderCocoaTouchIntegration)\r\n 14  0x00000001161fa61c (in IDEInterfaceBuilderCocoaTouchIntegration)\r\n 15   __51-[IBDocumentUnarchiver unarchiveObjectFromElement:]_block_invoke (in IDEInterfaceBuilderKit)\r\n 16   -[IBDocumentUnarchiver recurseWithElement:kind:invokingBlock:] (in IDEInterfaceBuilderKit)\r\n 17   -[IBDocumentUnarchiver unarchiveObjectFromElement:] (in IDEInterfaceBuilderKit)\r\n 18   -[IBDocumentUnarchiver unarchiveArrayDictionaryOrObjectFromElement:] (in IDEInterfaceBuilderKit)\r\n 19   __50-[IBDocumentUnarchiver unarchiveArrayFromElement:]_block_invoke_2 (in IDEInterfaceBuilderKit)\r\n 20   -[NSXMLElement(IBIDEXMLElementAddition) ib_enumerateElements:] (in IDEInterfaceBuilderKit)\r\n 21   __50-[IBDocumentUnarchiver unarchiveArrayFromElement:]_block_invoke (in IDEInterfaceBuilderKit)\r\n 22   -[IBDocumentUnarchiver recurseWithElement:kind:invokingBlock:] (in IDEInterfaceBuilderKit)\r\n 23   -[IBDocumentUnarchiver unarchiveArrayFromElement:] (in IDEInterfaceBuilderKit)\r\n 24   -[IBDocumentUnarchiver unarchiveArrayWithName:forOptionalKey:] (in IDEInterfaceBuilderKit)\r\n 25   -[IBDocument unarchiveTopLevelObjects:] (in IDEInterfaceBuilderKit)\r\n 26   -[IBDocument unarchivePlatformIndependentDataWithUnarchiver:error:] (in IDEInterfaceBuilderKit)\r\n 27   -[IBDocument unarchiveDocumentWithUnarchiver:error:] (in IDEInterfaceBuilderKit)\r\n 28   __48-[IBDocumentUnarchiver unarchiveDocument:error:]_block_invoke (in IDEInterfaceBuilderKit)\r\n 29   -[IBDocumentUnarchiver recurseWithElement:kind:invokingBlock:] (in IDEInterfaceBuilderKit)\r\n 30   -[IBDocumentUnarchiver unarchiveDocument:error:] (in IDEInterfaceBuilderKit)\r\n 31   __61-[IBDocument decodeContentsOfURL:ofType:decodingStyle:error:]_block_invoke (in IDEInterfaceBuilderKit)\r\n 32   -[IBDocumentAutolayoutManager ignoreAutolayoutStatusInvalidationDuring:] (in IDEInterfaceBuilderKit)\r\n 33   -[IBDocument ignoreAutolayoutStatusInvalidationDuring:] (in IDEInterfaceBuilderKit)\r\n 34   -[IBDocument decodeContentsOfURL:ofType:decodingStyle:error:] (in IDEInterfaceBuilderKit)\r\n 35   -[IBDocument readFromURL:ofType:error:] (in IDEInterfaceBuilderKit)\r\n 36  0x0000000109190bde (in ibtoold)\r\n 37  0x00000001091896fe (in ibtoold)\r\n 38  0x000000010919244b (in ibtoold)\r\n 39  0x0000000109196449 (in ibtoold)\r\n 40  0x0000000109196aea (in ibtoold)\r\n 41  0x00000001091969bd (in ibtoold)\r\n 42  0x0000000109184c9b (in ibtoold)\r\n 43  0x0000000109196044 (in ibtoold)\r\n 44  0x0000000109195105 (in ibtoold)\r\n 45   start (in libdyld.dylib)\r\n\r\n\r\nAttached two crashlogs.\r\n\r\nSteps to Reproduce:\r\n\r\n\r\nExpected Results:\r\n\r\n\r\nActual Results:\r\n\r\n\r\nVersion:\r\nVersion 8.0 beta 5 (8S193k)\r\n10.11.5 (15F34)\r\n\r\n\r\nNotes:\r\nIt's really not that big a deal - just remember to manually purge the build folder on each new revision, but\r\nwhen these kinds of things happen day-in, day-out, it's just another heavy-sigh\r\ndeath-of-a-thousand-cuts that makes using Xcode unpleasant.\r\nc.f. rdar://22524679\r\n\r\n\r\nConfiguration:\r\nSysinfo report attached.\r\n\r\nAttachments:\r\n'Screen Shot 2016-08-14 at 5.49.32 PM.png', 'xcode-messages.log', 'ibtoold_2016-08-14-174545_pheasantbook.crash', 'MacBook Pro.spx' and 'ibtoold_2016-08-14-174545-1_pheasantbook.crash' were successfully uploaded."
    email: markd@badgertronics.com
    modified: "2016-08-14T22:00:16.57754Z"
    number: "27841135"
    number_intvalue: 27841135
    originated: 7/14/2016
    parent_number: '&{NULL_VALUE}'
    product: Developer Tools
    product_version: Version 8.0 beta 5 (8S193k)
    reproducible: Always
    resolved: ""
    status: Open
    title: 'xcode8: Crash with P3 color spaces'
