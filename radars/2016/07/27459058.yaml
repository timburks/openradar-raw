apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "27459058"
    labels:
        datastore_id: "4957112975228928"
data:
    classification: Serious Bug
    created: "2016-07-20T22:35:45.25207Z"
    description: "Summary:\r\nSince Xcode 8 Beta 3, embedding some frameworks will cause Xcode from not embedding Swift libraries.\r\n\r\nSteps to Reproduce:\r\n- Open the attached project\r\n- Embed any of the frameworks under the \"Embed to show bug\" group\r\n- Clean and compile\r\n- Open Finder to the location of the .app\r\n- Right-click to show content and go to Frameworks\r\n\r\n\r\nExpected Results:\r\nSwift libraries should be included.\r\n\r\nActual Results:\r\nSwift libraries are missing and Xcode outputs this:\r\n\r\nCopySwiftLibs /Users/lucvandal/Library/Developer/Xcode/DerivedData/dylibs-byridmbqtcupvddpkmyklvsjqmvw/Build/Products/Debug-iphonesimulator/dylibs.app\r\n    cd \"/Users/lucvandal/Downloads/dylib issue/dylibs\"\r\n    export CODESIGN_ALLOCATE=/Applications/Xcode-beta.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/codesign_allocate\r\n    export DEVELOPER_DIR=/Applications/Xcode-beta.app/Contents/Developer\r\n    export PATH=\"/Applications/Xcode-beta.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin:/Applications/Xcode-beta.app/Contents/Developer/usr/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin\"\r\n    export SDKROOT=/Applications/Xcode-beta.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator10.0.sdk\r\n    export TOOLCHAINS=com.apple.dt.toolchain.XcodeDefault\r\n    builtin-swiftStdLibTool --copy --verbose --sign - --scan-executable /Users/lucvandal/Library/Developer/Xcode/DerivedData/dylibs-byridmbqtcupvddpkmyklvsjqmvw/Build/Products/Debug-iphonesimulator/dylibs.app/dylibs --scan-folder /Users/lucvandal/Library/Developer/Xcode/DerivedData/dylibs-byridmbqtcupvddpkmyklvsjqmvw/Build/Products/Debug-iphonesimulator/dylibs.app/Frameworks --scan-folder /Users/lucvandal/Library/Developer/Xcode/DerivedData/dylibs-byridmbqtcupvddpkmyklvsjqmvw/Build/Products/Debug-iphonesimulator/dylibs.app/PlugIns --scan-folder /Users/lucvandal/Downloads/dylib\\ issue/Vendor/Carthage/Build/iOS/OnePasswordExtension.framework --scan-folder /Users/lucvandal/Downloads/dylib\\ issue/Vendor/Carthage/Build/iOS/SSKeychain.framework --scan-folder /Users/lucvandal/Downloads/dylib\\ issue/Vendor/Carthage/Build/iOS/Branch.framework --scan-folder /Users/lucvandal/Downloads/dylib\\ issue/Vendor/Carthage/Build/iOS/Reachability.framework --platform iphonesimulator --toolchain /Applications/Xcode-beta.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain --toolchain /Applications/Xcode-beta.app/Contents/Developer/Toolchains/Swift_2.3.xctoolchain --toolchain /Applications/Xcode-beta.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain --destination /Users/lucvandal/Library/Developer/Xcode/DerivedData/dylibs-byridmbqtcupvddpkmyklvsjqmvw/Build/Products/Debug-iphonesimulator/dylibs.app/Frameworks --strip-bitcode --resource-destination /Users/lucvandal/Library/Developer/Xcode/DerivedData/dylibs-byridmbqtcupvddpkmyklvsjqmvw/Build/Products/Debug-iphonesimulator/dylibs.app --resource-library libswiftRemoteMirror.dylib\r\n\r\nEffective srcDirs: {(\r\n    <DVTFilePath:0x6080002a7740:'/Applications/Xcode-beta.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/swift/iphonesimulator'>,\r\n    <DVTFilePath:0x6000006a3f60:'/Applications/Xcode-beta.app/Contents/Developer/Toolchains/Swift_2.3.xctoolchain/usr/lib/swift/iphonesimulator'>\r\n)}\r\nEffective Swift version: { arm64: 4; armv7: 4; i386: 4; x86_64: 4 }\r\nFound library with mismatched Swift ABI: /Applications/Xcode-beta.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/swift/iphonesimulator/libswiftCore.dylib { i386: 4; x86_64: 4 }\r\nFound library with mismatched Swift ABI: /Applications/Xcode-beta.app/Contents/Developer/Toolchains/Swift_2.3.xctoolchain/usr/lib/swift/iphonesimulator/libswiftCore.dylib { i386: 3; x86_64: 3 }\r\nFound library with mismatched Swift ABI: /Applications/Xcode-beta.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/swift/iphonesimulator/libswiftCoreGraphics.dylib { i386: 4; x86_64: 4 }\r\nFound library with mismatched Swift ABI: /Applications/Xcode-beta.app/Contents/Developer/Toolchains/Swift_2.3.xctoolchain/usr/lib/swift/iphonesimulator/libswiftCoreGraphics.dylib { i386: 3; x86_64: 3 }\r\nFound library with mismatched Swift ABI: /Applications/Xcode-beta.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/swift/iphonesimulator/libswiftCoreImage.dylib { i386: 4; x86_64: 4 }\r\nFound library with mismatched Swift ABI: /Applications/Xcode-beta.app/Contents/Developer/Toolchains/Swift_2.3.xctoolchain/usr/lib/swift/iphonesimulator/libswiftCoreImage.dylib { i386: 3; x86_64: 3 }\r\nFound library with mismatched Swift ABI: /Applications/Xcode-beta.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/swift/iphonesimulator/libswiftDarwin.dylib { i386: 4; x86_64: 4 }\r\nFound library with mismatched Swift ABI: /Applications/Xcode-beta.app/Contents/Developer/Toolchains/Swift_2.3.xctoolchain/usr/lib/swift/iphonesimulator/libswiftDarwin.dylib { i386: 3; x86_64: 3 }\r\nFound library with mismatched Swift ABI: /Applications/Xcode-beta.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/swift/iphonesimulator/libswiftDispatch.dylib { i386: 4; x86_64: 4 }\r\nFound library with mismatched Swift ABI: /Applications/Xcode-beta.app/Contents/Developer/Toolchains/Swift_2.3.xctoolchain/usr/lib/swift/iphonesimulator/libswiftDispatch.dylib { i386: 3; x86_64: 3 }\r\nFound library with mismatched Swift ABI: /Applications/Xcode-beta.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/swift/iphonesimulator/libswiftFoundation.dylib { i386: 4; x86_64: 4 }\r\nFound library with mismatched Swift ABI: /Applications/Xcode-beta.app/Contents/Developer/Toolchains/Swift_2.3.xctoolchain/usr/lib/swift/iphonesimulator/libswiftFoundation.dylib { i386: 3; x86_64: 3 }\r\nFound library with mismatched Swift ABI: /Applications/Xcode-beta.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/swift/iphonesimulator/libswiftObjectiveC.dylib { i386: 4; x86_64: 4 }\r\nFound library with mismatched Swift ABI: /Applications/Xcode-beta.app/Contents/Developer/Toolchains/Swift_2.3.xctoolchain/usr/lib/swift/iphonesimulator/libswiftObjectiveC.dylib { i386: 3; x86_64: 3 }\r\nFound library with mismatched Swift ABI: /Applications/Xcode-beta.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/swift/iphonesimulator/libswiftUIKit.dylib { i386: 4; x86_64: 4 }\r\nFound library with mismatched Swift ABI: /Applications/Xcode-beta.app/Contents/Developer/Toolchains/Swift_2.3.xctoolchain/usr/lib/swift/iphonesimulator/libswiftUIKit.dylib { i386: 3; x86_64: 3 }\r\n\r\nVersion:\r\nXcode 8 beta 3 8S174q\r\n\r\nNotes:\r\nI've included the frameworks source code so you can see what project settings are causing this issue.\r\n\r\nIf this the expected behaviour, it wasn't specified in the latest Xcode 8 B3 release notes.\r\n\r\nAlso, see: \r\n\r\nhttps://forums.developer.apple.com/message/155480#155480\r\nhttps://forums.developer.apple.com/thread/52139\r\n\r\nConfiguration:\r\nN/A\r\n\r\nThis never was an issue with Xcode 7 or previous Xcode 8 betas."
    email: lucv926@gmail.com
    modified: "2016-08-11T14:19:51.61602Z"
    number: "27459058"
    number_intvalue: 27459058
    originated: 20-Jul-2016 06:32 PM
    parent_number: '&{NULL_VALUE}'
    product: Developer Tools
    product_version: Xcode 8 B3 8S174q
    reproducible: Always
    resolved: NO
    status: Duplicate
    title: Embedding frameworks with fat binaries will prevent Swift libraries to be embedded.
