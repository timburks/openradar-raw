apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "28172838"
    labels:
        datastore_id: "5053433035882496"
data:
    classification: ""
    created: "2016-09-06T19:14:07.11758Z"
    description: "Summary:\r\nWhen using the python sqlite driver and linking against the dylib provided with OSX (/usr/lib/libqlite3.dylib) we can reproducibly cause a segfault. The attached file has the back trace when the segfault occurs. When using the dylib from the homebrew installed version of sqlite it works as expected.\r\n\r\nSteps to Reproduce:\r\nUnfortunately, the test suite is proprietary and can't be shared.\r\n\r\nExpected Results:\r\nNo seg fault.\r\n\r\nActual Results:\r\nSegfault.\r\n\r\nVersion:\r\nsqlite3, OSX El Capitan 10.11.6 (although it has happened on other OSX versions)\r\n\r\nNotes:\r\n\r\nConfiguration:\r\nOut of the box sqlite3\r\n\r\nAttached File:\r\n(lldb) bt\r\n* thread #1: tid = 0x91e34, 0x00007fff977b1fd6 libsystem_platform.dylib`_platform_memmove$VARIANT$Haswell + 182, queue = 'com.apple.main-thread', stop reason = EXC_BAD_ACCESS (code=1, address=0x8)\r\n  * frame #0: 0x00007fff977b1fd6 libsystem_platform.dylib`_platform_memmove$VARIANT$Haswell + 182\r\n    frame #1: 0x00007fff979f8ff8 libsqlite3.dylib`memjrnlRead + 200\r\n    frame #2: 0x00007fff979f93c1 libsqlite3.dylib`pager_playback_one_page + 81\r\n    frame #3: 0x00007fff97a10215 libsqlite3.dylib`sqlite3PagerSavepoint + 565\r\n    frame #4: 0x00007fff979b43fb libsqlite3.dylib`sqlite3VdbeExec + 26203\r\n    frame #5: 0x00007fff979aca8f libsqlite3.dylib`sqlite3_step + 591\r\n    frame #6: 0x0000000105febd93 _sqlite3.so`pysqlite_step + 31\r\n    frame #7: 0x0000000105fe9867 _sqlite3.so`_pysqlite_query_execute + 1603\r\n    frame #8: 0x000000010000d202 Python`PyObject_Call + 99\r\n    frame #9: 0x000000010008be83 Python`PyEval_CallObjectWithKeywords + 165\r\n    frame #10: 0x000000010001e25d Python`___lldb_unnamed_function328$$Python + 134\r\n    frame #11: 0x000000010000d202 Python`PyObject_Call + 99\r\n    frame #12: 0x0000000100088e37 Python`PyEval_EvalFrameEx + 10372\r\n    frame #13: 0x00000001000863c1 Python`PyEval_EvalCodeEx + 1583\r\n    frame #14: 0x000000010008c4ae Python`___lldb_unnamed_function1476$$Python + 117\r\n    frame #15: 0x000000010008930c Python`PyEval_EvalFrameEx + 11609\r\n    frame #16: 0x00000001000863c1 Python`PyEval_EvalCodeEx + 1583\r\n    frame #17: 0x000000010008c4ae Python`___lldb_unnamed_function1476$$Python + 117\r\n    frame #18: 0x000000010008930c Python`PyEval_EvalFrameEx + 11609\r\n    frame #19: 0x000000010008c541 Python`___lldb_unnamed_function1476$$Python + 264\r\n    frame #20: 0x000000010008930c Python`PyEval_EvalFrameEx + 11609\r\n    frame #21: 0x000000010008c541 Python`___lldb_unnamed_function1476$$Python + 264\r\n    frame #22: 0x000000010008930c Python`PyEval_EvalFrameEx + 11609\r\n    frame #23: 0x000000010008c541 Python`___lldb_unnamed_function1476$$Python + 264\r\n    frame #24: 0x000000010008930c Python`PyEval_EvalFrameEx + 11609\r\n    frame #25: 0x00000001000863c1 Python`PyEval_EvalCodeEx + 1583\r\n    frame #26: 0x000000010008c4ae Python`___lldb_unnamed_function1476$$Python + 117\r\n    frame #27: 0x000000010008930c Python`PyEval_EvalFrameEx + 11609\r\n    frame #28: 0x00000001000863c1 Python`PyEval_EvalCodeEx + 1583\r\n    frame #29: 0x000000010008c4ae Python`___lldb_unnamed_function1476$$Python + 117\r\n    frame #30: 0x000000010008930c Python`PyEval_EvalFrameEx + 11609\r\n    frame #31: 0x00000001000863c1 Python`PyEval_EvalCodeEx + 1583\r\n    frame #32: 0x000000010008c4ae Python`___lldb_unnamed_function1476$$Python + 117\r\n    frame #33: 0x000000010008930c Python`PyEval_EvalFrameEx + 11609\r\n    frame #34: 0x00000001000863c1 Python`PyEval_EvalCodeEx + 1583\r\n    frame #35: 0x000000010002b2e5 Python`___lldb_unnamed_function510$$Python + 352\r\n    frame #36: 0x000000010000d202 Python`PyObject_Call + 99\r\n    frame #37: 0x0000000100017ff5 Python`___lldb_unnamed_function192$$Python + 173\r\n    frame #38: 0x000000010000d202 Python`PyObject_Call + 99\r\n    frame #39: 0x0000000100053a33 Python`___lldb_unnamed_function1032$$Python + 61\r\n    frame #40: 0x000000010000d202 Python`PyObject_Call + 99\r\n    frame #41: 0x0000000100088e37 Python`PyEval_EvalFrameEx + 10372\r\n    frame #42: 0x00000001000863c1 Python`PyEval_EvalCodeEx + 1583\r\n    frame #43: 0x000000010002b2e5 Python`___lldb_unnamed_function510$$Python + 352\r\n    frame #44: 0x000000010000d202 Python`PyObject_Call + 99\r\n    frame #45: 0x00000001000894ac Python`PyEval_EvalFrameEx + 12025\r\n    frame #46: 0x00000001000863c1 Python`PyEval_EvalCodeEx + 1583\r\n    frame #47: 0x000000010002b2e5 Python`___lldb_unnamed_function510$$Python + 352\r\n    frame #48: 0x000000010000d202 Python`PyObject_Call + 99\r\n    frame #49: 0x0000000100017ff5 Python`___lldb_unnamed_function192$$Python + 173\r\n    frame #50: 0x000000010000d202 Python`PyObject_Call + 99\r\n    frame #51: 0x0000000100053a33 Python`___lldb_unnamed_function1032$$Python + 61\r\n    frame #52: 0x000000010000d202 Python`PyObject_Call + 99\r\n    frame #53: 0x0000000100088e37 Python`PyEval_EvalFrameEx + 10372\r\n    frame #54: 0x000000010008c541 Python`___lldb_unnamed_function1476$$Python + 264\r\n    frame #55: 0x000000010008930c Python`PyEval_EvalFrameEx + 11609\r\n    frame #56: 0x00000001000863c1 Python`PyEval_EvalCodeEx + 1583\r\n    frame #57: 0x000000010008c4ae Python`___lldb_unnamed_function1476$$Python + 117\r\n    frame #58: 0x000000010008930c Python`PyEval_EvalFrameEx + 11609\r\n    frame #59: 0x00000001000863c1 Python`PyEval_EvalCodeEx + 1583\r\n    frame #60: 0x000000010008c4ae Python`___lldb_unnamed_function1476$$Python + 117\r\n    frame #61: 0x000000010008930c Python`PyEval_EvalFrameEx + 11609\r\n    frame #62: 0x00000001000863c1 Python`PyEval_EvalCodeEx + 1583\r\n    frame #63: 0x000000010002b2e5 Python`___lldb_unnamed_function510$$Python + 352\r\n    frame #64: 0x000000010000d202 Python`PyObject_Call + 99\r\n    frame #65: 0x00000001000894ac Python`PyEval_EvalFrameEx + 12025\r\n    frame #66: 0x00000001000863c1 Python`PyEval_EvalCodeEx + 1583\r\n    frame #67: 0x000000010002b2e5 Python`___lldb_unnamed_function510$$Python + 352\r\n    frame #68: 0x000000010000d202 Python`PyObject_Call + 99\r\n    frame #69: 0x00000001000894ac Python`PyEval_EvalFrameEx + 12025\r\n    frame #70: 0x00000001000863c1 Python`PyEval_EvalCodeEx + 1583\r\n    frame #71: 0x000000010002b2e5 Python`___lldb_unnamed_function510$$Python + 352\r\n    frame #72: 0x000000010000d202 Python`PyObject_Call + 99\r\n    frame #73: 0x00000001000894ac Python`PyEval_EvalFrameEx + 12025\r\n    frame #74: 0x00000001000863c1 Python`PyEval_EvalCodeEx + 1583\r\n    frame #75: 0x000000010008c4ae Python`___lldb_unnamed_function1476$$Python + 117\r\n    frame #76: 0x000000010008930c Python`PyEval_EvalFrameEx + 11609\r\n    frame #77: 0x000000010008c541 Python`___lldb_unnamed_function1476$$Python + 264\r\n    frame #78: 0x000000010008930c Python`PyEval_EvalFrameEx + 11609\r\n    frame #79: 0x00000001000863c1 Python`PyEval_EvalCodeEx + 1583\r\n    frame #80: 0x000000010008c4ae Python`___lldb_unnamed_function1476$$Python + 117\r\n    frame #81: 0x000000010008930c Python`PyEval_EvalFrameEx + 11609\r\n    frame #82: 0x00000001000863c1 Python`PyEval_EvalCodeEx + 1583\r\n    frame #83: 0x000000010008c4ae Python`___lldb_unnamed_function1476$$Python + 117\r\n    frame #84: 0x000000010008930c Python`PyEval_EvalFrameEx + 11609\r\n    frame #85: 0x00000001000863c1 Python`PyEval_EvalCodeEx + 1583\r\n    frame #86: 0x0000000100085d8c Python`PyEval_EvalCode + 54\r\n    frame #87: 0x00000001000a5a42 Python`___lldb_unnamed_function1599$$Python + 53\r\n    frame #88: 0x00000001000a5ae5 Python`PyRun_FileExFlags + 133\r\n    frame #89: 0x00000001000a5634 Python`PyRun_SimpleFileExFlags + 698\r\n    frame #90: 0x00000001000b7011 Python`Py_Main + 3137\r\n    frame #91: 0x00007fff93b705ad libdyld.dylib`start + 1\r\n    frame #92: 0x00007fff93b705ad libdyld.dylib`start + 1"
    email: patrick.gombert@sproutsocial.com
    modified: "2016-09-06T19:14:07.11779Z"
    number: "28172838"
    number_intvalue: 28172838
    originated: 06-Sep-2016
    parent_number: '&{NULL_VALUE}'
    product: Other
    product_version: ""
    reproducible: Yes
    resolved: ""
    status: Open
    title: Segfault when linking against libsqlite3
