apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "28115553"
    labels:
        datastore_id: "4954289034231808"
data:
    classification: Serious Bug
    created: "2016-09-01T15:04:20.17584Z"
    description: "Summary:\r\nIf you have a project in Xcode 8 using Swift 2.3 and connect a button from a storyboard to code via Interface Builder, it will result in a crash at runtime. This doesn't happen if you're using Swift 3.0. \r\n\r\nI've attached a sample project which demonstrates this.\r\n\r\nSteps to Reproduce:\r\n1. In an existing Storyboard, add a new button to a scene.\r\n2. In an existing view controller (the one from the Storyboard scene), add a method (like: `@IBAction func buttonPressViaInterfaceBuilder(sender: AnyObject) {`).\r\n3. Use Interface Builder to connect the button's action to the newly created method. \r\n4. Run the application. \r\n5. Navigate to the scene.\r\n6. Press the button to trigger the action. \r\n\r\nExpected Results:\r\nI would expect the method connected to the action to trigger without issue. \r\n\r\nActual Results:\r\nInstead, I get a crash and this stack trace:\r\n\r\n2016-09-01 10:33:24.803 BrokenIBMapping[10430:142747] *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '-[BrokenIBMapping.ViewController buttonPressViaInterfaceBuilderWithSender:]: unrecognized selector sent to instance 0x7fc8db003ea0'\r\n*** First throw call stack:\r\n(\r\n\t0   CoreFoundation                      0x000000010300634b __exceptionPreprocess + 171\r\n\t1   libobjc.A.dylib                     0x000000010069421e objc_exception_throw + 48\r\n\t2   CoreFoundation                      0x0000000103075f34 -[NSObject(NSObject) doesNotRecognizeSelector:] + 132\r\n\t3   CoreFoundation                      0x0000000102f8bc15 ___forwarding___ + 1013\r\n\t4   CoreFoundation                      0x0000000102f8b798 _CF_forwarding_prep_0 + 120\r\n\t5   UIKit                               0x0000000100b656c8 -[UIApplication sendAction:to:from:forEvent:] + 83\r\n\t6   UIKit                               0x0000000100ce909a -[UIControl sendAction:to:forEvent:] + 67\r\n\t7   UIKit                               0x0000000100ce93b3 -[UIControl _sendActionsForEvents:withEvent:] + 444\r\n\t8   UIKit                               0x0000000100ce82af -[UIControl touchesEnded:withEvent:] + 668\r\n\t9   UIKit                               0x0000000100bd2875 -[UIWindow _sendTouchesForEvent:] + 2747\r\n\t10  UIKit                               0x0000000100bd3f63 -[UIWindow sendEvent:] + 4011\r\n\t11  UIKit                               0x0000000100b811e3 -[UIApplication sendEvent:] + 371\r\n\t12  UIKit                               0x000000010135b06f __dispatchPreprocessedEventFromEventQueue + 3248\r\n\t13  UIKit                               0x0000000101353d19 __handleEventQueue + 4879\r\n\t14  CoreFoundation                      0x0000000102fab311 __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE0_PERFORM_FUNCTION__ + 17\r\n\t15  CoreFoundation                      0x0000000102f9059c __CFRunLoopDoSources0 + 556\r\n\t16  CoreFoundation                      0x0000000102f8fa86 __CFRunLoopRun + 918\r\n\t17  CoreFoundation                      0x0000000102f8f494 CFRunLoopRunSpecific + 420\r\n\t18  GraphicsServices                    0x0000000104eaea6f GSEventRunModal + 161\r\n\t19  UIKit                               0x0000000100b63a74 UIApplicationMain + 159\r\n\t20  BrokenIBMapping                     0x00000001000bb522 main + 114\r\n\t21  libdyld.dylib                       0x0000000103f3068d start + 1\r\n)\r\nlibc++abi.dylib: terminating with uncaught exception of type NSException\r\n\r\n\r\nVersion:\r\nVersion 8.0 beta 6 (8S201h)\r\n\r\nNotes:\r\nI did notice that Interface Builder renames the method that I'm trying to hook up to `buttonPressViaInterfaceBuilderWithSender` this may be the root of the issue. \r\n\r\nWork around #1: If I set the action via code, the button responds as expected and without crashing. \r\n\r\nWork around #2: If I use `_` as the parameter name instead of `sender`, Interface Builder won't rename the method (in Interface Builder), and it triggers the method without crashing. \r\n\r\nConfiguration:\r\n\r\n\r\nAttachments:\r\n'BrokenIBMapping.zip' was successfully uploaded.\r\n\r\nGithub Repo: https://github.com/rwgrier/radar-28115553"
    email: rwgrier@gmail.com
    modified: "2016-09-08T13:04:14.84312Z"
    number: "28115553"
    number_intvalue: 28115553
    originated: 01-Sep-2016 10:58 AM
    parent_number: "27410040"
    product: Developer Tools
    product_version: 8.0 beta 6 (8S201h)
    reproducible: Always
    resolved: 08-Sep-2016 02:27 AM
    status: Duplicate/27410040
    title: Xcode 8 / Swift 2.3 connecting buttons to code via Interface Builder can result in crash
