apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "28597093"
    labels:
        datastore_id: "6067531991220224"
data:
    classification: Serious Bug
    created: "2016-10-03T21:17:18.39825Z"
    description: "Summary:\r\nDownloading the current SourceView sample, the code fails to build with an interface builder internal error\r\n\r\nSteps to Reproduce:\r\n1. Download SourceView\r\n2. Attempt to build\r\n3. Get error\r\n\r\nExpected Results:\r\nWorking sample application\r\n\r\nActual Results:\r\n/* com.apple.ibtool.errors */\r\n/Users/dwaite/Downloads/SourceViewUsingNSOutlineViewwithNSTreeController 2/SourceView/Base.lproj/Main.storyboard: error: Exception while running ibtool: [<__NSCFConstantString 0x114806ca0> valueForUndefinedKey:]: this class is not key value coding-compliant for the key nodeTitle.\r\nBacktrace:\r\n  0   __exceptionPreprocess (in CoreFoundation)\r\n  1   objc_exception_throw (in libobjc.A.dylib)\r\n  2   -[NSException raise] (in CoreFoundation)\r\n  3   -[NSObject(NSKeyValueCoding) valueForUndefinedKey:] (in Foundation)\r\n  4   -[NSObject(NSKeyValueCoding) valueForKey:] (in Foundation)\r\n  5   -[NSObject(NSKeyValueCoding) valueForKeyPath:] (in Foundation)\r\n  6   -[NSBinder valueForBinding:resolveMarkersToPlaceholders:] (in AppKit)\r\n  7   -[NSValueBinder _adjustObject:mode:observedController:observedKeyPath:context:editableState:adjustState:] (in AppKit)\r\n  8   -[NSValueBinder _observeValueForKeyPath:ofObject:context:] (in AppKit)\r\n  9   -[NSTextValueBinder _observeValueForKeyPath:ofObject:context:] (in AppKit)\r\n 10   NSKeyValueNotifyObserver (in Foundation)\r\n 11   NSKeyValueDidChange (in Foundation)\r\n 12   -[NSObject(NSKeyValueObservingPrivate) _changeValueForKey:key:key:usingBlock:] (in Foundation)\r\n 13   _NSSetObjectValueAndNotify (in Foundation)\r\n 14   -[NSTableRowData _addViewToRowView:atColumn:row:] (in AppKit)\r\n 15   -[NSTableRowData _addViewsToRowView:atRow:] (in AppKit)\r\n 16   -[NSTableRowData _initializeRowView:atRow:] (in AppKit)\r\n 17   -[NSTableRowData _addRowViewForVisibleRow:withPriorView:] (in AppKit)\r\n 18   -[NSTableRowData _addRowViewForVisibleRow:withPriorRowIndex:inDictionary:withRowAnimation:] (in AppKit)\r\n 19   -[NSTableRowData _unsafeUpdateVisibleRowEntries] (in AppKit)\r\n 20   -[NSTableRowData updateVisibleRowViews] (in AppKit)\r\n 21   -[NSTableView layout] (in AppKit)\r\n 22   -[NSView _doLayout] (in AppKit)\r\n 23   -[NSView _layoutSubtreeWithOldSize:] (in AppKit)\r\n 24   -[NSView _layoutSubtreeWithOldSize:] (in AppKit)\r\n 25   -[NSView _layoutSubtreeWithOldSize:] (in AppKit)\r\n 26   -[NSView _layoutSubtreeWithOldSize:] (in AppKit)\r\n 27   -[NSView _layoutSubtreeWithOldSize:] (in AppKit)\r\n 28   -[NSView _layoutSubtreeWithOldSize:] (in AppKit)\r\n 29   -[NSView layoutSubtreeIfNeeded] (in AppKit)\r\n 30   -[NSWindow(NSConstraintBasedLayout) _layoutViewTree] (in AppKit)\r\n 31   -[NSWindow(NSConstraintBasedLayout) layoutIfNeeded] (in AppKit)\r\n 32   -[IBCocoaAutolayoutEngine layoutIfNeeded] (in IDEInterfaceBuilderCocoaIntegration)\r\n 33   -[NSISEngine performModifications:withUnsatisfiableConstraintsHandler:] (in Foundation)\r\n 34   -[NSObject(IBAutolayoutFrameworkSupportInternal) ib_performModifications:withUnsatisfiableConstraintsHandler:] (in IBAutolayoutFoundation)\r\n 35   -[IBAutolayoutEngine performInternalEngineModificationsAndAssertOnUnsatisfiableConstraintsIfNeededDuring:withUnsatisfiableConstraintsHandler:] (in IBAutolayoutFoundation)\r\n 36   -[IBAutolayoutEngine continuouslyPerformEngineBootstrappingOperationWithName:untilSuccessWhileTrackingUnsatisfiableConstraintsDuring:withUnsatisfiableConstraintRemovedHandler:] (in IBAutolayoutFoundation)\r\n 37   -[IBAutolayoutEngine initWithArbitrationUnit:options:] (in IBAutolayoutFoundation)\r\n 38   -[IBCocoaAutolayoutEngine initWithArbitrationUnit:options:] (in IDEInterfaceBuilderCocoaIntegration)\r\n 39   -[IBAutolayoutArbitrationUnit computeStatus] (in IBAutolayoutFoundation)\r\n 40   __72-[IBDocumentAutolayoutManager updateAutolayoutStatusInArbitrationUnits:]_block_invoke_2 (in IDEInterfaceBuilderKit)\r\n 41   -[IBDocumentAutolayoutManager ignoreAutolayoutStatusInvalidationDuring:] (in IDEInterfaceBuilderKit)\r\n 42   __72-[IBDocumentAutolayoutManager updateAutolayoutStatusInArbitrationUnits:]_block_invoke (in IDEInterfaceBuilderKit)\r\n 43   -[IBDocumentAutolayoutManager _runAutolayoutCommandForArbitrationUnits:withBlock:] (in IDEInterfaceBuilderKit)\r\n 44   -[IBDocumentAutolayoutManager updateAutolayoutStatusInArbitrationUnits:] (in IDEInterfaceBuilderKit)\r\n 45   -[IBDocumentAutolayoutManager didFireAutolayoutStatusDelayedInvocation:] (in IDEInterfaceBuilderKit)\r\n 46   __48-[DVTDelayedInvocation initWithTarget:selector:]_block_invoke (in DVTFoundation)\r\n 47   -[DVTDelayedInvocation runBlock:] (in DVTFoundation)\r\n 48   -[DVTDelayedInvocation invokeIfNeeded] (in DVTFoundation)\r\n 49   -[DVTDelayedInvocation invoke] (in DVTFoundation)\r\n 50   -[IBDocument ensureAutolayoutStatusIsValid] (in IDEInterfaceBuilderKit)\r\n 51   -[IBDocument changeDocumentTargetRuntimeTo:andPerformFrameDecision:withContext:andContextForUndo:] (in IDEInterfaceBuilderKit)\r\n 52   __85-[IBDocumentCompiler invokeWithIntermediateDocumentOfTargetRuntime:alwaysCopy:block:]_block_invoke (in IDEInterfaceBuilderKit)\r\n 53   -[IBDocumentCompiler invokeWithIntermediateDocument:] (in IDEInterfaceBuilderKit)\r\n 54   -[IBDocumentCompiler invokeWithIntermediateDocumentOfTargetRuntime:alwaysCopy:block:] (in IDEInterfaceBuilderKit)\r\n 55   -[IBCocoaXIBDocumentCompiler compileWithOptions:error:] (in IDEInterfaceBuilderCocoaIntegration)\r\n 56   -[IBCocoaStoryboardDocumentCompiler compileCompilationUnit:options:forSceneCompilationGroup:error:] (in IDEInterfaceBuilderCocoaIntegration)\r\n 57   -[IBStoryboardSceneCompilationGroup compilationResultsForCompilationUnits:options:returningErrors:] (in IDEInterfaceBuilderKit)\r\n 58   -[IBStoryboardDocumentCompiler compileUnitsFromCompilationGroups:filter:options:errors:] (in IDEInterfaceBuilderKit)\r\n 59   __78-[IBStoryboardDocumentCompiler compileContentsOfStoryboardWithOptions:errors:]_block_invoke (in IDEInterfaceBuilderKit)\r\n 60   IBWithAutoInvalidationPool (in IDEInterfaceBuilderKit)\r\n 61   -[IBStoryboardDocumentCompiler compileContentsOfStoryboardWithOptions:errors:] (in IDEInterfaceBuilderKit)\r\n 62   -[IBStoryboardDocumentCompiler internalCompileWithOptions:error:] (in IDEInterfaceBuilderKit)\r\n 63   __57-[IBStoryboardDocumentCompiler compileWithOptions:error:]_block_invoke (in IDEInterfaceBuilderKit)\r\n 64   -[IBDocumentCompiler invokeWithIntermediateDocument:] (in IDEInterfaceBuilderKit)\r\n 65   -[IBDocumentCompiler invokeWithIntermediateDocumentOfTargetRuntime:alwaysCopy:block:] (in IDEInterfaceBuilderKit)\r\n 66   -[IBStoryboardDocumentCompiler compileWithOptions:error:] (in IDEInterfaceBuilderKit)\r\n 67   +[IBDocumentCompiler compileContentsOfDocument:options:error:] (in IDEInterfaceBuilderKit)\r\n 68   __47-[IBDocument compiledPackageWithOptions:error:]_block_invoke (in IDEInterfaceBuilderKit)\r\n 69   -[IBDocumentAutolayoutManager ignoreAutolayoutStatusInvalidationDuring:] (in IDEInterfaceBuilderKit)\r\n 70   -[IBDocument compiledPackageWithOptions:error:] (in IDEInterfaceBuilderKit)\r\n 71   -[IBDocument compileAndWriteToPath:withOptions:error:] (in IDEInterfaceBuilderKit)\r\n 72  0x000000010844b05c (in ibtoold)\r\n 73  0x0000000108446c4b (in ibtoold)\r\n 74  0x00000001084493c8 (in ibtoold)\r\n 75  0x000000010844d3d0 (in ibtoold)\r\n 76  0x000000010844da71 (in ibtoold)\r\n 77  0x000000010844d944 (in ibtoold)\r\n 78  0x000000010843bc0b (in ibtoold)\r\n 79  0x000000010844cfcb (in ibtoold)\r\n 80  0x000000010844c082 (in ibtoold)\r\n 81   start (in libdyld.dylib)\r\n\r\n\r\n2016-10-03 15:06:45.372 ibtoold[66722:4656380] [MT] DVTAssertions: ASSERTION FAILURE in /Library/Caches/com.apple.xbs/Sources/IDEInterfaceBuilder/IDEInterfaceBuilder-11521.1/CLITools/shared/IBCLIErrorForwarder.m:101\r\nDetails:  Uncaught exception: Cannot remove an observer <NSAutounbinderObservance 0x7fb427ed8860> for the key path \"objectValue.nodeIcon\" from <NSTableCellView 0x7fb427ed6b10>, most likely because the value for the key \"objectValue\" has changed without an appropriate KVO notification being sent. Check the KVO-compliance of the NSTableCellView class.\r\n<DVTStackBacktrace: 0x7fb427bbf050>\r\nObject:   <IBCLIErrorForwarder: 0x7fb424807a80>\r\nMethod:   -forwardErrorOutputToDescriptor:whileInvokingBlock:\r\nThread:   <NSThread: 0x7fb42261a160>{number = 1, name = main}\r\nHints: None\r\nBacktrace:\r\n  0   -[DVTAssertionHandler handleFailureInMethod:object:fileName:lineNumber:assertionSignature:messageFormat:arguments:] (in DVTFoundation)\r\n  1   _DVTAssertionHandler (in DVTFoundation)\r\n  2   _DVTAssertionFailureHandler (in DVTFoundation)\r\n  3  0x000000010843bcf2 (in ibtoold)\r\n  4  0x000000010844cfcb (in ibtoold)\r\n  5  0x000000010844c082 (in ibtoold)\r\n  6   start (in libdyld.dylib)\r\n\r\n\r\nVersion:\r\nhttps://developer.apple.com/library/content/samplecode/SourceView/Introduction/Intro.html\r\n\r\nNotes:\r\nIssue appears related to the binding of the 'MyOutlineViewController/View/.../Items/Table Cell View' Title and Image views, which are bound to objectValue.nodeTitle and objectValue.nodeIcon, respectively.\r\n\r\nAs a workaround, I unchecked the \"Raises for Not Applicable Keys\" binding option for both, which let the application compile and start. \r\n\r\nConfiguration:\r\nAttempted on Xcode 8.0 (8A218a) and Xcode 8.1 beta (8T29o), both of which failed\r\n\r\nAttachments:"
    email: david@alkaline-solutions.com
    modified: "2016-10-03T21:17:18.39849Z"
    number: "28597093"
    number_intvalue: 28597093
    originated: 03-Oct-2016
    parent_number: '&{NULL_VALUE}'
    product: Documentation
    product_version: ""
    reproducible: Always
    resolved: ""
    status: Open
    title: Unable to build example SourceView with Xcode 8
