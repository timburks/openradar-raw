apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "24720085"
    labels:
        datastore_id: "4957036605341696"
data:
    classification: Crash
    created: "2016-02-18T15:35:47.68206Z"
    description: "Summary:\r\nUIWebView crashes when browsing sfgate.com within a few page loads <10, usually 2-3. It can crash on the main page, or an article on that site.\r\nSee crash log attached.\r\n\r\nSteps to Reproduce:\r\n1. download a simple UIWebView example app, this one will do: https://github.com/msencenb/UIWebView-Example\r\n2. make sure Info.plist has\r\n<key>NSAppTransportSecurity</key>\r\n<dict>\r\n    <key>NSAllowsArbitraryLoads</key>\r\n    <true/>\r\n</dict>\r\n3. for this example change the default loaded page (the example from step 1 has google.com as the default url:\r\n- (void)viewDidLoad\r\n{\r\n    NSURL *url = [NSURL URLWithString:@\"http://www.sfgate.com\"];\r\n    NSURLRequest *request = [NSURLRequest requestWithURL:url];\r\n    [webView loadRequest:request];\r\n    [super viewDidLoad];\r\n}\r\n4. run the app, click on links from sfgate.com for articles, within a few clicks the crash will occur\r\n\r\nExpected Results:\r\nI expect no crash\r\n\r\nActual Results:\r\nCrashes. All UIWebView-based browsers will crash also (Dolphin, Puffin, Maxthon, Adblock Plus, etc.)\r\n\r\nVersion:\r\niOS 9.1\r\n\r\nConfiguration:\r\nMultiple devices (iPhone 5+6, iPad Air)\r\n\r\nCrash log:\r\nThread : Crashed: com.apple.main-thread\r\n0  JavaScriptCore                 0x186a5a710 WTFCrash + 72\r\n1  JavaScriptCore                 0x186a5a708 WTFCrash + 64\r\n2  WebCore                        0x18797f32c WebCore::StyleResolver::styleForElement(WebCore::Element*, WebCore::RenderStyle*, WebCore::StyleSharingBehavior, WebCore::RuleMatchingBehavior, WebCore::RenderRegion const*) + 2244\r\n3  WebCore                        0x187986604 WebCore::Style::resolveTree(WebCore::Element&, WebCore::RenderStyle&, WebCore::RenderTreePosition&, WebCore::Style::Change) + 596\r\n4  WebCore                        0x187986dd0 WebCore::Style::resolveTree(WebCore::Element&, WebCore::RenderStyle&, WebCore::RenderTreePosition&, WebCore::Style::Change) + 2592\r\n5  WebCore                        0x187986dd0 WebCore::Style::resolveTree(WebCore::Element&, WebCore::RenderStyle&, WebCore::RenderTreePosition&, WebCore::Style::Change) + 2592\r\n6  WebCore                        0x187986dd0 WebCore::Style::resolveTree(WebCore::Element&, WebCore::RenderStyle&, WebCore::RenderTreePosition&, WebCore::Style::Change) + 2592\r\n7  WebCore                        0x187986dd0 WebCore::Style::resolveTree(WebCore::Element&, WebCore::RenderStyle&, WebCore::RenderTreePosition&, WebCore::Style::Change) + 2592\r\n8  WebCore                        0x187986dd0 WebCore::Style::resolveTree(WebCore::Element&, WebCore::RenderStyle&, WebCore::RenderTreePosition&, WebCore::Style::Change) + 2592\r\n9  WebCore                        0x187986dd0 WebCore::Style::resolveTree(WebCore::Element&, WebCore::RenderStyle&, WebCore::RenderTreePosition&, WebCore::Style::Change) + 2592\r\n10 WebCore                        0x18798639c WebCore::Style::resolveTree(WebCore::Document&, WebCore::Style::Change) + 364\r\n11 WebCore                        0x18705e634 WebCore::Document::recalcStyle(WebCore::Style::Change) + 268\r\n12 WebCore                        0x186d63894 WebCore::FrameView::updateLayoutAndStyleIfNeededRecursive() + 60\r\n13 WebKitLegacy                   0x187ca28a0 LayerFlushController::flushLayers() + 52\r\n14 WebCore                        0x18769fa4c WebCore::LayerFlushScheduler::layerFlushCallback() + 44\r\n15 WebKitLegacy                   0x187d2ce78 WebViewLayerFlushScheduler::layerFlushCallback() + 36\r\n16 CoreFoundation                 0x183260588 __CFRUNLOOP_IS_CALLING_OUT_TO_AN_OBSERVER_CALLBACK_FUNCTION__ + 32\r\n17 CoreFoundation                 0x18325e32c __CFRunLoopDoObservers + 372\r\n18 CoreFoundation                 0x18325e75c __CFRunLoopRun + 928\r\n19 CoreFoundation                 0x18318d680 CFRunLoopRunSpecific + 384\r\n20 GraphicsServices               0x18469c088 GSEventRunModal + 180\r\n21 UIKit                          0x188004d90 UIApplicationMain + 204\r\n22 Client                         0x1000833a8 main (main.swift:26)\r\n23 libdispatch.dylib              0x182d2e8b8 (Missing)"
    email: garvankeeley@gmail.com
    modified: "2016-02-18T15:35:47.68226Z"
    number: "24720085"
    number_intvalue: 24720085
    originated: 18-Feb-2016
    parent_number: '&{NULL_VALUE}'
    product: iOS
    product_version: "9.1"
    reproducible: Always
    resolved: ""
    status: Open
    title: UIWebView crashes on sfgate.com
