apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "51303441"
    labels:
        datastore_id: "5060674489155584"
data:
    classification: Serious Bug
    created: "2019-06-03T08:47:47.788795Z"
    description: "Area:\r\nStoreKit\r\n\r\nSummary:\r\nWe currently have subscriptions integrated, and it works without any issues.\r\nWe are integrating new discount subscription (https://developer.apple.com/documentation/storekit/in-app_purchase/implementing_subscription_offers_in_your_app?language=objc) and we have encountered the following error.\r\nWhile trying to purchase subscription (in sandbox environment) with a discounted offer , we get success screen on the device but while debugging we get an error:\r\n'Error Domain=SKErrorDomain Code=0 “Cannot connect to iTunes Store” UserInfo={NSLocalizedDescription=Cannot connect to iTunes Store}'.\r\nWhile checking with the store api(https://sandbox.itunes.apple.com/verifyReceipt) we confirmed that the purchase was indeed successful ( new renewal with \"promotional_offer_id\" was present in the receipt).\r\n\r\nExpected Results:\r\nThis should not throw an error when the purchase is successful."
    email: Arthur.Aghekyan@gmail.com
    modified: "2019-06-03T08:47:47.788932Z"
    number: "51303441"
    number_intvalue: 51303441
    originated: May 31 2019
    parent_number: '&{NULL_VALUE}'
    product: iOS + SDK (StoreKit)
    product_version: 12.2, 12.3.1
    reproducible: Always
    resolved: NO
    status: Open
    title: problem with subscription offer( discount offer) payment
