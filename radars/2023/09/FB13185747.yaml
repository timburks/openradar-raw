apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: FB13185747
    labels:
        datastore_id: "5504812326060032"
data:
    classification: ""
    created: "2023-09-19T00:23:55.505282Z"
    description: "I am on macOS 13.5. “diff —version” gives “Apple diff (based on FreeBSD diff)”.\r\n\r\nOpen terminal, cd to an empty directory, and run the following commands:\r\n\r\nmkdir a b\r\nbase64 -d -o a/x <<< NAo=\r\nbase64 -d -o a/y <<< MQo=\r\nbase64 -d -o b/x <<< Mw==\r\nbase64 -d -o b/y <<< Mgo=\r\ndiff --color=always -r a b\r\n\r\nActual output of the diff command, with color noted in the beginning of line (see screenshot):\r\n(black) diff --color --color=always -r a/x b/x\r\n(black) 1c1\r\n(red)   < 4\r\n(black) ---\r\n(green) > 3\r\n(GREEN) \\ No newline at end of file\r\n(GREEN) diff --color --color=always -r a/y b/y\r\n(GREEN) 1c1\r\n(red)   < 1\r\n(black) ---\r\n(green) > 2\r\n\r\nExpected output (similar to GNU diffutils 3.6):\r\n(black) diff --color --color=always -r a/x b/x\r\n(black) 1c1\r\n(red)   < 4\r\n(black) ---\r\n(green) > 3\r\n(BLACK) \\ No newline at end of file\r\n(BLACK) diff --color --color=always -r a/y b/y\r\n(BLACK) 1c1\r\n(red)   < 1\r\n(black) ---\r\n(green) > 2"
    email: ericli@splunk.com
    modified: "2023-09-19T00:24:29.429606Z"
    number: FB13185747
    number_intvalue: 13185747
    originated: Sep 18, 2023
    parent_number: '&{NULL_VALUE}'
    product: macOS
    product_version: ""
    reproducible: ""
    resolved: No
    status: Open
    title: Diff color not cleared correctly when comparing directories and outputing "No newline at end of file"
