apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: FB8907873
    labels:
        datastore_id: "5021613271547904"
data:
    classification: ""
    created: "2020-11-19T17:03:17.048553Z"
    description: "Basic information\r\nPlease provide a descriptive title for your feedback:\r\nSKReceiptRefreshRequest always fails in Xcode 12.2 with .storekit configuration file\r\nWhich area are you seeing an issue with?\r\nStoreKit Testing in Xcode\r\nWhat type of feedback are you reporting?\r\nIncorrect/Unexpected Behavior\r\nDescription\r\nPlease describe the issue:\r\nHi!\r\n\r\nWhen I run the app with `.storekit` configuration file added to scheme in Xcode 12.2 (latest AppStore version) / iOS 14.2 Simulator, my `SKReceiptRefreshRequest` always fails, I get an error in my `func request(_ request: SKRequest, didFailWithError error: Error)` delegate method.\r\n\r\nSame error happens when I run my StoreKit tests with `.storekit` file configured.\r\n\r\nEverything worked fine on previous Xcode release, so I suggest this is a regression. I restarted both simulator adn Xcode, but that didn't help.\r\nPlease list the steps you took to reproduce the issue:\r\n1. Add correctly set up `.storekit` file to scheme, run the app in iOS 14.2 Simulator\r\n2. Run `SKReceiptRefreshRequest` at some point (I use the button for that)\r\nWhat did you expect to happen?\r\nI expect `SKReceiptRefreshRequest` to finish with success and delegate method func `requestDidFinish(_ request: SKRequest)` to be called\r\nWhat actually happened?\r\nDelegate method `func request(_ request: SKRequest, didFailWithError error: Error)` is called with this error:\r\n\r\n```\r\nError Domain=SKErrorDomain Code=0 \"UNKNOWN_ERROR\" UserInfo={NSLocalizedDescription=UNKNOWN_ERROR, NSUnderlyingError=0x600003c9a040 {Error Domain=ASDServerErrorDomain Code=5002 \"Unhandled exception\" UserInfo={NSLocalizedDescription=Unhandled exception, NSLocalizedFailureReason=An unknown error occurred}}}\r\n```"
    email: v.silvansky@gmail.com
    modified: "2020-11-19T17:03:17.04882Z"
    number: FB8907873
    number_intvalue: 8907873
    originated: Nov 19, 2020
    parent_number: '&{NULL_VALUE}'
    product: iOS SDK
    product_version: "12.2"
    reproducible: ""
    resolved: ""
    status: Open
    title: SKReceiptRefreshRequest always fails in Xcode 12.2 with .storekit configuration file
