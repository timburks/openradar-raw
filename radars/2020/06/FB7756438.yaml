apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: FB7756438
    labels:
        datastore_id: "5031017739976704"
data:
    classification: Crash
    created: "2020-06-23T14:32:44.464641Z"
    description: "Basic information\r\nPlease provide a descriptive title for your feedback:\r\nFruta sample crashes when compact on iPad Pro 12.9\" and selecting a row\r\nWhich area are you seeing an issue with?\r\nSample Code\r\nWhat type of feedback are you reporting?\r\nApplication Crash\r\nIs this Feedback related to a Lab, Engineering Session, or Forum Topic from WWDC20?\r\nYes, an Engineering Session\r\nPlease provide the session title:\r\n10637: Platforms State of the Union\r\nDescription\r\nPlease describe the issue:\r\nI discovered a crash in the Fruta sample from https://developer.apple.com/documentation/swiftui/fruta_building_a_feature-rich_app_with_swiftui\r\n\r\nWhen ran on iPad 12.9\" in compact using the OS multi-tasking split view it crashes when selecting a row. This crash doesn't happen on iPhone or on iPad Pro 11\" in compact.\r\nPlease list the steps you took to reproduce the issue:\r\nLaunch the Frutua sample app on iPad 12.9\" simulator.\r\nDrag on messages from the dock to right side of split view.\r\nAdjust split so Frutua is in compact.\r\nSelect the top row \"Berry Blue\" as in the attached screenshot.\r\nWhat did you expect to happen?\r\nA view should push on.\r\nWhat actually happened?\r\nApp crashes with Thread 1: EXC_BAD_ACCESS (code=1, address=0x47)\r\n\r\n(lldb) bt\r\n* thread #1, queue = 'com.apple.main-thread', stop reason = EXC_BAD_ACCESS (code=1, address=0x47)\r\n  * frame #0: 0x00007fff4a9b11ee AttributeGraph`AG::Graph::input_value_ref_slow(AG::data::ptr<AG::Node>, AG::AttributeID, unsigned int, AGSwiftMetadata const*, bool*, long) + 322\r\n    frame #1: 0x00007fff4a9c22a5 AttributeGraph`AGGraphGetValue + 203\r\n    frame #2: 0x00007fff5501ea99 SwiftUI`SwiftUI.AnimatableFrameAttribute.updateValue() -> () + 105\r\n    frame #3: 0x00007fff54aba2ff SwiftUI`partial apply forwarder for generic specialization <SwiftUI.ViewFrame, SwiftUI.AnimatableFrameAttribute> of implicit closure #2 (Swift.UnsafeMutableRawPointer, __C.AGAttribute) -> () in implicit closure #1 (A1.Type) -> (Swift.UnsafeMutableRawPointer, __C.AGAttribute) -> () in closure #1 () -> (Swift.UnsafeMutableRawPointer, __C.AGAttribute) -> () in closure #1 (Swift.UnsafePointer<A1>) -> AttributeGraph.Attribute<A> in AttributeGraph.Attribute.init<A where A == A1.Value, A1: AttributeGraph.StatefulRule>(A1) -> AttributeGraph.Attribute<A> + 15\r\n    frame #4: 0x00007fff4a9ac3d9 AttributeGraph`AG::Graph::UpdateStack::update() + 505\r\n    frame #5: 0x00007fff4a9ac86f AttributeGraph`AG::Graph::update_attribute(AG::data::ptr<AG::Node>, bool) + 335\r\n    frame #6: 0x00007fff4a9b442d AttributeGraph`AG::Subgraph::update(unsigned int) + 781\r\n    frame #7: 0x00007fff5506748a SwiftUI`SwiftUI.GraphHost.runTransaction() -> () + 186\r\n    frame #8: 0x00007fff54bbe17a SwiftUI`SwiftUI.ViewGraph.updateOutputs(at: SwiftUI.Time) -> () + 90\r\n    frame #9: 0x00007fff54ff238c SwiftUI`closure #1 () -> () in (extension in SwiftUI):SwiftUI.ViewRendererHost.render(interval: Swift.Double, updateDisplayList: Swift.Bool) -> () + 1308\r\n    frame #10: 0x00007fff54ff1167 SwiftUI`(extension in SwiftUI):SwiftUI.ViewRendererHost.render(interval: Swift.Double, updateDisplayList: Swift.Bool) -> () + 343\r\n    frame #11: 0x00007fff55102c51 SwiftUI`SwiftUI._UIHostingView.layoutSubviews() -> () + 241\r\n    frame #12: 0x00007fff55102c75 SwiftUI`@objc SwiftUI._UIHostingView.layoutSubviews() -> () + 21\r\n    frame #13: 0x00007fff24a74928 UIKitCore`-[UIView(CALayerDelegate) layoutSublayersOfLayer:] + 2480\r\n    frame #14: 0x00007fff2789007b QuartzCore`-[CALayer layoutSublayers] + 258\r\n    frame #15: 0x00007fff278964d9 QuartzCore`CA::Layer::layout_if_needed(CA::Transaction*) + 575\r\n    frame #16: 0x00007fff278a2185 QuartzCore`CA::Layer::layout_and_display_if_needed(CA::Transaction*) + 65\r\n    frame #17: 0x00007fff277e49cc QuartzCore`CA::Context::commit_transaction(CA::Transaction*, double, double*) + 496\r\n    frame #18: 0x00007fff2781b61f QuartzCore`CA::Transaction::commit() + 783\r\n    frame #19: 0x00007fff2455a87a UIKitCore`_afterCACommitHandler + 164\r\n    frame #20: 0x00007fff203a2ab7 CoreFoundation`__CFRUNLOOP_IS_CALLING_OUT_TO_AN_OBSERVER_CALLBACK_FUNCTION__ + 23\r\n    frame #21: 0x00007fff2039d5ee CoreFoundation`__CFRunLoopDoObservers + 487\r\n    frame #22: 0x00007fff2039db1f CoreFoundation`__CFRunLoopRun + 1137\r\n    frame #23: 0x00007fff2039d2fa CoreFoundation`CFRunLoopRunSpecific + 538\r\n    frame #24: 0x00007fff2b6c1db3 GraphicsServices`GSEventRunModal + 139\r\n    frame #25: 0x00007fff2452b942 UIKitCore`-[UIApplication _run] + 912\r\n    frame #26: 0x00007fff24530f62 UIKitCore`UIApplicationMain + 1570\r\n    frame #27: 0x00007fff55020cc7 SwiftUI`closure #1 (Swift.UnsafeMutablePointer<Swift.Optional<Swift.UnsafeMutablePointer<Swift.Int8>>>) -> Swift.Never in SwiftUI.(KitRendererCommon in _ACC2C5639A7D76F611E170E831FCA491)(Swift.AnyObject.Type) -> Swift.Never + 119\r\n    frame #28: 0x00007fff55020c3f SwiftUI`SwiftUI.runApp<A where A: SwiftUI.App>(A) -> Swift.Never + 143\r\n    frame #29: 0x00007fff54bb7fdd SwiftUI`static (extension in SwiftUI):SwiftUI.App.main() -> () + 61\r\n    frame #30: 0x0000000109a70d61 Fruta`static FrutaApp.$main(self=Fruta.FrutaApp) at <compiler-generated>:0\r\n    frame #31: 0x0000000109a70e64 Fruta`main at FrutaApp.swift:0\r\n    frame #32: 0x00007fff20253941 libdyld.dylib`start + 1\r\n    frame #33: 0x00007fff20253941 libdyld.dylib`start + 1"
    email: indiekiduk@gmail.com
    modified: "2020-06-23T14:32:44.464846Z"
    number: FB7756438
    number_intvalue: 7756438
    originated: 23/6/20
    parent_number: '&{NULL_VALUE}'
    product: Sample code
    product_version: Xcode 12b1
    reproducible: Always
    resolved: No
    status: Open
    title: Fruta sample crashes when compact on iPad Pro 12.9" and selecting a row
