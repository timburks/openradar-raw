apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "7309864"
    labels:
        datastore_id: "138424"
data:
    classification: Other Bug
    created: "2010-01-21T16:15:01.978562Z"
    description: "16-Oct-2009 10:30 AM Mark Suman:\r\nSummary:\r\nSay you have a file \"testfile\" with a resource fork located at \"testfile/..namedfork/rsrc\". If you try and delete just the resource fork, the file system event that's generated, FSE_DELETE, has an extra path component in the FSE_ARG_STRING src. So, the event source ends up being \"testfile/testfile/..namedfork/rsrc\" instead of \"testfile/..namedfork/rsrc\"\r\n\r\nSteps to Reproduce:\r\nStart monitoring file system events. I used the tool fslogger to watch them.\r\n\"touch testfile\"\r\n\"touch testfile/..namedfork/rsrc\"\r\n\"echo ' modified' >> testfile/..namedfork/rsrc\r\n\"rm -f testfile/..namedfork/rsrc\"\r\nLook at the FSE_DELETE event generated by the last command and note incorrect path.\r\n\r\nExpected Results:\r\nfile path in the FSE_DELETE event should be \"testfile/..namedfork/rsrc\"\r\n\r\nActual Results:\r\nfile path in the FSE_DELETE event is \"testfile/testfile/..namedfork/rsrc\"   It contains an extra path component.\r\n\r\nRegression:\r\nThis is not an issue on Leopard. We run this in our unit tests and the test passes on Leopard, but fails on Snow Leopard. I broke out the test and ran the steps manually from the command line to isolate the problem and make sure it's not a problem with our unit tests."
    email: mwsuman@gmail.com
    modified: "2011-08-28T05:44:02.344034Z"
    number: "7309864"
    number_intvalue: 7309864
    originated: 16-Oct-2009 10:30 AM
    parent_number: '&{NULL_VALUE}'
    product: Mac OS X
    product_version: "10.6"
    reproducible: Always
    resolved: ""
    status: Open
    title: Deleting a resource fork generates a file system event with wrong source
