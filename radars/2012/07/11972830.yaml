apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "11972830"
    labels:
        datastore_id: "1842403"
data:
    classification: Serious Bug
    created: "2012-07-27T12:29:46.952399Z"
    description: "26-Jul-2012 06:27 PM Matt Day:\r\nSummary:\r\nThe day Xcode 4.4 was released, I updated my installation of Xcode 4.3 on my Macbook running OSX 10.7.4.\r\n\r\nAfter updating Xcode using the Mac App Store, I noticed (by running \"gcc -v\") that my Command Line Tools had not been updated. So I ran Xcode and entered Preferences>Downloads and clicked the \"Check and Install Now\" button, but it reported \"No updates available\". The Command Line Tools had an Install button, so I clicked that, expecting it to install the latest CLT. However, after reinstalling the CLT this way, \"gcc -v\" still reported the old version number (LLVM build 2336.9.00).\r\n\r\nThe next day, on my Mac Pro, I updated my Xcode in the same way. This time, Preferences>Downloads showed an Update button for Command Line Tools, and it worked fine -- gcc -v reported the new version number (LLVM build 2336.11.00) and all is well. So I ran Xcode on my Macbook and it still reported \"No updates available\", and clicking Install for Command Line Tools still failed to update my CLT.\r\n\r\nAfter some investigation I found that despite the last modified timestamp on my Macbook's /usr/llvm-gcc-4.2/bin/llvm-gcc-4.2 being updated, the executable still reports the old version number.\r\n\r\nBut, /Applications/Xcode.app/Contents/Developer/usr/llvm-gcc-4.2/bin/llvm-gcc-4.2 reports the NEW version number, and is a different executable than the version in /usr/llvm-gcc-4.2/bin.\r\n\r\nI also found that /usr/bin/ld reports an old version number (Apple Clang 3.1 (build 318.0.61)), while /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/ld reports a new version number (Apple Clang 4.0 (build 421.0.57)).\r\n\r\nSo, the Command Line Tools files in /usr/bin and /usr/llvm-gcc-4.2 are apparently not being updated, despite newer versions of the executables residing in /Applications/Xcode.app. I don't know why.\r\n\r\nSteps to Reproduce:\r\n1. Update Xcode to version 4.4\r\n2. Run Xcode\r\n3. Select Preferences > Downloads\r\n4. Select \"Check and Install Now\"\r\n\r\nExpected Results:\r\nI expect the Command Line Tools installed in /usr/bin and /usr/llvm-gcc-4.2 to report version numbers corresponding with the Xcode 4.4 release:\r\n\r\n$ /usr/bin/ld -v\r\n@(#)PROGRAM:ld  PROJECT:ld64-133.3\r\nconfigured to support archs: armv6 armv7 i386 x86_64\r\nLTO support using: LLVM version 3.1svn, from Apple Clang 4.0 (build 421.0.57)\r\n\r\n$ /usr/bin/gcc -v\r\nUsing built-in specs.\r\nTarget: i686-apple-darwin11\r\nConfigured with: /private/var/tmp/llvmgcc42/llvmgcc42-2336.11~28/src/configure --disable-checking --enable-werror --prefix=/Applications/Xcode.app/Contents/Developer/usr/llvm-gcc-4.2 --mandir=/share/man --enable-languages=c,objc,c++,obj-c++ --program-prefix=llvm- --program-transform-name=/^[cg][^.-]*$/s/$/-4.2/ --with-slibdir=/usr/lib --build=i686-apple-darwin11 --enable-llvm=/private/var/tmp/llvmgcc42/llvmgcc42-2336.11~28/dst-llvmCore/Developer/usr/local --program-prefix=i686-apple-darwin11- --host=x86_64-apple-darwin11 --target=i686-apple-darwin11 --with-gxx-include-dir=/usr/include/c++/4.2.1\r\nThread model: posix\r\ngcc version 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2336.11.00)\r\n\r\nActual Results:\r\nCommand Line Tools installed in /usr/bin and /usr/llvm-gcc-4.2 report old version numbers:\r\n\r\n$ /usr/bin/ld -v\r\n@(#)PROGRAM:ld  PROJECT:ld64-128.2\r\nllvm version 3.1svn, from Apple Clang 3.1 (build 318.0.61)\r\n\r\n$ /usr/bin/gcc -v\r\nUsing built-in specs.\r\nTarget: i686-apple-darwin11\r\nConfigured with: /private/var/tmp/llvmgcc42/llvmgcc42-2336.9~22/src/configure --disable-checking --enable-werror --prefix=/Applications/Xcode.app/Contents/Developer/usr/llvm-gcc-4.2 --mandir=/share/man --enable-languages=c,objc,c++,obj-c++ --program-prefix=llvm- --program-transform-name=/^[cg][^.-]*$/s/$/-4.2/ --with-slibdir=/usr/lib --build=i686-apple-darwin11 --enable-llvm=/private/var/tmp/llvmgcc42/llvmgcc42-2336.9~22/dst-llvmCore/Developer/usr/local --program-prefix=i686-apple-darwin11- --host=x86_64-apple-darwin11 --target=i686-apple-darwin11 --with-gxx-include-dir=/usr/include/c++/4.2.1\r\nThread model: posix\r\ngcc version 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2336.9.00)\r\n\r\nRegression:\r\n\r\nNotes:\r\nOther people have noticed this (or similar) issues and some discussion can be found here:\r\nhttps://github.com/mxcl/homebrew/issues/13591\r\n\r\nAt least one person has reported that the problem can be worked around manually by installing the latest Command Line Tools found at https://developer.apple.com/downloads/"
    email: fjarlq@gmail.com
    modified: "2012-07-27T12:33:16.484444Z"
    number: "11972830"
    number_intvalue: 11972830
    originated: 27-Jul-2012 06:27 AM
    parent_number: '&{NULL_VALUE}'
    product: Developer Tools
    product_version: Xcode 4.4
    reproducible: Sometimes
    resolved: ""
    status: Open
    title: Xcode fails to update Command Line Tools
