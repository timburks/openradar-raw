apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "11188629"
    labels:
        datastore_id: "1643401"
data:
    classification: ""
    created: "2012-04-05T02:51:08.335933Z"
    description: "Summary:\r\n\r\nSyncing Core Data between two devices using iCloud is extremely slow and appears to be associated with numerous errors.\r\n\r\nSteps to Reproduce:\r\n\r\nRun the enclosed test project (also found at https://github.com/alekseyn/iCloudStoreManager) with a provisioning file that has iCloud entitlements enabled. Run the app on two different devices simultaneously, configured to the same iCloud account. Tap the PLUS symbol to add a few lines of data. Then tap the iCloud switch to the ON position, and select \"Move Data\".\r\n\r\nAfter 10 seconds or so, the iCloud switch will automatically be set to ON, and the data from the first device will appear. Tap the PLUS symbol on both devices now and make sure data is synchronized on both devices.\r\n\r\nExpected Results:\r\n\r\nData is synchronized in less than 30 seconds.\r\n\r\nActual Results:\r\n\r\nData often takes 10 to 20 minutes to synchronize. For some reason the problem is much more common on the iPad 3.\r\n\r\nRegression:\r\n\r\n100% when one of the devices is the iPad 3. Much less than 100% on other devices.\r\n\r\nNotes:\r\n\r\nWhen data is changed on one device, we expect to get an NSPersistentStoreDidImportUbiquitousContentChangesNotification on the second device (typically the iPad 3). That notification does eventually arrive after 10 minutes and data is properly synced. However immediately before that notification arrives, a slew of errors are reported to the console:\r\n\r\n+[PFUbiquityTransactionLog loadPlistAtLocation:withError:](378): CoreData: Ubiquity:  Encountered an error trying to open the log file at the location: <PFUbiquityLocation: 0x1c07f0>: /private/var/mobile/Library/Mobile Documents/AN64VUXABU~com~yodelcode~iCloudManager/Data/DDF2BE3E-AA99-468F-BDCB-4FEB8215D4C2/mobile.03001591-5320-59B8-B191-F1E9C1137636/DDF2BE3E-AA99-468F-BDCB-4FEB8215D4C2/O3tixTSneVe~lBBgd~AMTZcjfNo~05nwt~QHLhc9f7I=/13A64272-6E34-416E-BA0D-1D1BC1A22019.1.cdt\r\nError: Error Domain=NSCocoaErrorDomain Code=256 \"The operation couldn‚Äôt be completed. (Cocoa error 256 - The item failed to download.)\" UserInfo=0xde5ff60 {NSURL=file://localhost/private/var/mobile/Library/Mobile%20Documents/AN64VUXABU~com~yodelcode~iCloudManager/Data/DDF2BE3E-AA99-468F-BDCB-4FEB8215D4C2/mobile.03001591-5320-59B8-B191-F1E9C1137636/DDF2BE3E-AA99-468F-BDCB-4FEB8215D4C2/O3tixTSneVe~lBBgd~AMTZcjfNo~05nwt~QHLhc9f7I=/13A64272-6E34-416E-BA0D-1D1BC1A22019.1.cdt, NSDescription=The item failed to download.}\r\n\r\n-[PFUbiquityTransactionLog loadComparisonMetadataWithError:](244): CoreData: Ubiquity:  Error encountered while trying to load the comparison metadata for transaction log: <PFUbiquityTransactionLog: 0xde8b960>\r\n\ttransactionLogLocation: <PFUbiquityLocation: 0x1c07f0>: /private/var/mobile/Library/Mobile Documents/AN64VUXABU~com~yodelcode~iCloudManager/Data/DDF2BE3E-AA99-468F-BDCB-4FEB8215D4C2/mobile.03001591-5320-59B8-B191-F1E9C1137636/DDF2BE3E-AA99-468F-BDCB-4FEB8215D4C2/O3tixTSneVe~lBBgd~AMTZcjfNo~05nwt~QHLhc9f7I=/13A64272-6E34-416E-BA0D-1D1BC1A22019.1.cdt\r\n\ttransactionNumber: (null)\r\n\r\nError: Error Domain=NSCocoaErrorDomain Code=134302 \"The operation couldn‚Äôt be completed. (Cocoa error 134302.)\" UserInfo=0x1b71f0 {reason=Error during property list parsing during import or opening of log file at location: <PFUbiquityLocation: 0x1c07f0>: /private/var/mobile/Library/Mobile Documents/AN64VUXABU~com~yodelcode~iCloudManager/Data/DDF2BE3E-AA99-468F-BDCB-4FEB8215D4C2/mobile.03001591-5320-59B8-B191-F1E9C1137636/DDF2BE3E-AA99-468F-BDCB-4FEB8215D4C2/O3tixTSneVe~lBBgd~AMTZcjfNo~05nwt~QHLhc9f7I=/13A64272-6E34-416E-BA0D-1D1BC1A22019.1.cdt, error: Error Domain=NSCocoaErrorDomain Code=256 \"The operation couldn‚Äôt be completed. (Cocoa error 256 - The item failed to download.)\" UserInfo=0xde5ff60 {NSURL=file://localhost/private/var/mobile/Library/Mobile%20Documents/AN64VUXABU~com~yodelcode~iCloudManager/Data/DDF2BE3E-AA99-468F-BDCB-4FEB8215D4C2/mobile.03001591-5320-59B8-B191-F1E9C1137636/DDF2BE3E-AA99-468F-BDCB-4FEB8215D4C2/O3tixTSneVe~lBBgd~AMTZcjfNo~05nwt~QHLhc9f7I=/13A64272-6E34-416E-BA0D-1D1BC1A22019.1.cdt, NSDescription=The item failed to download.}}\r\n\r\n-[_PFUbiquityStack shouldProcessTransactionLogAtLocation:error:](928): CoreData: Ubiquity:  Couldn't open transaction log at URL: <PFUbiquityLocation: 0x1c07f0>: /private/var/mobile/Library/Mobile Documents/AN64VUXABU~com~yodelcode~iCloudManager/Data/DDF2BE3E-AA99-468F-BDCB-4FEB8215D4C2/mobile.03001591-5320-59B8-B191-F1E9C1137636/DDF2BE3E-AA99-468F-BDCB-4FEB8215D4C2/O3tixTSneVe~lBBgd~AMTZcjfNo~05nwt~QHLhc9f7I=/13A64272-6E34-416E-BA0D-1D1BC1A22019.1.cdt, error: Error Domain=NSCocoaErrorDomain Code=134302 \"The operation couldn‚Äôt be completed. (Cocoa error 134302.)\" UserInfo=0x1b71f0 {reason=Error during property list parsing during import or opening of log file at location: <PFUbiquityLocation: 0x1c07f0>: /private/var/mobile/Library/Mobile Documents/AN64VUXABU~com~yodelcode~iCloudManager/Data/DDF2BE3E-AA99-468F-BDCB-4FEB8215D4C2/mobile.03001591-5320-59B8-B191-F1E9C1137636/DDF2BE3E-AA99-468F-BDCB-4FEB8215D4C2/O3tixTSneVe~lBBgd~AMTZcjfNo~05nwt~QHLhc9f7I=/13A64272-6E34-416E-BA0D-1D1BC1A22019.1.cdt, error: Error Domain=NSCocoaErrorDomain Code=256 \"The operation couldn‚Äôt be completed. (Cocoa error 256 - The item failed to download.)\" UserInfo=0xde5ff60 {NSURL=file://localhost/private/var/mobile/Library/Mobile%20Documents/AN64VUXABU~com~yodelcode~iCloudManager/Data/DDF2BE3E-AA99-468F-BDCB-4FEB8215D4C2/mobile.03001591-5320-59B8-B191-F1E9C1137636/DDF2BE3E-AA99-468F-BDCB-4FEB8215D4C2/O3tixTSneVe~lBBgd~AMTZcjfNo~05nwt~QHLhc9f7I=/13A64272-6E34-416E-BA0D-1D1BC1A22019.1.cdt, NSDescription=The item failed to download.}}"
    email: aleksey@mac.com
    modified: "2012-04-05T02:51:08.336139Z"
    number: "11188629"
    number_intvalue: 11188629
    originated: 4/4/2012
    parent_number: '&{NULL_VALUE}'
    product: iOS
    product_version: "5.1"
    reproducible: YES
    resolved: ""
    status: Open
    title: Using iCloud Core Data Syncing Extremely Slowly
