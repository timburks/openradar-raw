apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "10810415"
    labels:
        datastore_id: "1499403"
data:
    classification: Serious Bug
    created: "2012-02-05T18:32:03.648932Z"
    description: "05-Feb-2012 10:29 AM David MacLachlan:\r\nSummary:\r\nI am attempting to profile (as in gcov style profiling) my unit tests for an Xcode 4.2 project on Snow Leopard (10.6) linking against iOS 5.0. I have turned on -fprofile-arcs -ftest-coverage and I'm linking against -lprofile_rt. Compiling with LLVM 3.0.\r\n\r\nMy target is a static library that is being tested by a unit test bundle.\r\n\r\nEverything compiles fine, but in the link step for the unit test bundle I get:\r\n\r\nld: in Foo/DerivedData/Foo/Build/Intermediates/Foo.build/Debug Profile-iphonesimulator/UnitTests.build/Objects-normal/i386/TestUtilities.o, in section _DATA,_const reloc 0: GENERIC_RELOC_SECTDIFF missing following pair for architecture i386\r\n\r\nThis is the actual link step:\r\n\r\nsetenv MACOSX_DEPLOYMENT_TARGET 10.6 setenv PATH \"/Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin:/Developer/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/X11/bin:/opt/local/bin:/usr/local/git/bin\" /Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin/clang -arch i386 -bundle -isysroot /Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator5.0.sdk \"-LFoo/Build/Products/Debug Profile-iphonesimulator\" -L/Developer/usr/lib \"-FFoo/Build/Products/Debug Profile-iphonesimulator\" -F/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator5.0.sdk/Developer/Library/Frameworks -F/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator5.0.sdk/Developer/Library/Frameworks -filelist \"Foo/DerivedData/Foo/Build/Intermediates/Foo.build/Debug Profile-iphonesimulator/UnitTests.build/Objects-normal/i386/UnitTests.LinkFileList\" -mmacosx-version-min=10.6 -Xlinker -objc_abi_version -Xlinker 2 -fprofile-arcs -ftest-coverage -Xlinker -no_implicit_dylibs -D__IPHONE_OS_VERSION_MIN_REQUIRED=50000 -lFoo -framework Foundation -framework SenTestingKit -lprofile_rt -o \"Foo/DerivedData/Foo/Build/Products/Debug Profile-iphonesimulator/UnitTests.octest/UnitTests\"\r\n\r\nSteps to Reproduce:\r\n\r\n1) Attempt to build for testing the attached project\r\n\r\nExpected Results:\r\n\r\n1) Link and unittests run\r\n\r\nActual Results:\r\n\r\nin section _DATA,_const reloc 0: GENERIC_RELOC_SECTDIFF missing following pair for architecture i386\r\n\r\nRegression:\r\n\r\nIt appears if you simplify the file (i.e. remove several of the STTest statements) it will link and compile. My theory is that it has to do with the number of @exception blocks generated by the macro. I did run into this in the field."
    email: dmaclach@gmail.com
    modified: "2012-02-05T18:32:03.649411Z"
    number: "10810415"
    number_intvalue: 10810415
    originated: 2012/02/05
    parent_number: '&{NULL_VALUE}'
    product: Developer Tools
    product_version: 4.2 (4c199)
    reproducible: Always
    resolved: ""
    status: OPEN
    title: GENERIC_RELOC_SECTDIFF missing following pair for architecture i386
