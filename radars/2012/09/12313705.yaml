apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "12313705"
    labels:
        datastore_id: "1987401"
data:
    classification: Performance
    created: "2012-09-17T19:58:17.968336Z"
    description: "==========================\r\nSummary:\r\n==========================\r\nMac OS X Mountain Lion's Quick Look feature has introduced a severe performance behavior problem with this latest OS X release (Mountain Lion). H.264 encoded videos that are opened with Quick Look now (1) flicker, and (2) have poor rendering performance [i.e. jittery] on some hardware.\r\n\r\nThese problems seem to plague all H.264 video, whether they were created by a DSLR camera, movies downloaded from the iTunes store, or self made videos from scratch. Third party applications that provide their own decoding algorithms such as VLC do not exhibit these same problems using the same source files.\r\n\r\nAdditionally, I have been able to reproduce this problem 100% of the time on both a mid-2010 iMac, and a mid-2007 MacBook Pro. Both of these devices exhibit the flickering issue. Surprisingly however, the poor rendering performance is significantly worse on the newer quad core iMac, and not so apparent on the older MacBook Pro. On both pieces of hardware, playing the exact same source files in a third party video player such as VLC results in near perfect rendering.\r\n\r\n\r\n==========================\r\nSteps to Reproduce:\r\n==========================\r\nGet a computer with Mountain Lion on it and simply open an H.264 encoded video in Quick Look. \r\n\r\n\r\n==========================\r\nExpected Results:\r\n==========================\r\nI expect videos to play without flicker unless those flickers are part of the video itself, and I expect videos to play smoothly and without jitter.\r\n\r\n\r\n==========================\r\nActual Results:\r\n==========================\r\nVideos are rendered with frequent flickers, as though one of the frames or a small sequence of frames are black, or of significantly lower exposure. Additionally, the videos render with poorer quality than third party decoders. Videos opened with Quick Look have a slight jittery appearance and is more severe on some hardware that is NOT a result of underlying hardware performance potential. This is clearly demonstrated with an older MBP rendering video more smoothly than a newer quad core iMac, as well as smooth rendering by third party applications that do not rely on OS X decoding.\r\n\r\nSee the attached files for examples of this problem exhibiting itself on both pieces of hardware. I've organized the videos by source file.\r\n\r\nSOURCE: STAR TREK (downloaded from iTunes Store)\r\n------------------------------------------------\r\n\r\n[file1] Source played on iMac and QuickLook. Notice the flicker in the beginning, and the jitter on the fly over scene.\r\n\r\n[file2] Source played on iMac and VLC with near perfect rendering. Notice how smooth the fly over scene is compared to [file1].\r\n\r\n[file3] Source played on MBP and QuickLook. Notice flicker as character stands up on the surface of the planet. Also notice that the fly over scene is less jittery than the QuickLook render on the iMac, but still more jittery than the VLC render [file4]. You can see this especially with the character moving into the lower right of the frame on the fly over scene.\r\n\r\n[file4] Source played on MBP and VLC. Notice smooth render.\r\n\r\n\r\nSOURCE: Bolt (encoded with Handbrake from DVD)\r\n----------------------------------------------\r\n\r\n[file5] Source played on MBP and QuickLook. Notice the flicker around the time the Pigeons appear. Slight jitter compared to smooth VLC render [file6]\r\n\r\n[file6] Source played on MBP and VLC. Notice the near perfect rendering compared to [file5].\r\n\r\n\r\nAs the videos demonstrate, it is only the video itself that is flickering. It is not the entire screen that is flickering. The flicker appears to occur randomly and at different time points. The severity of the flicker also varies from play to play of the same source material.\r\n\r\n\r\n==========================\r\nRegression:\r\n==========================\r\nThis issue was introduced with OS X Mountain Lion. I redownloaded the Mountain Lion Installer and reinstalled, and this issue still persists on 10.8 and 10.8.1. Thus, it was not a corrupt installation, or an update gone bad.\r\n\r\n\r\n==========================\r\nNotes:\r\n==========================\r\n\r\n[link1] http://www.videolan.org\r\n\r\n[file1] imac_star_trek_quicklook.mp4\r\n[file2] imac_star_trek_vlc.mp4\r\n[file3] mbp_star_trek_quicklook.mp4\r\n[file4] mbp_star_trek_vlc.mp4\r\n\r\n[file5] mbp_bolt_quicklook.mp4\r\n[file6] mbp_bolt_vlc.mp4\r\n[file7] imac.spx\r\n[file8] mbp.spx"
    email: jon@jonsview.com
    modified: "2012-09-17T20:03:33.55487Z"
    number: "12313705"
    number_intvalue: 12313705
    originated: ""
    parent_number: '&{NULL_VALUE}'
    product: Mac OS X
    product_version: 10.8.1 (12B19)
    reproducible: Always
    resolved: ""
    status: Open
    title: Quick Look Mountain Lion Flicker and Jitter on H.264 Videos
