apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "22410990"
    labels:
        datastore_id: "5617562243039232"
data:
    classification: Serious Bug
    created: "2015-08-24T23:32:58.24224Z"
    description: "I have a script that builds my project for CI, by calling xcodebuild for a few Schemes.\r\n\r\nIt has worked great, until today.\r\n\r\nStarting this morning, I have been getting frequent (but not 100%) failures, with error messages like:\r\n\r\n    2015-08-24 16:02:38.679 ibtoold[38183:509542] CFNetwork SSLHandshake failed (-9806)\r\n    2015-08-24 16:02:38.949 ibtoold[38183:509542] CFNetwork SSLHandshake failed (-9802)\r\n    2015-08-24 16:02:39.276 ibtoold[38183:509542] CFNetwork SSLHandshake failed (-9824)\r\n    2015-08-24 16:02:39.373 ibtoold[38183:509542] NSURLConnection/CFURLConnection HTTP load failed (kCFStreamErrorDomainSSL, -9824)\r\n\r\n\r\nThis has happened both on my CI machine (running Jenkins), and on my local machine.\r\n\r\nWhen it happened on my local machine, I saw this in Console.app:\r\n\r\n    8/24/15 1:48:08.573 PM ibtoold[39230]:  DVTAssertions: Warning in /SourceCache/DVTFrameworks/DVTFrameworks-7714/DVTFoundation/Downloadables/DVTDownloadableIndex.m:73\r\n    Details:  Error Domain=NSURLErrorDomain Code=-1200 \"Failed to download index with errors: (\r\n        \"Error Domain=NSURLErrorDomain Code=-1200 \\\"An SSL error has occurred and a secure connection to the server cannot be made.\\\" UserInfo=0x7fd93d094d40 {_kCFStreamErrorDomainKey=3, NSLocalizedRecoverySuggestion=Would you like to connect to the server anyway?, _kCFStreamErrorCodeKey=-9824, NSUnderlyingError=0x7fd93843f090 \\\"An SSL error has occurred and a secure connection to the server cannot be made.\\\", NSErrorPeerCertificateChainKey=(\\n), NSLocalizedDescription=An SSL error has occurred and a secure connection to the server cannot be made., NSErrorFailingURLKey=https://developer.apple.com/library/downloads/docset-index-6.4.0-7FDF5C7A-131F-4ABB-9EDC-8C5F8F0B8A90.dvtdownloadableindex, NSErrorFailingURLStringKey=https://developer.apple.com/library/downloads/docset-index-6.4.0-7FDF5C7A-131F-4ABB-9EDC-8C5F8F0B8A90.dvtdownloadableindex, NSErrorClientCertificateStateKey=0}\",\r\n        \"Error Domain=NSURLErrorDomain Code=-1200 \\\"An SSL error has occurred and a secure connection to the server cannot be made.\\\" UserInfo=0x7fd93d674830 {_kCFStreamErrorDomainKey=3, NSLocalizedRecoverySuggestion=Would you like to connect to the server anyway?, _kCFStreamErrorCodeKey=-9824, NSUnderlyingError=0x7fd938e54c60 \\\"An SSL error has occurred and a secure connection to the server cannot be made.\\\", NSErrorPeerCertificateChainKey=(\\n), NSLocalizedDescription=An SSL error has occurred and a secure connection to the server cannot be made., NSErrorFailingURLKey=https://developer.apple.com/library/downloads/docset-index.dvtdownloadableindex, NSErrorFailingURLStringKey=https://developer.apple.com/library/downloads/docset-index.dvtdownloadableindex, NSErrorClientCertificateStateKey=0}\"\r\n    )\" UserInfo=0x7fd93d01e780 {NSLocalizedDescription=Failed to download index with errors: (\r\n        \"Error Domain=NSURLErrorDomain Code=-1200 \\\"An SSL error has occurred and a secure connection to the server cannot be made.\\\" UserInfo=0x7fd93d094d40 {_kCFStreamErrorDomainKey=3, NSLocalizedRecoverySuggestion=Would you like to connect to the server anyway?, _kCFStreamErrorCodeKey=-9824, NSUnderlyingError=0x7fd93843f090 \\\"An SSL error has occurred and a secure connection to the server cannot be made.\\\", NSErrorPeerCertificateChainKey=(\\n), NSLocalizedDescription=An SSL error has occurred and a secure connection to the server cannot be made., NSErrorFailingURLKey=https://developer.apple.com/library/downloads/docset-index-6.4.0-7FDF5C7A-131F-4ABB-9EDC-8C5F8F0B8A90.dvtdownloadableindex, NSErrorFailingURLStringKey=https://developer.apple.com/library/downloads/docset-index-6.4.0-7FDF5C7A-131F-4ABB-9EDC-8C5F8F0B8A90.dvtdownloadableindex, NSErrorClientCertificateStateKey=0}\",\r\n        \"Error Domain=NSURLErrorDomain Code=-1200 \\\"An SSL error has occurred and a secure connection to the server cannot be made.\\\" UserInfo=0x7fd93d674830 {_kCFStreamErrorDomainKey=3, NSLocalizedRecoverySuggestion=Would you like to connect to the server anyway?, _kCFStreamErrorCodeKey=-9824, NSUnderlyingError=0x7fd938e54c60 \\\"An SSL error has occurred and a secure connection to the server cannot be made.\\\", NSErrorPeerCertificateChainKey=(\\n), NSLocalizedDescription=An SSL error has occurred and a secure connection to the server cannot be made., NSErrorFailingURLKey=https://developer.apple.com/library/downloads/docset-index.dvtdownloadableindex, NSErrorFailingURLStringKey=https://developer.apple.com/library/downloads/docset-index.dvtdownloadableindex, NSErrorClientCertificateStateKey=0}\"\r\n    )}\r\n    Object:   <DVTDownloadableIndexSourceDocs: 0x7fd93d078130>\r\n    Method:   -init\r\n    Thread:   <NSThread: 0x7fd93843e930>{number = 7, name = (null)}\r\n    Please file a bug at http://bugreport.apple.com with this warning message and any useful information you can provide.\r\n\r\n\r\n\r\n\r\nI can load https://developer.apple.com/library/downloads/docset-index.dvtdownloadableindex in a browser, and using `curl https://developer.apple.com/library/downloads/docset-index.dvtdownloadableindex`).  However, `curl -I â€¦` gives:\r\n    HTTP/1.1 401 Unauthorized\r\n    Server: nginx\r\n    Date: Mon, 24 Aug 2015 23:17:56 GMT\r\n    Content-Type: text/html\r\n    Content-Length: 188\r\n    Connection: keep-alive"
    email: kelan@yeahrightkeller.com
    modified: "2015-09-15T15:44:25.39423Z"
    number: "22410990"
    number_intvalue: 22410990
    originated: "2015-08-24"
    parent_number: '&{NULL_VALUE}'
    product: Developer Tools
    product_version: Xcode 6.4 (6E35b), OS X Yosemite 10.10.5 (14F27)
    reproducible: Sometimes
    resolved: ""
    status: Closed
    title: ibtoold CFNetwork SSLHandshake failed error during xcodebuild
