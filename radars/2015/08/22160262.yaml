apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "22160262"
    labels:
        datastore_id: "5612555552686080"
data:
    classification: Crash/Hang/Data Loss
    created: "2015-08-05T22:28:06.35537Z"
    description: "Summary:\r\nChrome is seeing several crashes in _CSGetNamedData(). According to our data, this primarily affects 10.10 and 10.9:\r\n\r\n%   OS Version\r\n39%\t10.10.4 14E46\r\n16%\t10.10.3 14D136\r\n8.4%\t10.10.2 14C109\r\n7.8%\t10.10.2 14C1514\r\n6.5%\t10.10.1 14B25\r\n4.5%\t10.9.5 13F1077\r\n4.25%\t10.9.5 13F34\r\n\r\nSample from 10.10.4 14E46:\r\nThread 65 CRASHED [EXC_BAD_ACCESS / KERN_INVALID_ADDRESS @ 0x000007f7ff314c43 ]\r\n0x00007fff8c80fdb6\t[CarbonCore + 0x0000ddb6 ]\t_CSGetNamedData\r\n0x00007fff91aa425f\t[CoreFoundation + 0x0007a25f ]\t_CFPropertyListCopyShared\r\n0x00007fff91bb923c\t[CoreFoundation + 0x0018f23c ]\tCFBundleCopyLocalizedStringForLocalization\r\n0x00007fff88290c54\t[Foundation + 0x00022c54 ]\t-[NSBundle localizedStringForKey:value:table:]\r\n0x00007fff883408bd\t[Foundation + 0x000d28bd ]\t-[NSError(NSErrorPrivate) _cocoaErrorString:fromBundle:tableName:]\r\n0x00007fff88340564\t[Foundation + 0x000d2564 ]\t-[NSError(NSErrorPrivate) _cocoaErrorString:]\r\n0x00007fff883404f6\t[Foundation + 0x000d24f6 ]\t-[NSError _cocoaErrorStringWithKind:variant:]\r\n0x00007fff88340420\t[Foundation + 0x000d2420 ]\t-[NSError _cocoaErrorStringWithKind:]\r\n0x00007fff8830cea0\t[Foundation + 0x0009eea0 ]\t-[NSError _retainedUserInfoCallBackForKey:]\r\n0x00007fff91b431a7\t[CoreFoundation + 0x001191a7 ]\t_CFErrorCocoaCallBack\r\n0x00007fff91b4171d\t[CoreFoundation + 0x0011771d ]\t_CFErrorCreateLocalizedDescription\r\n0x00007fff8830ccf4\t[Foundation + 0x0009ecf4 ]\t-[NSError localizedDescription]\r\n0x00007fff91b429d0\t[CoreFoundation + 0x001189d0 ]\tCFErrorCopyDescription\r\n0x00007fff91b424f8\t[CoreFoundation + 0x001184f8 ]\t_CFErrorCreateDebugDescription\r\n0x00007fff8830cc61\t[Foundation + 0x0009ec61 ]\t-[NSError description]\r\n0x00007fff88278747\t[Foundation + 0x0000a747 ]\t_NSDescriptionWithLocaleFunc\r\n0x00007fff91a68d26\t[CoreFoundation + 0x0003ed26 ]\t__CFStringAppendFormatCore\r\n0x00007fff91b5e39f\t[CoreFoundation + 0x0013439f ]\t_CFStringCreateWithFormatAndArgumentsAux2\r\n0x00007fff88278630\t[Foundation + 0x0000a630 ]\t-[NSPlaceholderString initWithFormat:locale:arguments:]\r\n0x00007fff85485cbb\t[LaunchServices + 0x00094cbb ]\t-[LSUserActivityDebuggingManager log:common:format:args:file:line:]\r\n0x00007fff854520e9\t[LaunchServices + 0x000610e9 ]\t__ACTLOG\r\n0x00007fff8545311d\t[LaunchServices + 0x0006211d ]\t__52-[LSUserActivityManager(Private) sendInitialMessage]_block_invoke\r\n0x00007fff88365f9a\t[Foundation + 0x000f7f9a ]\t__NSXPCCONNECTION_IS_CALLING_OUT_TO_ERROR_BLOCK__\r\n0x00007fff884f512f\t[Foundation + 0x0028712f ]\t__95-[NSXPCConnection _sendInvocation:withProxy:remoteInterface:withErrorHandler:timeout:userInfo:]_block_invoke322\r\n0x00007fff86b5252b\t[libxpc.dylib + 0x0000b52b ]\t_xpc_connection_reply_callout\r\n0x00007fff86b524b7\t[libxpc.dylib + 0x0000b4b7 ]\t_xpc_connection_call_reply\r\n0x00007fff8fda4c12\t[libdispatch.dylib + 0x00001c12 ]\t_dispatch_client_callout\r\n0x00007fff8fda8364\t[libdispatch.dylib + 0x00005364 ]\t_dispatch_queue_drain\r\n0x00007fff8fda9ecb\t[libdispatch.dylib + 0x00006ecb ]\t_dispatch_queue_invoke\r\n0x00007fff8fda76b6\t[libdispatch.dylib + 0x000046b6 ]\t_dispatch_root_queue_drain\r\n0x00007fff8fdb5fe3\t[libdispatch.dylib + 0x00012fe3 ]\t_dispatch_worker_thread3\r\n0x00007fff8b1a4636\t[libsystem_pthread.dylib + 0x00003636 ]\t_pthread_wqthread\r\n0x00007fff8b1a240c\t[libsystem_pthread.dylib + 0x0000140c ]\tstart_wqthread\r\n0x00007fff8fdb5f88\t[libdispatch.dylib + 0x00012f88 ]\t_dispatch_barrier_sync_f\r\n\r\n\r\n\r\nA different sample from 10.10.4 14E46:\r\nThread 0 CRASHED [EXC_BAD_ACCESS / 0x0000000d @ 0x00007fff93cebdb6 ]\r\n0x00007fff93cebdb6\t[CarbonCore + 0x0000ddb6 ]\t_CSGetNamedData\r\n0x00007fff8f8c625f\t[CoreFoundation + 0x0007a25f ]\t_CFPropertyListCopyShared\r\n0x00007fff8f9db23c\t[CoreFoundation + 0x0018f23c ]\tCFBundleCopyLocalizedStringForLocalization\r\n0x00007fff940c6c54\t[Foundation + 0x00022c54 ]\t-[NSBundle localizedStringForKey:value:table:]\r\n0x00007fff97ddbe68\t[AppKit + 0x006a5e68 ]\t-[NSSavePanel(NSSavePanelLayout) _initContentView]\r\n0x00007fff97dc9408\t[AppKit + 0x00693408 ]\t-[NSSavePanel initWithContentRect:styleMask:backing:defer:]\r\n0x00007fff9798b2f8\t[AppKit + 0x002552f8 ]\t+[NSSavePanel _crunchyRawUnbonedPanel]\r\n0x0000000106074620\t[Google Chrome Framework -select_file_dialog_mac.mm:180 ]\tSelectFileDialogImpl::SelectFileImpl(ui::SelectFileDialog::Type, std::basic_string<unsigned short, base::string16_char_traits, std::allocator<unsigned short> > const&, base::FilePath const&, ui::SelectFileDialog::FileTypeInfo const*, int, std::string const&, NSWindow*, void*)\r\n0x00000001050ba518\t[Google Chrome Framework -save_package_file_picker.cc:210 ]\tSavePackageFilePicker::SavePackageFilePicker(content::WebContents*, base::FilePath const&, std::string const&, bool, DownloadPrefs*, base::Callback<void (base::FilePath const&, content::SavePageType, base::Callback<void (content::DownloadItem*)> const&)> const&)\r\n0x00000001050a664b\t[Google Chrome Framework -chrome_download_manager_delegate.cc:422 ]\tChromeDownloadManagerDelegate::ChooseSavePath(content::WebContents*, base::FilePath const&, std::string const&, bool, base::Callback<void (base::FilePath const&, content::SavePageType, base::Callback<void (content::DownloadItem*)> const&)> const&)\r\n0x00000001082ffd43\t[Google Chrome Framework -save_package.cc:1388 ]\tcontent::SavePackage::ContinueGetSaveInfo(base::FilePath const&, bool)\r\n0x0000000105627f8e\t[Google Chrome Framework -callback.h:396 ]\tbase::debug::TaskAnnotator::RunTask(char const*, char const*, base::PendingTask const&)\r\n0x000000010564761e\t[Google Chrome Framework -message_loop.cc:444 ]\tbase::MessageLoop::RunTask(base::PendingTask const&)\r\n0x00000001056477ad\t[Google Chrome Framework -message_loop.cc:454 ]\tbase::MessageLoop::DeferOrRunPendingTask(base::PendingTask const&)\r\n0x00000001056479ab\t[Google Chrome Framework -message_loop.cc:566 ]\tbase::MessageLoop::DoWork()\r\n0x000000010561e660\t[Google Chrome Framework -message_pump_mac.mm:325 ]\tbase::MessagePumpCFRunLoopBase::RunWork()\r\n0x00007fff8f8cca00\t[CoreFoundation + 0x00080a00 ]\t__CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE0_PERFORM_FUNCTION__\r\n0x00007fff8f8bec5b\t[CoreFoundation + 0x00072c5b ]\t__CFRunLoopDoSources0\r\n0x00007fff8f8be1be\t[CoreFoundation + 0x000721be ]\t__CFRunLoopRun\r\n0x00007fff8f8bdbd7\t[CoreFoundation + 0x00071bd7 ]\tCFRunLoopRunSpecific\r\n0x00007fff9474f56e\t[HIToolbox + 0x0003256e ]\tRunCurrentEventLoopInMode\r\n0x00007fff9474f1ed\t[HIToolbox + 0x000321ed ]\tReceiveNextEventCommon\r\n0x00007fff9474f12a\t[HIToolbox + 0x0003212a ]\t_BlockUntilNextEventMatchingListInModeWithFilter\r\n0x00007fff977c78aa\t[AppKit + 0x000918aa ]\t_DPSNextEvent\r\n0x00007fff977c6e57\t[AppKit + 0x00090e57 ]\t-[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:]\r\n0x00007fff977bcaf2\t[AppKit + 0x00086af2 ]\t-[NSApplication run]\r\n0x000000010561eccd\t[Google Chrome Framework -message_pump_mac.mm:649 ]\tbase::MessagePumpNSApplication::DoRun(base::MessagePump::Delegate*)\r\n0x000000010561e4bb\t[Google Chrome Framework -message_pump_mac.mm:235 ]\tbase::MessagePumpCFRunLoopBase::Run(base::MessagePump::Delegate*)\r\n0x0000000105659642\t[Google Chrome Framework -run_loop.cc:55 ]\tbase::RunLoop::Run()\r\n0x0000000105089130\t[Google Chrome Framework -chrome_browser_main.cc:1710 ]\tChromeBrowserMainParts::MainMessageLoopRun(int*)\r\n0x000000010827f308\t[Google Chrome Framework -browser_main_loop.cc:887 ]\tcontent::BrowserMainLoop::RunMainMessageLoopParts()\r\n0x00000001082818d1\t[Google Chrome Framework -browser_main_runner.cc:209 ]\tcontent::BrowserMainRunnerImpl::Run()\r\n0x000000010827b596\t[Google Chrome Framework -browser_main.cc:26 ]\tcontent::BrowserMain(content::MainFunctionParams const&)\r\n0x00000001055dcf2c\t[Google Chrome Framework -content_main_runner.cc:783 ]\tcontent::ContentMainRunnerImpl::Run()\r\n0x00000001055dc5d5\t[Google Chrome Framework -content_main.cc:19 ]\tcontent::ContentMain(content::ContentMainParams const&)\r\n0x0000000104ff1571\t[Google Chrome Framework -chrome_main.cc:66 ]\tChromeMain\r\n0x0000000104fe4f38\t[Google Chrome -chrome_exe_main_mac.cc:16 ]\tmain\r\n0x0000000104fe4f23\t[Google Chrome + 0x00000f23 ]\tstart\r\n\r\n\r\nYet a different sample from 10.10.4 14E46:\r\nThread 0 CRASHED [EXC_BAD_ACCESS / 0x0000000d @ 0x00007fff80611db6 ]\r\n0x00007fff80611db6\t[CarbonCore + 0x0000ddb6 ]\t_CSGetNamedData\r\n0x00007fff8115625f\t[CoreFoundation + 0x0007a25f ]\t_CFPropertyListCopyShared\r\n0x00007fff8126b23c\t[CoreFoundation + 0x0018f23c ]\tCFBundleCopyLocalizedStringForLocalization\r\n0x00007fff896c6c54\t[Foundation + 0x00022c54 ]\t-[NSBundle localizedStringForKey:value:table:]\r\n0x00007fff87a5abaa\t[AppKit + 0x00251baa ]\t-[_NSServicesPrincipalMenuUpdater addNonserviceMenuItemsToMenu:]\r\n0x00007fff87a5a4c6\t[AppKit + 0x002514c6 ]\t-[_NSServicesPrincipalMenuUpdater populateMenu:withServiceEntries:forDisplay:]\r\n0x00007fff87a542c0\t[AppKit + 0x0024b2c0 ]\t-[_NSServicesMenuUpdater insertServicesIntoMenu:withKeyEvent:isForDisplay:]\r\n0x00007fff87a53ff2\t[AppKit + 0x0024aff2 ]\t-[_NSServicesMenuUpdater updateMenu:withEvent:withFlags:]\r\n0x00007fff87a53f6d\t[AppKit + 0x0024af6d ]\t-[_NSServicesPrincipalMenuUpdater updateMenu:withEvent:withFlags:]\r\n0x00007fff87a46ea4\t[AppKit + 0x0023dea4 ]\t-[NSMenu _populateFromDelegateWithEventRef:]\r\n0x00007fff87a408d2\t[AppKit + 0x002378d2 ]\t-[NSMenu _populateWithEventRef:]\r\n0x00007fff87a46015\t[AppKit + 0x0023d015 ]\t-[NSCarbonMenuImpl _carbonPopulateEvent:handlerCallRef:]\r\n0x00007fff87a45d6a\t[AppKit + 0x0023cd6a ]\tNSSLMMenuEventHandler\r\n0x00007fff83004b6b\t[HIToolbox + 0x00008b6b ]\tDispatchEventToHandlers(EventTargetRec*, OpaqueEventRef*, HandlerCallRec*)\r\n0x00007fff83003fad\t[HIToolbox + 0x00007fad ]\tSendEventToEventTargetInternal(OpaqueEventRef*, OpaqueEventTargetRef*, HandlerCallRec*)\r\n0x00007fff83003e21\t[HIToolbox + 0x00007e21 ]\tSendEventToEventTargetWithOptions\r\n0x00007fff83050aeb\t[HIToolbox + 0x00054aeb ]\tSendMenuPopulate(MenuData*, OpaqueEventTargetRef*, unsigned int, double, unsigned int, OpaqueEventRef*, unsigned char*)\r\n0x00007fff830508b0\t[HIToolbox + 0x000548b0 ]\tPopulateMenu(MenuData*, OpaqueEventTargetRef*, CheckMenuData*, unsigned int, double)\r\n0x00007fff8304ff6b\t[HIToolbox + 0x00053f6b ]\tCheck1MenuForKeyEvent(MenuData*, CheckMenuData*)\r\n0x00007fff8305077c\t[HIToolbox + 0x0005477c ]\tCheck1MenuForKeyEvent(MenuData*, CheckMenuData*)\r\n0x00007fff8304f823\t[HIToolbox + 0x00053823 ]\tCheckMenusForKeyEvent(MenuData*, CheckMenuData*)\r\n0x00007fff8304f428\t[HIToolbox + 0x00053428 ]\t_IsMenuKeyEvent(MenuData*, OpaqueEventRef*, unsigned int, MenuData**, unsigned short*)\r\n0x00007fff8304f11f\t[HIToolbox + 0x0005311f ]\tIsMenuKeyEvent\r\n0x00007fff87a45995\t[AppKit + 0x0023c995 ]\t+[NSCarbonMenuImpl _menuItemWithKeyEquivalentMatchingEventRef:inMenu:]\r\n0x00007fff87a45719\t[AppKit + 0x0023c719 ]\t_NSFindMenuItemMatchingCommandKeyEvent\r\n0x00007fff87963c20\t[AppKit + 0x0015ac20 ]\t_NSHandleCarbonMenuEvent\r\n0x00007fff8789abfc\t[AppKit + 0x00091bfc ]\t_DPSNextEvent\r\n0x00007fff87899e57\t[AppKit + 0x00090e57 ]\t-[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:]\r\n0x00007fff8788faf2\t[AppKit + 0x00086af2 ]\t-[NSApplication run]\r\n0x0000000109a04bcd\t[Google Chrome Framework -message_pump_mac.mm:649 ]\tbase::MessagePumpNSApplication::DoRun(base::MessagePump::Delegate*)\r\n0x0000000109a043bb\t[Google Chrome Framework -message_pump_mac.mm:235 ]\tbase::MessagePumpCFRunLoopBase::Run(base::MessagePump::Delegate*)\r\n0x0000000109a3f542\t[Google Chrome Framework -run_loop.cc:55 ]\tbase::RunLoop::Run()\r\n0x000000010946f030\t[Google Chrome Framework -chrome_browser_main.cc:1710 ]\tChromeBrowserMainParts::MainMessageLoopRun(int*)\r\n0x000000010c665208\t[Google Chrome Framework -browser_main_loop.cc:887 ]\tcontent::BrowserMainLoop::RunMainMessageLoopParts()\r\n0x000000010c6677d1\t[Google Chrome Framework -browser_main_runner.cc:209 ]\tcontent::BrowserMainRunnerImpl::Run()\r\n0x000000010c661496\t[Google Chrome Framework -browser_main.cc:26 ]\tcontent::BrowserMain(content::MainFunctionParams const&)\r\n0x00000001099c2e2c\t[Google Chrome Framework -content_main_runner.cc:783 ]\tcontent::ContentMainRunnerImpl::Run()\r\n0x00000001099c24d5\t[Google Chrome Framework -content_main.cc:19 ]\tcontent::ContentMain(content::ContentMainParams const&)\r\n0x00000001093d7471\t[Google Chrome Framework -chrome_main.cc:66 ]\tChromeMain\r\n0x00000001093cff38\t[Google Chrome -chrome_exe_main_mac.cc:16 ]\tmain\r\n0x00000001093cff23\t[Google Chrome + 0x00000f23 ]\tstart\r\n\r\n\r\n\r\nSample from 10.9.5 13F34:\r\nThread 34 CRASHED [EXC_BAD_ACCESS / 0x0000000d @ 0x00007fff843bb06d ]\r\n0x00007fff843bb06d\t[CarbonCore + 0x0000706d ]\t_CSGetNamedData\r\n0x00007fff8e202b59\t[AppKit + 0x00018b59 ]\t_NSPersistentUIGetShmem\r\n0x00007fff8e20710c\t[AppKit + 0x0001d10c ]\t___NSPersistentUIFetchEncryptionKey_block_invoke\r\n0x00007fff8eb402f6\t[AppKit + 0x009562f6 ]\trun_cocoa_block\r\n0x00007fff8eb402ae\t[AppKit + 0x009562ae ]\tmy_io_execute_passive_block_with_release\r\n0x00007fff8dae928c\t[libdispatch.dylib + 0x0000128c ]\t_dispatch_client_callout\r\n0x00007fff8daeb081\t[libdispatch.dylib + 0x00003081 ]\t_dispatch_root_queue_drain\r\n0x00007fff8daec176\t[libdispatch.dylib + 0x00004176 ]\t_dispatch_worker_thread2\r\n0x00007fff8ad49ef7\t[libsystem_pthread.dylib + 0x00002ef7 ]\t_pthread_wqthread\r\n0x00007fff8ad4cfb8\t[libsystem_pthread.dylib + 0x00005fb8 ]\tstart_wqthread\r\n0x00007fff8daec14e\t[libdispatch.dylib + 0x0000414e ]\t_dispatch_force_cache_cleanup\r\n\r\nSteps to Reproduce:\r\nWe do not have reproduction steps for this issue, however we have received several reports of it in our issue tracker. Generally reporters find that repairing disk permissions fixes it temporarily, but then the problem reoccurs.\r\n\r\nThis crash appears to happen either with only system code on the stack or as the result of Chrome calling a system API. There are reports of this crash with similar stacks in other products as well:\r\n\r\nhttps://trac.videolan.org/vlc/ticket/11828\r\nhttp://log.sequelpro.com/viewreports/2428\r\nhttps://discussions.apple.com/thread/5590392?tstart=0\r\n\r\nChrome is tracking this issue at https://code.google.com/p/chromium/issues/detail?id=511679.\r\n\r\nExpected Results:\r\n\r\n\r\nActual Results:\r\n\r\n\r\nVersion:\r\n10.10.*\r\n\r\nNotes:\r\n\r\nConfiguration:\r\nThis appears to primarily affect 10.10 but it was also present on 10.9.\r\n\r\nAttachments:"
    email: rsesek@gmail.com
    modified: "2015-08-05T22:28:06.35562Z"
    number: "22160262"
    number_intvalue: 22160262
    originated: "2015-08-05"
    parent_number: '&{NULL_VALUE}'
    product: OS X
    product_version: 10.10.*
    reproducible: Unable
    resolved: ""
    status: Open
    title: Crashes in _CSGetNamedData()
