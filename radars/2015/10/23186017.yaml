apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "23186017"
    labels:
        datastore_id: "5030219693948928"
data:
    classification: Serious
    created: "2015-10-20T17:59:34.5804Z"
    description: "Summary:\r\nWebDAV Files Unreadable from El Capitan Server\r\n\r\nSteps to Reproduce:\r\n1) Upgrade working Yosemite/Server 5 to El Capitan, OR\r\n2) Clean install El Capitan/Server 5\r\n\r\nExpected Results:\r\n1) WebDAV to continue to work, OR\r\n2) WebDAV to work\r\n\r\nActual Results:\r\nPDFs report as damaged or unknown file type but open normally under AFS.\r\nMS DOCs show as blank page but display normally under AFS.\r\n\r\nRegression:\r\nThis is a client bug as access is normal using Transmit 4 and server WebDAV logs show no errors.\r\nBug is present on both Yosemite and El Capitan clients.\r\n\r\nNotes:\r\nAttached log is from El Capitan client. 1st section shows PDF access, 2nd section shows DOC access.\r\n\r\n-----\r\n\r\n10/20/15 12:53:46.434 PM Preview[577]: read_file: warning: failed to read entire file.\r\n10/20/15 12:53:46.435 PM Preview[577]: PVPDFPageContainer initWithURL:file:///Volumes/IndieFiles/Fall%20Schedule.pdf failed, error = Error Domain=NSCocoaErrorDomain Code=259 \"The file “Fall Schedule.pdf” could not be opened.\" UserInfo={NSURL=file:///Volumes/IndieFiles/Fall%20Schedule.pdf, NSLocalizedDescription=The file “Fall Schedule.pdf” could not be opened., NSLocalizedRecoverySuggestion=It may be damaged or use a file format that Preview doesn’t recognize.}\r\n\r\n-----\r\n\r\n10/20/15 12:56:14.699 PM com.apple.xpc.launchd[1]: (com.apple.quicklook[1143]) Endpoint has been activated through legacy launch(3) APIs. Please switch to XPC or bootstrap_check_in(): com.apple.quicklook\r\n10/20/15 12:56:14.000 PM kernel[0]: webdav_sendmsg: sock_connect() = 1\r\n10/20/15 12:56:14.000 PM kernel[0]: webdav_sendmsg: sock_connect() = 1\r\n10/20/15 12:56:14.000 PM kernel[0]: webdav_sendmsg: sock_connect() = 1\r\n10/20/15 12:56:14.000 PM kernel[0]: webdav_sendmsg: sock_connect() = 1\r\n10/20/15 12:56:14.833 PM sandboxd[345]: ([1144]) QuickLookSatelli(1144) deny network-outbound /private/tmp/.webdavUDS.7nYxyD\r\n10/20/15 12:56:14.840 PM sandboxd[345]: ([1144]) QuickLookSatelli(1144) deny network-outbound /private/tmp/.webdavUDS.7nYxyD\r\n10/20/15 12:56:14.000 PM kernel[0]: webdav_sendmsg: sock_connect() = 1\r\n10/20/15 12:56:14.846 PM sandboxd[345]: ([1144]) QuickLookSatelli(1144) deny network-outbound /private/tmp/.webdavUDS.7nYxyD\r\n10/20/15 12:56:14.852 PM sandboxd[345]: ([1144]) QuickLookSatelli(1144) deny network-outbound /private/tmp/.webdavUDS.7nYxyD\r\n10/20/15 12:56:14.864 PM sandboxd[345]: ([1144]) QuickLookSatelli(1144) deny network-outbound /private/tmp/.webdavUDS.7nYxyD\r\n10/20/15 12:56:14.874 PM QuickLookSatellite[1144]: Failed to obtain sandbox extension for path=/Users/indie/Library/Caches/com.apple.quicklook.satellite. Errno:1\r\n10/20/15 12:56:14.000 PM kernel[0]: Sandbox: QuickLookSatelli(1144) deny(1) mach-lookup com.apple.nsurlstorage-cache\r\n10/20/15 12:56:14.878 PM QuickLookSatellite[1144]: Failed to obtain sandbox extension for path=/Users/indie/Library/Caches/com.apple.quicklook.satellite. Errno:1\r\n10/20/15 12:56:14.000 PM kernel[0]: Sandbox: QuickLookSatelli(1144) deny(1) mach-lookup com.apple.networkd\r\n10/20/15 12:56:14.884 PM QuickLookSatellite[1144]: __net_helper_get_connection_block_invoke_3 could not connect to networkd\r\n10/20/15 12:56:14.887 PM QuickLookSatellite[1144]: __nw_path_evaluator_start_helper_connection_block_invoke net_helper_path_evaluation_start callback failed, dumping backtrace:\r\n        [x86_64] libnetcore-582.1.4\r\n    0   libsystem_network.dylib             0x00007fff8ca64a05 __nw_create_backtrace_string + 123\r\n    1   libsystem_network.dylib             0x00007fff8ca7dc61 __nw_path_evaluator_start_helper_connection_block_invoke + 22\r\n    2   libxpc.dylib                        0x00007fff920bf74b _xpc_connection_reply_callout + 26\r\n    3   libxpc.dylib                        0x00007fff920bf6ec _xpc_connection_call_reply + 36\r\n    4   libdispatch.dylib                   0x00007fff91968453 _dispatch_client_callout + 8\r\n    5   libdispatch.dylib                   0x00007fff9196d083 _dispatch_queue_drain + 754\r\n    6   libdispatch.dylib                   0x00007fff919736c9 _dispatch_queue_invoke + 549\r\n    7   libdispatch.dylib                   0x00007fff9196bd9b _dispatch_root_queue_drain + 538\r\n    8   libdispatch.dylib                   0x00007fff9196bb48 _dispatch_worker_thread3 + 91\r\n    9   libsystem_pthread.dylib             0x00007fff8c25e4f2 _pthread_wqthread + 1129\r\n    10  libsystem_pthread.dylib             0x00007fff8c25c375 start_wqthread + 13\r\n10/20/15 12:56:14.887 PM QuickLookSatellite[1144]: nw_path_evaluator_start_helper_connection net_helper_path_evaluation_start failed, dumping backtrace:\r\n        [x86_64] libnetcore-582.1.4\r\n    0   libsystem_network.dylib             0x00007fff8ca64a05 __nw_create_backtrace_string + 123\r\n    1   libsystem_network.dylib             0x00007fff8ca7a088 nw_path_evaluator_start_helper_connection + 196\r\n    2   libdispatch.dylib                   0x00007fff919738ff _dispatch_call_block_and_release + 12\r\n    3   libdispatch.dylib                   0x00007fff91968453 _dispatch_client_callout + 8\r\n    4   libdispatch.dylib                   0x00007fff9196d083 _dispatch_queue_drain + 754\r\n    5   libdispatch.dylib                   0x00007fff919736c9 _dispatch_queue_invoke + 549\r\n    6   libdispatch.dylib                   0x00007fff9196bd9b _dispatch_root_queue_drain + 538\r\n    7   libdispatch.dylib                   0x00007fff9196bb48 _dispatch_worker_thread3 + 91\r\n    8   libsystem_pthread.dylib             0x00007fff8c25e4f2 _pthread_wqthread + 1129\r\n    9   libsystem_pthread.dylib             0x00007fff8c25c375 start_wqthread + 13\r\n10/20/15 12:56:14.890 PM sandboxd[345]: ([1144]) QuickLookSatelli(1144) deny file-issue-extension /Users/indie/Library/Caches/com.apple.quicklook.satellite\r\n10/20/15 12:56:14.909 PM sandboxd[345]: ([1144]) QuickLookSatelli(1144) deny mach-lookup com.apple.nsurlstorage-cache\r\n10/20/15 12:56:14.916 PM QuickLookSatellite[1144]: CGSConnectionByID: 0 is not a valid connection ID.\r\n10/20/15 12:56:14.916 PM QuickLookSatellite[1144]: Invalid Connection ID 0\r\n10/20/15 12:56:14.925 PM sandboxd[345]: ([1144]) QuickLookSatelli(1144) deny file-issue-extension /Users/indie/Library/Caches/com.apple.quicklook.satellite\r\n10/20/15 12:56:14.963 PM iconservicesagent[303]: -[ISGenerateImageOp generateImageWithCompletion:] Failed to composit image for descriptor <ISBindingImageDescriptor: 0x7f96e0e0ac20>.\r\n10/20/15 12:56:14.964 PM quicklookd[1143]: Error returned from iconservicesagent: (null)"
    email: steve@indieit.com
    modified: "2016-05-17T23:08:02.14487Z"
    number: "23186017"
    number_intvalue: 23186017
    originated: 10/20/15
    parent_number: '&{NULL_VALUE}'
    product: OS X
    product_version: "10.11"
    reproducible: Always
    resolved: ""
    status: Open
    title: WebDAV Files Unreadable
