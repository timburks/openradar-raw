apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "22826286"
    labels:
        datastore_id: "6329651446153216"
data:
    classification: ""
    created: "2015-09-23T20:44:04.66447Z"
    description: "Summary:\r\nThe iOS 9 Universal Links feature requires an /apple-app-site-association file to be hosted on the webserver to be associated with the app. If the app is installed prior to upgrading the device to iOS 9, then the app/site association is not correctly updated after the upgrade, resulting in Universal Links not working.\r\n\r\nThe issue has been widely reported internally at Dropbox.\r\n\r\nSteps to Reproduce:\r\n1. Running iOS 8.4 on an iPad Air 2, I installed Dropbox 4.0, Yelp 10.2.1, Quip 4.3 from the App Store. I opened Dropbox once.\r\n2. I performed an OTA upgrade to iOS 9.0.1.\r\n3. I created a test page with the following links and tapped them in Mobile Safari. Dropbox and Yelp did not trigger Universal Links, but Quip did:\r\n    - https://www.dropbox.com/s/terjr1q407u7xzu/3342.jpg\r\n    - https://www.yelp.com/biz/a-tale-ahead-photography-pacifica\r\n    - https://www.quip.com/ \r\n4. I uninstalled and reinstalled Dropbox, and Universal Links started working. I did the same for Yelp and it started working as well.\r\n\r\n\r\nExpected Results:\r\nI should not have to delete and reinstall an app to make Universal Links work. It should work immediately after upgrading to iOS 9.\r\n\r\nActual Results:\r\nAfter upgrading to iOS 9, I had to delete and reinstall apps to trigger the /apple-app-site-association file to be re-downloaded and for the app and site to be associated.\r\n\r\nVersion:\r\niOS 9.0.1 (13A404)\r\n\r\nNotes:\r\nSee attachment for current versions of Dropbox, Yelp, and Quip's apple-app-site-association JSON content.\r\n\r\nConfiguration:\r\niPad Air 2 A1566\r\n\r\nAttachments:\r\n'attachment.txt', 'aasa-dropbox', 'aasa-quip' and 'aasa-yelp' were successfully uploaded.\r\n\r\n===\r\nDecoded apple-app-site-association JSON content for Dropbox, Yelp, and Quip is as follows:\r\n\r\n{\r\n\t\"applinks\": {\r\n\t\t\"apps\": [],\r\n\t\t\t\"details\": {\r\n\t\t\t\t\"8KM394JM3R.com.getdropbox.Dropbox\": {\r\n\t\t\t\t\t\"paths\": [\r\n\t\t\t\t\t\t\"/s/*\",\r\n\t\t\t\t\t\t\"/sh/*\",\r\n\t\t\t\t\t\t\"/member_link/*\",\r\n\t\t\t\t\t\t\"/spri/*\",\r\n\t\t\t\t\t\t\"/l/s/*\",\r\n\t\t\t\t\t\t\"/l/sh/*\",\r\n\t\t\t\t\t\t\"/l/member_link/*\",\r\n\t\t\t\t\t\t\"/l/spri/*\"\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t\"XGP696M5GC.com.dropbox.DropboxTest\": {\r\n\t\t\t\t\t\"paths\": [\r\n\t\t\t\t\t\t\"/s/*\",\r\n\t\t\t\t\t\t\"/sh/*\",\r\n\t\t\t\t\t\t\"/member_link/*\",\r\n\t\t\t\t\t\t\"/spri/*\",\r\n\t\t\t\t\t\t\"/l/s/*\",\r\n\t\t\t\t\t\t\"/l/sh/*\",\r\n\t\t\t\t\t\t\"/l/member_link/*\",\r\n\t\t\t\t\t\t\"/l/spri/*\"\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t}\r\n}\r\n\r\n{\r\n    \"applinks\": {\r\n        \"apps\": [],\r\n        \"details\": [\r\n                {\r\n                        \"appID\": \"BAES6XU9E4.com.yelp.yelpiphone\",\r\n   \t \t\t\"paths\": [ \"/\", \"/home\", \"/biz/*\", \"/search\", \"/biz_photos/*\", \"/c/*\", \"/map/*\", \"/user_details\", \"/talk\", \"/talk/*\", \"/topic/*\", \"/events\" ]\t\r\n\t}\r\n        ]\r\n    },\r\n    \"webcredentials\":{\r\n    \t\"apps\":[\r\n     \t\t \"BAES6XU9E4.com.yelp.yelpiphone\"\r\n   \t ]\r\n    }\r\n}\r\n\r\n{\r\n    \"activitycontinuation\": {\r\n        \"apps\": [\r\n            \"FMRT79K8DG.com.quip.Quip\",\r\n            \"N595V8ZZGS.org.backchannel.Docs\"\r\n        ]\r\n    },\r\n    \"applinks\": {\r\n        \"apps\": [],\r\n        \"details\": {\r\n            \"FMRT79K8DG.com.quip.Quip\": {\r\n                \"paths\": [\r\n                    \"/???????????\",\r\n                    \"/????????????\"\r\n                ]\r\n            },\r\n            \"N595V8ZZGS.org.backchannel.Docs\": {\r\n                \"paths\": [\r\n                    \"/???????????\",\r\n                    \"/????????????\"\r\n                ]\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nNote: Quip's signed JSON does not pass signature verification, but the JSON is well-formed."
    email: davidz@dropbox.com
    modified: "2015-09-23T20:44:04.66488Z"
    number: "22826286"
    number_intvalue: 22826286
    originated: "2015-09-23"
    parent_number: '&{NULL_VALUE}'
    product: iOS
    product_version: 9.0.1
    reproducible: Sometimes
    resolved: ""
    status: Open
    title: Upgrading from iOS 8 to iOS 9 does not update /apple-app-site-association for Universal Links
