apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "21175489"
    labels:
        datastore_id: "4965652141965312"
data:
    classification: ""
    created: "2015-06-12T11:15:10.35368Z"
    description: "This issue was fixed in Xcode 7 beta 2\r\n\r\n=========================================\r\nSummary:\r\nThe function UI_USER_INTERFACE_IDIOM(), when called to determine the value of a static constant (in a Swift class), causes the app to crash. This happens only when compiler optimization is enabled.\r\n\r\nSteps to Reproduce:\r\n- Open the attached sample project file.\r\n- Build and run the app (make sure that Release configuration is selected, where optimization is enabled).\r\n\r\n\r\n\r\nExpected Results:\r\n- The size declared in the ImageFormatSize class must be printed on the Console.\r\n\r\nActual Results:\r\nThe app crashes with the following Console output:\r\n\r\n2015-05-31 11:58:32.567 SwiftCrash[2826:435294] *** NSForwarding: warning: selector (0x107a284fd) for message 'currentDevice' does not match selector known to Objective C runtime (0x10c883c36)-- abort\r\n2015-05-31 11:58:32.567 SwiftCrash[2826:435294] +[UIDevice currentDevice]: unrecognized selector sent to class 0x109290248\r\n2015-05-31 11:58:32.574 SwiftCrash[2826:435294] *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '+[UIDevice currentDevice]: unrecognized selector sent to class 0x109290248'\r\n*** First throw call stack:\r\n(\r\n\t0   CoreFoundation                      0x0000000107c19c65 __exceptionPreprocess + 165\r\n\t1   libobjc.A.dylib                     0x0000000109784bb7 objc_exception_throw + 45\r\n\t2   CoreFoundation                      0x0000000107c20fad +[NSObject(NSObject) doesNotRecognizeSelector:] + 205\r\n\t3   CoreFoundation                      0x0000000107b7713c ___forwarding___ + 988\r\n\t4   CoreFoundation                      0x0000000107b76cd8 _CF_forwarding_prep_0 + 120\r\n\t5   SwiftCrash                          0x0000000107a244f0 globalinit_33_454CCB527129803F40839F353AC41F64_func0 + 32\r\n\t6   libswiftCore.dylib                  0x0000000109af6bf0 __swift_once_block_invoke + 16\r\n\t7   libdispatch.dylib                   0x0000000109ea8614 _dispatch_client_callout + 8\r\n\t8   libdispatch.dylib                   0x0000000109e94881 dispatch_once_f + 565\r\n\t9   libswiftCore.dylib                  0x0000000109af6bcd swift_once + 157\r\n\t10  SwiftCrash                          0x0000000107a24114 _TToFC10SwiftCrash11AppDelegate11applicationfS0_FTCSo13UIApplication29didFinishLaunchingWithOptionsGSqGVSs10DictionaryCSo8NSObjectPSs9AnyObject____Sb + 196\r\n\t11  UIKit                               0x00000001084b3788 -[UIApplication _handleDelegateCallbacksWithOptions:isSuspended:restoreState:] + 240\r\n\t12  UIKit                               0x00000001084b4397 -[UIApplication _callInitializationDelegatesForMainScene:transitionContext:] + 2540\r\n\t13  UIKit                               0x00000001084b71de -[UIApplication _runWithMainScene:transitionContext:completion:] + 1349\r\n\t14  UIKit                               0x00000001084b60d5 -[UIApplication workspaceDidEndTransaction:] + 179\r\n\t15  FrontBoardServices                  0x000000010b2945e5 __31-[FBSSerialQueue performAsync:]_block_invoke_2 + 21\r\n\t16  CoreFoundation                      0x0000000107b4d41c __CFRUNLOOP_IS_CALLING_OUT_TO_A_BLOCK__ + 12\r\n\t17  CoreFoundation                      0x0000000107b43165 __CFRunLoopDoBlocks + 341\r\n\t18  CoreFoundation                      0x0000000107b42f25 __CFRunLoopRun + 2389\r\n\t19  CoreFoundation                      0x0000000107b42366 CFRunLoopRunSpecific + 470\r\n\t20  UIKit                               0x00000001084b5b42 -[UIApplication \r\n\r\nVersion:\r\nThis happens with both Xcode 6.3.2 and 6.4 beta\r\n\r\nNotes:\r\n\r\n\r\nConfiguration:\r\nThis happens with both Xcode 6.3.2 and 6.4 beta\r\n\r\nUpdate: Also in Xcode 7 beta"
    email: serieuxchat@gmail.com
    modified: "2015-06-30T09:03:08.20958Z"
    number: "21175489"
    number_intvalue: 21175489
    originated: May 31, 2015
    parent_number: '&{NULL_VALUE}'
    product: iOS
    product_version: ""
    reproducible: ""
    resolved: ""
    status: Closed
    title: UI_USER_INTERFACE_IDIOM() causes a crash in static Swift constant when optimization is enabled
