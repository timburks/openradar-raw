apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "21813162"
    labels:
        datastore_id: "5193800905392128"
data:
    classification: Other Bug
    created: "2015-07-14T13:49:21.75756Z"
    description: "Summary:\r\nIf an iOS application defines a custom direct UIControl subclass which has NSString ivars, instances of this subclass will have an implicit accessibility label generated by Accessibility framework from values of these NSString ivars, unless \"accessibilityLabel\" property is overridden or a value is assigned to it explicitly. This can be undesirable, since there's no way to tell whether these NSString ivars hold a user-facing value, or they're internal implementation details. Framework shouldn't try inspecting private ivars in attempt to extract some information for the user, especially in case of accessibility.\r\n\r\nSteps to Reproduce:\r\n1. Create a new iOS app project.\r\n2. Create a class that inherits directly from UIControl, e.g. \"MyCustomControl\".\r\n3. In MyCustomControl class, define ivar-backed properties \"prop1\" and \"prop2\" of class NSString. These can be public or private to the implementation.\r\n4. Somewhere in the app, instantiate MyCustomControl and assign values to these properties like this:\r\ncontrol.prop1 = @\"Value1\"; control.prop2 = @\"Value2\";\r\n5. Open iOS Simulator and enable Accessibility Inspector, or enable VoiceOver on iOS device.\r\n6. Launch the app. Read the value of that MyCustomControl object's accessibilityLabel – whether in code, in debugger, using VoiceOver or Accessibility Inspector.\r\n\r\nExpected Results:\r\nAccessibility label should be empty as it was not defined by developer.\r\n\r\nActual Results:\r\nAccessibility label is actually this: \"Value1, Value2\", as Accessibility framework derived it implicitly from NSString properties of the control.\r\n\r\nVersion:\r\nReproducible on all versions of iOS 7, iOS 8 and iOS 9 Seed 2\r\n\r\nNotes:\r\nThe attached archive contains an iOS app project which reproduces this issue. Make sure to enable VoiceOver or Accessibility Inspector before launching the app.\r\n\r\nConfiguration:\r\nReproducible on iOS devices with VoiceOver enabled and iOS Simulator with Accessibility Inspector enabled.\r\n\r\nAttachments:\r\n(Project from https://github.com/vlas-voloshin/ControlAccessibilityDemo was attached to the report)"
    email: argentumko@gmail.com
    modified: "2015-07-14T13:49:21.75797Z"
    number: "21813162"
    number_intvalue: 21813162
    originated: 14-Jul-2015
    parent_number: '&{NULL_VALUE}'
    product: iOS SDK
    product_version: iOS 7 – iOS 9
    reproducible: Always
    resolved: ""
    status: Open
    title: Instances of custom UIControl subclasses by default have accessibilityLabel generated out of private NSString ivars
