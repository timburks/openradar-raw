apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "35348263"
    labels:
        datastore_id: "5012503239065600"
data:
    classification: Crash
    created: "2017-11-04T03:27:42.54832Z"
    description: "Summary: Messages crashes on every launch after restoring from a backup (tried 3x encrypted iTunes as well as iCloud restore).\r\n\r\nIf you have a workaround, I would *really really* appreciate knowing what it is. Especially if it does not involve all of my conversations. Reply here or DM @amdev if that works for you. Please and thank you.\r\n\r\n\r\nSteps to Reproduce: Restore a backup w/ messages data from the last few years to a device on 11.1 (I am seeing this with my new iPhone X).\r\n\r\n\r\nExpected Results: Messages starts and displays conversations\r\n\r\n\r\nActual Results: Messages opens and UI appears for ~1 second and then crashes\r\n\r\n\r\nVersion/Build: 11.1\r\n\r\n\r\nConfiguration: iPhone X\r\n\r\n\r\n\r\nCrash log\r\n------------------\r\n\r\nIncident Identifier: 1CF7DB2D-2CBC-4D69-9226-8BCC2DDC6673\r\nCrashReporter Key:   5611ca1be06854ad1ee2d49cd5d04f3e6c769984\r\nHardware Model:      iPhone10,6\r\nProcess:             MobileSMS [480]\r\nPath:                /Applications/MobileSMS.app/MobileSMS\r\nIdentifier:          com.apple.MobileSMS\r\nVersion:             1.0 (5.0)\r\nCode Type:           ARM-64 (Native)\r\nRole:                Foreground\r\nParent Process:      launchd [1]\r\nCoalition:           com.apple.MobileSMS [600]\r\n\r\n\r\nDate/Time:           2017-11-03 23:11:24.1307 -0400\r\nLaunch Time:         2017-11-03 23:11:23.0975 -0400\r\nOS Version:          iPhone OS 11.1 (15B93)\r\nBaseband Version:    1.02.03\r\nReport Version:      104\r\n\r\nException Type:  EXC_CRASH (SIGABRT)\r\nException Codes: 0x0000000000000000, 0x0000000000000000\r\nException Note:  EXC_CORPSE_NOTIFY\r\nTriggered by Thread:  0\r\n\r\nApplication Specific Information:\r\nabort() called\r\n\r\nFiltered syslog:\r\nNone found\r\n\r\nLast Exception Backtrace:\r\n0   CoreFoundation                \t0x184221d04 __exceptionPreprocess + 124\r\n1   libobjc.A.dylib               \t0x183470528 objc_exception_throw + 55\r\n2   CoreFoundation                \t0x1841babd4 _CFThrowFormattedException + 111\r\n3   CoreFoundation                \t0x1840ee274 -[__NSArrayM insertObject:atIndex:] + 1459\r\n4   CoreFoundation                \t0x1841bb3bc -[__NSSingleObjectArrayI enumerateObjectsWithOptions:usingBlock:] + 75\r\n5   ChatKit                       \t0x19b7edcd4 -[CKBalloonPluginManager+ 1547476 (CKBrowserSelectionController) orderedPlugins:] + 2267\r\n6   ChatKit                       \t0x19b7ec95c -[CKBalloonPluginManager+ 1542492 (CKBrowserSelectionController) candidateAppStripPlugins] + 171\r\n7   ChatKit                       \t0x19b7ecad0 -[CKBalloonPluginManager+ 1542864 (CKBrowserSelectionController) visibleFavoriteAppStripPlugins] + 155\r\n8   ChatKit                       \t0x19b8122b8 -[CKBrowserSwitcherFooterViewDataSource numberOfPluginsInSwitcherView:forSection:] + 95\r\n9   ChatKit                       \t0x19b77e80c -[CKBrowserSwitcherFooterView collectionView:numberOfItemsInSection:] + 67\r\n10  UIKit                         \t0x18d6fb160 -[UICollectionViewData _updateItemCounts] + 379\r\n11  UIKit                         \t0x18d6faf00 -[UICollectionViewData numberOfItemsInSection:] + 47\r\n12  ChatKit                       \t0x19b77f2bc -[CKBrowserSwitcherFooterView reloadData] + 199\r\n13  CoreFoundation                \t0x1841b40bc __CFNOTIFICATIONCENTER_IS_CALLING_OUT_TO_AN_OBSERVER__ + 19\r\n14  CoreFoundation                \t0x1841b365c _CFXRegistrationPost + 419\r\n15  CoreFoundation                \t0x1841b33c0 ___CFXNotificationPost_block_invoke + 59\r\n16  CoreFoundation                \t0x1842309c4 -[_CFXNotificationRegistrar find:object:observer:enumerator:] + 1407\r\n17  CoreFoundation                \t0x1840ea0c0 _CFXNotificationPost + 379\r\n18  Foundation                    \t0x184b0b498 -[NSNotificationCenter postNotificationName:object:userInfo:] + 67\r\n19  ChatKit                       \t0x19b769934 -[CKBalloonPluginManager reloadInstalledApps:] + 579\r\n20  CoreFoundation                \t0x1841b40bc __CFNOTIFICATIONCENTER_IS_CALLING_OUT_TO_AN_OBSERVER__ + 19\r\n21  CoreFoundation                \t0x1841b365c _CFXRegistrationPost + 419\r\n22  CoreFoundation                \t0x1841b33c0 ___CFXNotificationPost_block_invoke + 59\r\n23  CoreFoundation                \t0x1842309c4 -[_CFXNotificationRegistrar find:object:observer:enumerator:] + 1407\r\n24  CoreFoundation                \t0x1840ea0c0 _CFXNotificationPost + 379\r\n25  Foundation                    \t0x184b0b498 -[NSNotificationCenter postNotificationName:object:userInfo:] + 67\r\n26  IMFoundation                  \t0x18edd4f34 0x18ed9b000 + 237364\r\n27  IMCore                        \t0x1986512e8 0x1985cb000 + 549608\r\n28  IMCore                        \t0x1986500b8 0x1985cb000 + 544952\r\n29  libdispatch.dylib             \t0x183ba5088 _dispatch_call_block_and_release + 23\r\n30  libdispatch.dylib             \t0x183ba5048 _dispatch_client_callout + 15\r\n31  libdispatch.dylib             \t0x183be5dfc _dispatch_main_queue_callback_4CF$VARIANT$armv81 + 967\r\n32  CoreFoundation                \t0x1841c9eb0 __CFRUNLOOP_IS_SERVICING_THE_MAIN_DISPATCH_QUEUE__ + 11\r\n33  CoreFoundation                \t0x1841c7a8c __CFRunLoopRun + 2011\r\n34  CoreFoundation                \t0x1840e7fb8 CFRunLoopRunSpecific + 435\r\n35  GraphicsServices              \t0x185f7ff84 GSEventRunModal + 99\r\n36  UIKit                         \t0x18d6bc2f4 UIApplicationMain + 207\r\n37  MobileSMS                     \t0x104b60dd8 0x104b40000 + 134616\r\n38  libdyld.dylib                 \t0x183c0a568 0x183c09000 + 5480\r\n\r\n\r\nThread 0 name:  Dispatch queue: com.apple.main-thread\r\nThread 0 Crashed:\r\n0   libsystem_kernel.dylib        \t0x0000000183d39348 __pthread_kill + 8\r\n1   libsystem_pthread.dylib       \t0x0000000183e51794 pthread_kill$VARIANT$armv81 + 360\r\n2   libsystem_c.dylib             \t0x0000000183ca8fb8 abort + 140\r\n3   libc++abi.dylib               \t0x0000000183448068 __cxa_bad_cast + 0\r\n4   libc++abi.dylib               \t0x0000000183448210 default_unexpected_handler+ 8720 () + 0\r\n5   libobjc.A.dylib               \t0x0000000183470810 _objc_terminate+ 34832 () + 124\r\n6   libc++abi.dylib               \t0x000000018346054c std::__terminate(void (*)+ 107852 ()) + 16\r\n7   libc++abi.dylib               \t0x000000018345fea8 __cxxabiv1::exception_cleanup_func+ 106152 (_Unwind_Reason_Code, _Unwind_Exception*) + 0\r\n8   libobjc.A.dylib               \t0x000000018347065c _objc_exception_destructor+ 34396 (void*) + 0\r\n9   CoreFoundation                \t0x00000001841babd4 _CFArgv + 0\r\n10  CoreFoundation                \t0x00000001840ee274 -[__NSArrayM insertObject:atIndex:] + 1460\r\n11  CoreFoundation                \t0x00000001841bb3bc -[__NSSingleObjectArrayI enumerateObjectsWithOptions:usingBlock:] + 76\r\n12  ChatKit                       \t0x000000019b7edcd4 -[CKBalloonPluginManager+ 1547476 (CKBrowserSelectionController) orderedPlugins:] + 2268\r\n13  ChatKit                       \t0x000000019b7ec95c -[CKBalloonPluginManager+ 1542492 (CKBrowserSelectionController) candidateAppStripPlugins] + 172\r\n14  ChatKit                       \t0x000000019b7ecad0 -[CKBalloonPluginManager+ 1542864 (CKBrowserSelectionController) visibleFavoriteAppStripPlugins] + 156\r\n15  ChatKit                       \t0x000000019b8122b8 -[CKBrowserSwitcherFooterViewDataSource numberOfPluginsInSwitcherView:forSection:] + 96\r\n16  ChatKit                       \t0x000000019b77e80c -[CKBrowserSwitcherFooterView collectionView:numberOfItemsInSection:] + 68\r\n17  UIKit                         \t0x000000018d6fb160 -[UICollectionViewData _updateItemCounts] + 380\r\n18  UIKit                         \t0x000000018d6faf00 -[UICollectionViewData numberOfItemsInSection:] + 48\r\n19  ChatKit                       \t0x000000019b77f2bc -[CKBrowserSwitcherFooterView reloadData] + 200\r\n20  CoreFoundation                \t0x00000001841b40bc __CFNOTIFICATIONCENTER_IS_CALLING_OUT_TO_AN_OBSERVER__ + 20\r\n21  CoreFoundation                \t0x00000001841b365c _CFXRegistrationPost + 420\r\n22  CoreFoundation                \t0x00000001841b33c0 ___CFXNotificationPost_block_invoke + 60\r\n23  CoreFoundation                \t0x00000001842309c4 -[_CFXNotificationRegistrar find:object:observer:enumerator:] + 1408\r\n24  CoreFoundation                \t0x00000001840ea0c0 _CFXNotificationPost + 380\r\n25  Foundation                    \t0x0000000184b0b498 -[NSNotificationCenter postNotificationName:object:userInfo:] + 68\r\n26  ChatKit                       \t0x000000019b769934 -[CKBalloonPluginManager reloadInstalledApps:] + 580\r\n27  CoreFoundation                \t0x00000001841b40bc __CFNOTIFICATIONCENTER_IS_CALLING_OUT_TO_AN_OBSERVER__ + 20\r\n28  CoreFoundation                \t0x00000001841b365c _CFXRegistrationPost + 420\r\n29  CoreFoundation                \t0x00000001841b33c0 ___CFXNotificationPost_block_invoke + 60\r\n30  CoreFoundation                \t0x00000001842309c4 -[_CFXNotificationRegistrar find:object:observer:enumerator:] + 1408\r\n31  CoreFoundation                \t0x00000001840ea0c0 _CFXNotificationPost + 380\r\n32  Foundation                    \t0x0000000184b0b498 -[NSNotificationCenter postNotificationName:object:userInfo:] + 68\r\n33  IMFoundation                  \t0x000000018edd4f34 0x18ed9b000 + 237364\r\n34  IMCore                        \t0x00000001986512e8 0x1985cb000 + 549608\r\n35  IMCore                        \t0x00000001986500b8 0x1985cb000 + 544952\r\n36  libdispatch.dylib             \t0x0000000183ba5088 _dispatch_call_block_and_release + 24\r\n37  libdispatch.dylib             \t0x0000000183ba5048 _dispatch_client_callout + 16\r\n38  libdispatch.dylib             \t0x0000000183be5dfc _dispatch_main_queue_callback_4CF$VARIANT$armv81 + 968\r\n39  CoreFoundation                \t0x00000001841c9eb0 __CFRUNLOOP_IS_SERVICING_THE_MAIN_DISPATCH_QUEUE__ + 12\r\n40  CoreFoundation                \t0x00000001841c7a8c __CFRunLoopRun + 2012\r\n41  CoreFoundation                \t0x00000001840e7fb8 CFRunLoopRunSpecific + 436\r\n42  GraphicsServices              \t0x0000000185f7ff84 GSEventRunModal + 100\r\n43  UIKit                         \t0x000000018d6bc2f4 UIApplicationMain + 208\r\n44  MobileSMS                     \t0x0000000104b60dd8 0x104b40000 + 134616\r\n45  libdyld.dylib                 \t0x0000000183c0a568 start + 0\r\n\r\nThread 1 name:  Dispatch queue: namesForUnknownDetail\r\nThread 1:\r\n0   libicucore.A.dylib            \t0x0000000183f2d790 icu::UnicodeSet::applyFilter(signed char (*)+ 530320 (int, void*), void*, int, UErrorCode&) + 196\r\n1   libicucore.A.dylib            \t0x0000000183f2d790 icu::UnicodeSet::applyFilter(signed char (*)+ 530320 (int, void*), void*, int, UErrorCode&) + 196\r\n2   libicucore.A.dylib            \t0x0000000183f2d8bc icu::UnicodeSet::applyIntPropertyValue+ 530620 (UProperty, int, UErrorCode&) + 156\r\n3   libicucore.A.dylib            \t0x0000000183f2db48 icu::UnicodeSet::applyPropertyAlias+ 531272 (icu::UnicodeString const&, icu::UnicodeString const&, UErrorCode&) + 528\r\n4   libicucore.A.dylib            \t0x0000000183f2e2ac icu::UnicodeSet::applyPropertyPattern+ 533164 (icu::UnicodeString const&, icu::ParsePosition&, UErrorCode&) + 952\r\n5   libicucore.A.dylib            \t0x0000000183f2d64c icu::UnicodeSet::applyPropertyPattern+ 529996 (icu::RuleCharacterIterator&, icu::UnicodeString&, UErrorCode&) + 148\r\n6   libicucore.A.dylib            \t0x0000000183f2cd60 icu::UnicodeSet::applyPattern(icu::RuleCharacterIterator&, icu::SymbolTable const*, icu::UnicodeString&, unsigned int, icu::UnicodeSet& (icu::UnicodeSet::*)+ 527712 (int), UErrorCode&) + 1000\r\n7   libicucore.A.dylib            \t0x0000000183f2c938 icu::UnicodeSet::applyPatternIgnoreSpace+ 526648 (icu::UnicodeString const&, icu::ParsePosition&, icu::SymbolTable const*, UErrorCode&) + 208\r\n8   libicucore.A.dylib            \t0x0000000183f2c7fc icu::UnicodeSet::applyPattern+ 526332 (icu::UnicodeString const&, UErrorCode&) + 72\r\n9   libicucore.A.dylib            \t0x0000000183f2c794 icu::UnicodeSet::UnicodeSet+ 526228 (icu::UnicodeString const&, UErrorCode&) + 140\r\n10  libicucore.A.dylib            \t0x000000018402bf10 0x183eac000 + 1572624\r\n11  libicucore.A.dylib            \t0x000000018402d5c8 0x183eac000 + 1578440\r\n12  libicucore.A.dylib            \t0x00000001840277d8 icu::Transliterator::createInstance+ 1554392 (icu::UnicodeString const&, UTransDirection, UParseError&, UErrorCode&) + 228\r\n13  libicucore.A.dylib            \t0x0000000184059a84 utrans_openU + 308\r\n14  CoreFoundation                \t0x000000018416f964 CFStringTransform + 1480\r\n15  CorePhoneNumbers              \t0x0000000186757758 CFPhoneNumberStringTransformCreateCopy + 88\r\n16  CorePhoneNumbers              \t0x00000001867579c8 CFPhoneNumberCreate + 156\r\n17  CoreSuggestionsInternals      \t0x00000001a5c7035c SGNormalizePhoneNumber + 276\r\n18  CoreSuggestions               \t0x0000000195656028 __82-[SGSuggestionsService namesForUnknownDetail:limitTo:prependMaybe:withCompletion:]_block_invoke.757 + 188\r\n19  libdispatch.dylib             \t0x0000000183ba5088 _dispatch_call_block_and_release + 24\r\n20  libdispatch.dylib             \t0x0000000183ba5048 _dispatch_client_callout + 16\r\n21  libdispatch.dylib             \t0x0000000183be31c0 _dispatch_queue_serial_drain$VARIANT$armv81 + 520\r\n22  libdispatch.dylib             \t0x0000000183be3b30 _dispatch_queue_invoke$VARIANT$armv81 + 340\r\n23  libdispatch.dylib             \t0x0000000183be4528 _dispatch_root_queue_drain_deferred_wlh$VARIANT$armv81 + 380\r\n24  libdispatch.dylib             \t0x0000000183bec5c4 _dispatch_workloop_worker_thread$VARIANT$armv81 + 640\r\n25  libsystem_pthread.dylib       \t0x0000000183e4afd0 _pthread_wqthread + 932\r\n26  libsystem_pthread.dylib       \t0x0000000183e4ac20 start_wqthread + 4\r\n\r\n...\r\n<snip />\r\n..."
    email: amousa@twitter.com
    modified: "2017-11-04T03:27:42.54854Z"
    number: "35348263"
    number_intvalue: 35348263
    originated: 11/3/2017
    parent_number: '&{NULL_VALUE}'
    product: iOS
    product_version: "11"
    reproducible: always
    resolved: ""
    status: Open
    title: Messages crashes on launch on iOS 11.1
