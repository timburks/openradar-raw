apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "34371492"
    labels:
        datastore_id: "5013451755749376"
data:
    classification: Security
    created: "2017-09-11T18:43:47.62535Z"
    description: "Area:\r\nTerminal\r\n\r\nSummary:\r\n\r\nWhile testing a custom Bash script to re-issue a personal FileVault Recovery Key with macOS 10.13 (17A360a) and an APFS-formatted drive, we’re receiving an Exit Code of 136, which is NOT listed in the man page for fdesetup.\r\n\r\nWe’re seeing the following errors in the logs:\r\n\r\nUnloading FDERecoveryAgent...\r\n/System/Library/LaunchDaemons/com.apple.security.FDERecoveryAgent.plist: Could not find specified service\r\n\r\nError: Unable to change key.\r\n2017-09-11 08:19:30  FAILED: FileVault Configuration Tool exited with return code: 136.\r\n\r\nThe script works as expected while running macOS 10.12.6 (16G29).\r\n\r\n\r\n\r\n---\r\n\r\n\r\n\r\nSteps to Reproduce:\r\n\r\nRun the script \"recoveryKeyReissue.sh\" via Terminal.\r\n\r\n\r\n\r\n---\r\n\r\n\r\n\r\nExpected Results:\r\n\r\nExit 0\r\n\r\n\r\n\r\n---\r\n\r\n\r\n\r\nActual Results:\r\n\r\nUnloading FDERecoveryAgent...\r\n/System/Library/LaunchDaemons/com.apple.security.FDERecoveryAgent.plist: Could not find specified service\r\n\r\nError: Unable to change key.\r\n2017-09-11 08:19:30  FAILED: FileVault Configuration Tool exited with return code: 136.\r\n\r\n\r\n\r\n---\r\n\r\n\r\n\r\nVersion/Build:\r\n\r\nmacOS 10.13 Beta (17A360a)"
    email: dksnelson@gmail.com
    modified: "2017-09-11T18:57:20.31477Z"
    number: "34371492"
    number_intvalue: 34371492
    originated: 09/11/2017
    parent_number: '&{NULL_VALUE}'
    product: macOS + SDK
    product_version: macOS 10.13 Beta (17A360a)
    reproducible: Always
    resolved: ""
    status: New
    title: 'fdesetup changes in macOS 10.13 (17A360a): Exit Code 136'
