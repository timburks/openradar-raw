apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "30422712"
    labels:
        datastore_id: "4958923756929024"
data:
    classification: Serious Bug
    created: "2017-02-08T18:07:24.95401Z"
    description: "Summary:\r\nI have a swift class used to define a state machine. This swift class has a switch using a tuple of enums with associated values. This switch results in an odd error \"Command failed due to signal: Segmentation fault: 11\" (see below for the logs).\r\n\r\nSteps to Reproduce:\r\n1. Use Xcode 8.2.1.\r\n2. Open the SILlyCompile project I have attached\r\n3. Compile it and note that it compiles\r\n4. Uncomment lines as noted in the MyClass.swift file\r\n5. Comple and note it fails with the error described\r\n\r\nExpected Results:\r\nIt should compile.\r\n\r\nActual Results:\r\nCommand failed due to signal: Segmentation fault: 11\r\n\r\nCompile logs:\r\nCompileSwift normal x86_64 /Users/sgillen/Desktop/SILlyCompile/SILlyCompile/MyClass.swift\r\n    cd /Users/sgillen/Desktop/SILlyCompile\r\n    /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/swift -frontend -c /Users/sgillen/Desktop/SILlyCompile/SILlyCompile/ViewController.swift /Users/sgillen/Desktop/SILlyCompile/SILlyCompile/AppDelegate.swift -primary-file /Users/sgillen/Desktop/SILlyCompile/SILlyCompile/MyClass.swift -target x86_64-apple-ios10.2 -enable-objc-interop -sdk /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator10.2.sdk -I /Users/sgillen/Library/Developer/Xcode/DerivedData/SILlyCompile-ctwhknebnpbiivfbiqpnnczodblj/Build/Products/Debug-iphonesimulator -F /Users/sgillen/Library/Developer/Xcode/DerivedData/SILlyCompile-ctwhknebnpbiivfbiqpnnczodblj/Build/Products/Debug-iphonesimulator -enable-testing -g -module-cache-path /Users/sgillen/Library/Developer/Xcode/DerivedData/ModuleCache -D DEBUG -serialize-debugging-options -Xcc -I/Users/sgillen/Library/Developer/Xcode/DerivedData/SILlyCompile-ctwhknebnpbiivfbiqpnnczodblj/Build/Intermediates/SILlyCompile.build/Debug-iphonesimulator/SILlyCompile.build/swift-overrides.hmap -Xcc -iquote -Xcc /Users/sgillen/Library/Developer/Xcode/DerivedData/SILlyCompile-ctwhknebnpbiivfbiqpnnczodblj/Build/Intermediates/SILlyCompile.build/Debug-iphonesimulator/SILlyCompile.build/SILlyCompile-generated-files.hmap -Xcc -I/Users/sgillen/Library/Developer/Xcode/DerivedData/SILlyCompile-ctwhknebnpbiivfbiqpnnczodblj/Build/Intermediates/SILlyCompile.build/Debug-iphonesimulator/SILlyCompile.build/SILlyCompile-own-target-headers.hmap -Xcc -I/Users/sgillen/Library/Developer/Xcode/DerivedData/SILlyCompile-ctwhknebnpbiivfbiqpnnczodblj/Build/Intermediates/SILlyCompile.build/Debug-iphonesimulator/SILlyCompile.build/SILlyCompile-all-target-headers.hmap -Xcc -iquote -Xcc /Users/sgillen/Library/Developer/Xcode/DerivedData/SILlyCompile-ctwhknebnpbiivfbiqpnnczodblj/Build/Intermediates/SILlyCompile.build/Debug-iphonesimulator/SILlyCompile.build/SILlyCompile-project-headers.hmap -Xcc -I/Users/sgillen/Library/Developer/Xcode/DerivedData/SILlyCompile-ctwhknebnpbiivfbiqpnnczodblj/Build/Products/Debug-iphonesimulator/include -Xcc -I/Users/sgillen/Library/Developer/Xcode/DerivedData/SILlyCompile-ctwhknebnpbiivfbiqpnnczodblj/Build/Intermediates/SILlyCompile.build/Debug-iphonesimulator/SILlyCompile.build/DerivedSources/x86_64 -Xcc -I/Users/sgillen/Library/Developer/Xcode/DerivedData/SILlyCompile-ctwhknebnpbiivfbiqpnnczodblj/Build/Intermediates/SILlyCompile.build/Debug-iphonesimulator/SILlyCompile.build/DerivedSources -Xcc -DDEBUG=1 -Xcc -working-directory/Users/sgillen/Desktop/SILlyCompile -emit-module-doc-path /Users/sgillen/Library/Developer/Xcode/DerivedData/SILlyCompile-ctwhknebnpbiivfbiqpnnczodblj/Build/Intermediates/SILlyCompile.build/Debug-iphonesimulator/SILlyCompile.build/Objects-normal/x86_64/MyClass~partial.swiftdoc -Onone -module-name SILlyCompile -emit-module-path /Users/sgillen/Library/Developer/Xcode/DerivedData/SILlyCompile-ctwhknebnpbiivfbiqpnnczodblj/Build/Intermediates/SILlyCompile.build/Debug-iphonesimulator/SILlyCompile.build/Objects-normal/x86_64/MyClass~partial.swiftmodule -serialize-diagnostics-path /Users/sgillen/Library/Developer/Xcode/DerivedData/SILlyCompile-ctwhknebnpbiivfbiqpnnczodblj/Build/Intermediates/SILlyCompile.build/Debug-iphonesimulator/SILlyCompile.build/Objects-normal/x86_64/MyClass.dia -emit-dependencies-path /Users/sgillen/Library/Developer/Xcode/DerivedData/SILlyCompile-ctwhknebnpbiivfbiqpnnczodblj/Build/Intermediates/SILlyCompile.build/Debug-iphonesimulator/SILlyCompile.build/Objects-normal/x86_64/MyClass.d -emit-reference-dependencies-path /Users/sgillen/Library/Developer/Xcode/DerivedData/SILlyCompile-ctwhknebnpbiivfbiqpnnczodblj/Build/Intermediates/SILlyCompile.build/Debug-iphonesimulator/SILlyCompile.build/Objects-normal/x86_64/MyClass.swiftdeps -o /Users/sgillen/Library/Developer/Xcode/DerivedData/SILlyCompile-ctwhknebnpbiivfbiqpnnczodblj/Build/Intermediates/SILlyCompile.build/Debug-iphonesimulator/SILlyCompile.build/Objects-normal/x86_64/MyClass.o\r\n\r\n0  swift                    0x0000000105ca13ad PrintStackTraceSignalHandler(void*) + 45\r\n1  swift                    0x0000000105ca0b56 SignalHandler(int) + 790\r\n2  libsystem_platform.dylib 0x00007fff8c07352a _sigtramp + 26\r\n3  libsystem_platform.dylib 0x0000000100000000 _sigtramp + 1945684720\r\n4  swift                    0x00000001036f981e swift::Pattern::forEachVariable(std::__1::function<void (swift::VarDecl*)> const&) const + 222\r\n5  swift                    0x00000001036f97ab swift::Pattern::forEachVariable(std::__1::function<void (swift::VarDecl*)> const&) const + 107\r\n6  swift                    0x00000001036f97ab swift::Pattern::forEachVariable(std::__1::function<void (swift::VarDecl*)> const&) const + 107\r\n7  swift                    0x0000000102f13af7 (anonymous namespace)::PatternMatchEmission::getSharedCaseBlockDest(swift::CaseStmt*, bool) + 903\r\n8  swift                    0x0000000102f095e3 void llvm::function_ref<void ((anonymous namespace)::PatternMatchEmission&, llvm::ArrayRef<swift::Lowering::ConsumableManagedValue>, (anonymous namespace)::ClauseRow&)>::callback_fn<swift::Lowering::SILGenFunction::emitSwitchStmt(swift::SwitchStmt*)::$_1>(long, (anonymous namespace)::PatternMatchEmission&, llvm::ArrayRef<swift::Lowering::ConsumableManagedValue>, (anonymous namespace)::ClauseRow&) + 291\r\n9  swift                    0x0000000102f0ed8a (anonymous namespace)::PatternMatchEmission::emitDispatch((anonymous namespace)::ClauseMatrix&, llvm::ArrayRef<swift::Lowering::ConsumableManagedValue>, std::__1::function<void (swift::SILLocation)> const&) + 20666\r\n10 swift                    0x0000000102f1313d std::__1::__function::__func<(anonymous namespace)::PatternMatchEmission::emitSpecializedDispatch((anonymous namespace)::ClauseMatrix&, llvm::ArrayRef<swift::Lowering::ConsumableManagedValue>, unsigned int&, unsigned int, std::__1::function<void (swift::SILLocation)> const&)::$_7, std::__1::allocator<(anonymous namespace)::PatternMatchEmission::emitSpecializedDispatch((anonymous namespace)::ClauseMatrix&, llvm::ArrayRef<swift::Lowering::ConsumableManagedValue>, unsigned int&, unsigned int, std::__1::function<void (swift::SILLocation)> const&)::$_7>, void (llvm::ArrayRef<swift::Lowering::ConsumableManagedValue>, llvm::ArrayRef<(anonymous namespace)::SpecializedRow>, std::__1::function<void (swift::SILLocation)> const&)>::operator()(llvm::ArrayRef<swift::Lowering::ConsumableManagedValue>&&, llvm::ArrayRef<(anonymous namespace)::SpecializedRow>&&, std::__1::function<void (swift::SILLocation)> const&) + 3421\r\n11 swift                    0x0000000102f0c252 (anonymous namespace)::PatternMatchEmission::emitDispatch((anonymous namespace)::ClauseMatrix&, llvm::ArrayRef<swift::Lowering::ConsumableManagedValue>, std::__1::function<void (swift::SILLocation)> const&) + 9602\r\n12 swift                    0x0000000102f1313d std::__1::__function::__func<(anonymous namespace)::PatternMatchEmission::emitSpecializedDispatch((anonymous namespace)::ClauseMatrix&, llvm::ArrayRef<swift::Lowering::ConsumableManagedValue>, unsigned int&, unsigned int, std::__1::function<void (swift::SILLocation)> const&)::$_7, std::__1::allocator<(anonymous namespace)::PatternMatchEmission::emitSpecializedDispatch((anonymous namespace)::ClauseMatrix&, llvm::ArrayRef<swift::Lowering::ConsumableManagedValue>, unsigned int&, unsigned int, std::__1::function<void (swift::SILLocation)> const&)::$_7>, void (llvm::ArrayRef<swift::Lowering::ConsumableManagedValue>, llvm::ArrayRef<(anonymous namespace)::SpecializedRow>, std::__1::function<void (swift::SILLocation)> const&)>::operator()(llvm::ArrayRef<swift::Lowering::ConsumableManagedValue>&&, llvm::ArrayRef<(anonymous namespace)::SpecializedRow>&&, std::__1::function<void (swift::SILLocation)> const&) + 3421\r\n13 swift                    0x0000000102f0e8e8 (anonymous namespace)::PatternMatchEmission::emitDispatch((anonymous namespace)::ClauseMatrix&, llvm::ArrayRef<swift::Lowering::ConsumableManagedValue>, std::__1::function<void (swift::SILLocation)> const&) + 19480\r\n14 swift                    0x0000000102f1313d std::__1::__function::__func<(anonymous namespace)::PatternMatchEmission::emitSpecializedDispatch((anonymous namespace)::ClauseMatrix&, llvm::ArrayRef<swift::Lowering::ConsumableManagedValue>, unsigned int&, unsigned int, std::__1::function<void (swift::SILLocation)> const&)::$_7, std::__1::allocator<(anonymous namespace)::PatternMatchEmission::emitSpecializedDispatch((anonymous namespace)::ClauseMatrix&, llvm::ArrayRef<swift::Lowering::ConsumableManagedValue>, unsigned int&, unsigned int, std::__1::function<void (swift::SILLocation)> const&)::$_7>, void (llvm::ArrayRef<swift::Lowering::ConsumableManagedValue>, llvm::ArrayRef<(anonymous namespace)::SpecializedRow>, std::__1::function<void (swift::SILLocation)> const&)>::operator()(llvm::ArrayRef<swift::Lowering::ConsumableManagedValue>&&, llvm::ArrayRef<(anonymous namespace)::SpecializedRow>&&, std::__1::function<void (swift::SILLocation)> const&) + 3421\r\n15 swift                    0x0000000102f0e8e8 (anonymous namespace)::PatternMatchEmission::emitDispatch((anonymous namespace)::ClauseMatrix&, llvm::ArrayRef<swift::Lowering::ConsumableManagedValue>, std::__1::function<void (swift::SILLocation)> const&) + 19480\r\n16 swift                    0x0000000102f1313d std::__1::__function::__func<(anonymous namespace)::PatternMatchEmission::emitSpecializedDispatch((anonymous namespace)::ClauseMatrix&, llvm::ArrayRef<swift::Lowering::ConsumableManagedValue>, unsigned int&, unsigned int, std::__1::function<void (swift::SILLocation)> const&)::$_7, std::__1::allocator<(anonymous namespace)::PatternMatchEmission::emitSpecializedDispatch((anonymous namespace)::ClauseMatrix&, llvm::ArrayRef<swift::Lowering::ConsumableManagedValue>, unsigned int&, unsigned int, std::__1::function<void (swift::SILLocation)> const&)::$_7>, void (llvm::ArrayRef<swift::Lowering::ConsumableManagedValue>, llvm::ArrayRef<(anonymous namespace)::SpecializedRow>, std::__1::function<void (swift::SILLocation)> const&)>::operator()(llvm::ArrayRef<swift::Lowering::ConsumableManagedValue>&&, llvm::ArrayRef<(anonymous namespace)::SpecializedRow>&&, std::__1::function<void (swift::SILLocation)> const&) + 3421\r\n17 swift                    0x0000000102f0c252 (anonymous namespace)::PatternMatchEmission::emitDispatch((anonymous namespace)::ClauseMatrix&, llvm::ArrayRef<swift::Lowering::ConsumableManagedValue>, std::__1::function<void (swift::SILLocation)> const&) + 9602\r\n18 swift                    0x0000000102f08e09 swift::Lowering::SILGenFunction::emitSwitchStmt(swift::SwitchStmt*) + 2537\r\n19 swift                    0x0000000102f2b6d6 swift::ASTVisitor<(anonymous namespace)::StmtEmitter, void, void, void, void, void, void>::visit(swift::Stmt*) + 4022\r\n20 swift                    0x0000000102eebe1a swift::Lowering::SILGenFunction::emitFunction(swift::FuncDecl*) + 314\r\n21 swift                    0x0000000102e68055 swift::Lowering::SILGenModule::emitFunction(swift::FuncDecl*)::$_1::operator()(swift::SILFunction*) const + 1877\r\n22 swift                    0x0000000102e66c02 swift::Lowering::SILGenModule::emitFunction(swift::FuncDecl*) + 626\r\n23 swift                    0x0000000102f32777 (anonymous namespace)::SILGenType::emitType() + 1271\r\n24 swift                    0x0000000102f3220e swift::Lowering::SILGenModule::visitNominalTypeDecl(swift::NominalTypeDecl*) + 30\r\n25 swift                    0x0000000102e73973 swift::Lowering::SILGenModule::emitSourceFile(swift::SourceFile*, unsigned int) + 1795\r\n26 swift                    0x0000000102e7562d swift::SILModule::constructSIL(swift::ModuleDecl*, swift::SILOptions&, swift::FileUnit*, llvm::Optional<unsigned int>, bool, bool) + 1629\r\n27 swift                    0x0000000102cade86 performCompile(swift::CompilerInstance&, swift::CompilerInvocation&, llvm::ArrayRef<char const*>, int&, swift::FrontendObserver*) + 19510\r\n28 swift                    0x0000000102ca72b3 swift::performFrontend(llvm::ArrayRef<char const*>, char const*, void*, swift::FrontendObserver*) + 17859\r\n29 swift                    0x0000000102c635cf main + 8239\r\n30 libdyld.dylib            0x00007fff952975ad start + 1\r\n31 libdyld.dylib            0x000000000000003e start + 1792445074\r\nStack dump:\r\n0.\tProgram arguments: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/swift -frontend -c /Users/sgillen/Desktop/SILlyCompile/SILlyCompile/ViewController.swift /Users/sgillen/Desktop/SILlyCompile/SILlyCompile/AppDelegate.swift -primary-file /Users/sgillen/Desktop/SILlyCompile/SILlyCompile/MyClass.swift -target x86_64-apple-ios10.2 -enable-objc-interop -sdk /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator10.2.sdk -I /Users/sgillen/Library/Developer/Xcode/DerivedData/SILlyCompile-ctwhknebnpbiivfbiqpnnczodblj/Build/Products/Debug-iphonesimulator -F /Users/sgillen/Library/Developer/Xcode/DerivedData/SILlyCompile-ctwhknebnpbiivfbiqpnnczodblj/Build/Products/Debug-iphonesimulator -enable-testing -g -module-cache-path /Users/sgillen/Library/Developer/Xcode/DerivedData/ModuleCache -D DEBUG -serialize-debugging-options -Xcc -I/Users/sgillen/Library/Developer/Xcode/DerivedData/SILlyCompile-ctwhknebnpbiivfbiqpnnczodblj/Build/Intermediates/SILlyCompile.build/Debug-iphonesimulator/SILlyCompile.build/swift-overrides.hmap -Xcc -iquote -Xcc /Users/sgillen/Library/Developer/Xcode/DerivedData/SILlyCompile-ctwhknebnpbiivfbiqpnnczodblj/Build/Intermediates/SILlyCompile.build/Debug-iphonesimulator/SILlyCompile.build/SILlyCompile-generated-files.hmap -Xcc -I/Users/sgillen/Library/Developer/Xcode/DerivedData/SILlyCompile-ctwhknebnpbiivfbiqpnnczodblj/Build/Intermediates/SILlyCompile.build/Debug-iphonesimulator/SILlyCompile.build/SILlyCompile-own-target-headers.hmap -Xcc -I/Users/sgillen/Library/Developer/Xcode/DerivedData/SILlyCompile-ctwhknebnpbiivfbiqpnnczodblj/Build/Intermediates/SILlyCompile.build/Debug-iphonesimulator/SILlyCompile.build/SILlyCompile-all-target-headers.hmap -Xcc -iquote -Xcc /Users/sgillen/Library/Developer/Xcode/DerivedData/SILlyCompile-ctwhknebnpbiivfbiqpnnczodblj/Build/Intermediates/SILlyCompile.build/Debug-iphonesimulator/SILlyCompile.build/SILlyCompile-project-headers.hmap -Xcc -I/Users/sgillen/Library/Developer/Xcode/DerivedData/SILlyCompile-ctwhknebnpbiivfbiqpnnczodblj/Build/Products/Debug-iphonesimulator/include -Xcc -I/Users/sgillen/Library/Developer/Xcode/DerivedData/SILlyCompile-ctwhknebnpbiivfbiqpnnczodblj/Build/Intermediates/SILlyCompile.build/Debug-iphonesimulator/SILlyCompile.build/DerivedSources/x86_64 -Xcc -I/Users/sgillen/Library/Developer/Xcode/DerivedData/SILlyCompile-ctwhknebnpbiivfbiqpnnczodblj/Build/Intermediates/SILlyCompile.build/Debug-iphonesimulator/SILlyCompile.build/DerivedSources -Xcc -DDEBUG=1 -Xcc -working-directory/Users/sgillen/Desktop/SILlyCompile -emit-module-doc-path /Users/sgillen/Library/Developer/Xcode/DerivedData/SILlyCompile-ctwhknebnpbiivfbiqpnnczodblj/Build/Intermediates/SILlyCompile.build/Debug-iphonesimulator/SILlyCompile.build/Objects-normal/x86_64/MyClass~partial.swiftdoc -Onone -module-name SILlyCompile -emit-module-path /Users/sgillen/Library/Developer/Xcode/DerivedData/SILlyCompile-ctwhknebnpbiivfbiqpnnczodblj/Build/Intermediates/SILlyCompile.build/Debug-iphonesimulator/SILlyCompile.build/Objects-normal/x86_64/MyClass~partial.swiftmodule -serialize-diagnostics-path /Users/sgillen/Library/Developer/Xcode/DerivedData/SILlyCompile-ctwhknebnpbiivfbiqpnnczodblj/Build/Intermediates/SILlyCompile.build/Debug-iphonesimulator/SILlyCompile.build/Objects-normal/x86_64/MyClass.dia -emit-dependencies-path /Users/sgillen/Library/Developer/Xcode/DerivedData/SILlyCompile-ctwhknebnpbiivfbiqpnnczodblj/Build/Intermediates/SILlyCompile.build/Debug-iphonesimulator/SILlyCompile.build/Objects-normal/x86_64/MyClass.d -emit-reference-dependencies-path /Users/sgillen/Library/Developer/Xcode/DerivedData/SILlyCompile-ctwhknebnpbiivfbiqpnnczodblj/Build/Intermediates/SILlyCompile.build/Debug-iphonesimulator/SILlyCompile.build/Objects-normal/x86_64/MyClass.swiftdeps -o /Users/sgillen/Library/Developer/Xcode/DerivedData/SILlyCompile-ctwhknebnpbiivfbiqpnnczodblj/Build/Intermediates/SILlyCompile.build/Debug-iphonesimulator/SILlyCompile.build/Objects-normal/x86_64/MyClass.o \r\n1.\tWhile emitting SIL for 'updateMyState' at /Users/sgillen/Desktop/SILlyCompile/SILlyCompile/MyClass.swift:29:5\r\n\r\n\r\nVersion:\r\nXcode 8.2.1 on OS X 10.11.6 (15G1212).\r\n\r\nNotes:\r\n\r\n\r\nConfiguration:\r\n\r\n\r\nAttachments:\r\n'SILlyCompile.zip' was successfully uploaded.\r\n\r\nCode:\r\n//\r\n//  MyClass.swift\r\n//  SILlyCompile\r\n//\r\n//  Created by Stewart Gillen on 2/8/17.\r\n//  Copyright © 2017 Stewart Gillen. All rights reserved.\r\n//\r\n\r\nimport UIKit\r\n\r\nclass MyClass: NSObject {\r\n    \r\n    enum MyState {\r\n        \r\n        enum Status {\r\n            case reserved\r\n            case tentative\r\n            case blocked\r\n        }\r\n        \r\n        case none\r\n        case begin(status: Status)\r\n        case middle(status: Status)\r\n        case end(status: Status)\r\n    }\r\n    \r\n    var myState = MyState.none\r\n    \r\n    func updateMyState(newState: MyState) {\r\n        \r\n        // I have copied the same switch statement 5 times below. The only changes are different lines commented out.\r\n        // The uncommented lines compile fine, but not when they are are combiled together.\r\n        \r\n        switch (self.myState, newState) {\r\n// UNCOMMENT THIS AND THE CODE COMPILE FAILS\r\n//        case (.none, _):\r\n//            self.myState = newState\r\n        case (.begin(let beginStatus), .middle(let middleStatus)):\r\n            self.myState = .middle(status: middleStatus)\r\n            mergeState(.begin(status: beginStatus))\r\n        case (.middle, .begin(let beginStatus)),\r\n             (.begin, .begin(let beginStatus)):\r\n            mergeState(.begin(status: beginStatus))\r\n        default:\r\n            break;\r\n        }\r\n        \r\n        switch (self.myState, newState) {\r\n        case (.none, _):\r\n            self.myState = newState\r\n// UNCOMMENT THIS AND THE CODE COMPILE FAILS\r\n//        case (.begin(let beginStatus), .middle(let middleStatus)):\r\n//            self.myState = .middle(status: middleStatus)\r\n//            mergeState(.begin(status: beginStatus))\r\n        case (.middle, .begin(let beginStatus)),\r\n             (.begin, .begin(let beginStatus)):\r\n            mergeState(.begin(status: beginStatus))\r\n        default:\r\n            break;\r\n        }\r\n        \r\n        switch (self.myState, newState) {\r\n        case (.none, _):\r\n            self.myState = newState\r\n        case (.begin(let beginStatus), .middle(let middleStatus)):\r\n            self.myState = .middle(status: middleStatus)\r\n            mergeState(.begin(status: beginStatus))\r\n        case\r\n// UNCOMMENT THIS AND THE CODE COMPILE FAILS\r\n//             (.middle, .begin(let beginStatus))\r\n//             ,\r\n             (.begin, .begin(let beginStatus))\r\n             :\r\n            mergeState(.begin(status: beginStatus))\r\n        default:\r\n            break;\r\n        }\r\n\r\n        \r\n        switch (self.myState, newState) {\r\n        case (.none, _):\r\n            self.myState = newState\r\n        // UNCOMMENT THIS AND THE CODE COMPILE FAILS\r\n        case (.begin(let beginStatus), .middle(let middleStatus)):\r\n            self.myState = .middle(status: middleStatus)\r\n            mergeState(.begin(status: beginStatus))\r\n        case\r\n             (.middle, .begin(let beginStatus))\r\n// UNCOMMENT THIS AND THE CODE COMPILE FAILS\r\n//             ,\r\n//             (.begin, .begin(let beginStatus))\r\n             :\r\n            mergeState(.begin(status: beginStatus))\r\n        default:\r\n            break;\r\n        }\r\n        \r\n        // WORK AROUND: breaking up the last case also compiles SUCCESSFULLY\r\n        \r\n        switch (self.myState, newState) {\r\n        case (.none, _):\r\n            self.myState = newState\r\n        case (.begin(let beginStatus), .middle(let middleStatus)):\r\n            self.myState = .middle(status: middleStatus)\r\n            mergeState(.begin(status: beginStatus))\r\n        // these two cases below were one case statement in the above switches\r\n        case (.middle, .begin(let beginStatus)):\r\n            mergeState(.begin(status: beginStatus))\r\n        case (.begin, .begin(let beginStatus)):\r\n            mergeState(.begin(status: beginStatus))\r\n        default:\r\n            break;\r\n        }\r\n    }\r\n    \r\n    func mergeState(_ newState: MyState) {\r\n        // someday something awesome\r\n    }\r\n}"
    email: lee.gillen@gmail.com
    modified: "2017-11-29T20:32:58.74771Z"
    number: "30422712"
    number_intvalue: 30422712
    originated: 02/08/2017
    parent_number: '&{NULL_VALUE}'
    product: Xcode
    product_version: 8.2.1
    reproducible: Always
    resolved: Xcode 9 (9M137d)
    status: Closed
    title: Swift switch statement using tuples of enums with associated values fails
