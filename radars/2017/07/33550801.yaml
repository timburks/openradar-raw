apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "33550801"
    labels:
        datastore_id: "6108571678801920"
data:
    classification: Crash/Hang/Data Loss
    created: "2017-07-26T21:15:02.76628Z"
    description: "Summary:\r\nWhile compiling our tests in Xcode 9b4, Clang crashes.\nAdditionally, the feature that would allow me to collect the file also crashes.\nIâ€™m at a loss how to submit the issue. How can I get more debug info?\nHow can I enable -v to Clang?\nHow can I get debug info on the file collector that also fails?\r\n\r\nSteps to Reproduce:\r\nCompile PSPDFKit. Large project, cannot share. Cannot reproduce in sample.\r\n\r\nExpected Results:\r\nCompiler should not Segfault.\nBug Report file collector should not crash.\r\n\r\nActual Results:\r\nhttps://gist.github.com/steipete/bfbdce166f40aa9f6cc3ad9f0d6e04fb\n\nBuild Log:\nCompileC /Users/steipete/Builds/Viewer-bfkysqxtllvridggpcyephecpdwy/Build/Intermediates.noindex/PSPDFModel.build/Testing-iphonesimulator/PSPDFModel.framework.build/Objects-normal/x86_64/PSPDFAnnotation.o Annotations/PSPDFAnnotation.mm normal x86_64 objective-c++ com.apple.compilers.llvm.clang.1_0.compiler\n    cd /Users/steipete/Projects/Viewer-iOS/Viewer/Vendor/PSPDFKit/iOS/PSPDFKit/PSPDFModel\n    export LANG=en_US.US-ASCII\n    export PATH=\"/Applications/Xcode-beta.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin:/Applications/Xcode-beta.app/Contents/Developer/usr/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin\"\n    /Users/steipete/Projects/Viewer-iOS/Viewer/Vendor/PSPDFKit/iOS/PSPDFKit/PSPDFModel/../../Resources/ccache-clang -x objective-c++ -arch x86_64 -fmessage-length=0 -fdiagnostics-show-note-include-stack -fmacro-backtrace-limit=0 -std=gnu++14 -stdlib=libc++ -fobjc-arc -fapplication-extension -Wno-trigraphs -fpascal-strings -Os -fno-common -Werror -Werror=incompatible-pointer-types -Wmissing-field-initializers -Wmissing-prototypes -Werror=return-type -Wdocumentation -Wunreachable-code -Wnullable-to-nonnull-conversion -Wimplicit-atomic-properties -Werror=deprecated-objc-isa-usage -Wobjc-missing-property-synthesis -Werror=objc-root-class -Warc-repeated-use-of-weak -Wno-arc-maybe-repeated-use-of-weak -Wexplicit-ownership-type -Wimplicit-retain-self -Wnon-virtual-dtor -Woverloaded-virtual -Wexit-time-destructors -Wduplicate-method-match -Wmissing-braces -Wparentheses -Wswitch -Wunused-function -Wunused-label -Wunused-parameter -Wunused-variable -Wunused-value -Wempty-body -Wuninitialized -Wconditional-uninitialized -Wunknown-pragmas -Wshadow -Wfour-char-constants -Wconversion -Wconstant-conversion -Wint-conversion -Wbool-conversion -Wenum-conversion -Wfloat-conversion -Wnon-literal-null-conversion -Wobjc-literal-conversion -Wassign-enum -Wsign-compare -Wshorten-64-to-32 -Wnewline-eof -Wselector -Wstrict-selector-match -Wundeclared-selector -Wdeprecated-implementations -Wc++11-extensions -DPSPDF_APP_EXPORT_SYMBOLS=1 -DPSPDF_SWIFTLINT=NO -DCI=1 -DDEBUG=1 -DTESTING=1 -DPSPDFModelCoreBridgeEnabled=1 -DOBJC_OLD_DISPATCH_PROTOTYPES=0 -isysroot /Applications/Xcode-beta.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator11.0.sdk -fasm-blocks -funroll-loops -ffast-math -fstrict-aliasing -Wprotocol -Wdeprecated-declarations -Winvalid-offsetof -mios-simulator-version-min=9.0 -g -fvisibility-inlines-hidden -Wsign-conversion -Winfinite-recursion -Wmove -Wcomma -Wblock-capture-autoreleasing -Wstrict-prototypes -Wrange-loop-analysis -Wunguarded-availability -fobjc-abi-version=2 -fobjc-legacy-dispatch -fsanitize=undefined -fno-sanitize=enum,return,float-divide-by-zero -fsanitize=integer -fsanitize=nullability -index-store-path /Users/steipete/Builds/Viewer-bfkysqxtllvridggpcyephecpdwy/Index/DataStore -iquote /Users/steipete/Builds/Viewer-bfkysqxtllvridggpcyephecpdwy/Build/Intermediates.noindex/PSPDFModel.build/Testing-iphonesimulator/PSPDFModel.framework.build/PSPDFModel-generated-files.hmap -I/Users/steipete/Builds/Viewer-bfkysqxtllvridggpcyephecpdwy/Build/Intermediates.noindex/PSPDFModel.build/Testing-iphonesimulator/PSPDFModel.framework.build/PSPDFModel-own-target-headers.hmap -I/Users/steipete/Builds/Viewer-bfkysqxtllvridggpcyephecpdwy/Build/Intermediates.noindex/PSPDFModel.build/Testing-iphonesimulator/PSPDFModel.framework.build/PSPDFModel-all-target-headers.hmap -iquote /Users/steipete/Builds/Viewer-bfkysqxtllvridggpcyephecpdwy/Build/Intermediates.noindex/PSPDFModel.build/Testing-iphonesimulator/PSPDFModel.framework.build/PSPDFModel-project-headers.hmap -I/Users/steipete/Builds/Viewer-bfkysqxtllvridggpcyephecpdwy/Build/Products/Testing-iphonesimulator/include -I../../../core/PSPDFCore -I../../../core/PSPDFCore/cmake -I../../../core/PSPDFCore/Cpp -I../../../core/PSPDFCore/djinni -I../../../core/PSPDFCore/flatbuffers -I../../../core/PSPDFCore/generated-cpp -I../../../core/PSPDFCore/generated-java -I../../../core/PSPDFCore/generated-jni -I../../../core/PSPDFCore/generated-objc -I../../../core/PSPDFCore/generated-yaml -I../../../core/PSPDFCore/handwritten-cpp -I../../../core/PSPDFCore/Obj-C -I../../../core/PSPDFCore/Resources -I../../../core/PSPDFCore/Cpp/Actions -I../../../core/PSPDFCore/Cpp/Annotations -I../../../core/PSPDFCore/Cpp/Basic -I../../../core/PSPDFCore/Cpp/Cache -I../../../core/PSPDFCore/Cpp/Common -I../../../core/PSPDFCore/Cpp/CorePDF -I../../../core/PSPDFCore/Cpp/Crypto -I../../../core/PSPDFCore/Cpp/Data -I../../../core/PSPDFCore/Cpp/Database -I../../../core/PSPDFCore/Cpp/DataProvider -I../../../core/PSPDFCore/Cpp/DataStore -I../../../core/PSPDFCore/Cpp/Dispatch -I../../../core/PSPDFCore/Cpp/Document -I../../../core/PSPDFCore/Cpp/DocumentLibrary -I../../../core/PSPDFCore/Cpp/Editor -I../../../core/PSPDFCore/Cpp/Helper -I../../../core/PSPDFCore/Cpp/Image -I../../../core/PSPDFCore/Cpp/Licensing -I../../../core/PSPDFCore/Cpp/Logging -I../../../core/PSPDFCore/Cpp/Notifications -I../../../core/PSPDFCore/Cpp/Outline -I../../../core/PSPDFCore/Cpp/Processor -I../../../core/PSPDFCore/Cpp/Resources -I../../../core/PSPDFCore/Cpp/Serialization -I../../../core/PSPDFCore/Cpp/Text -I../../../core/PSPDFCore/Cpp/Thread -I../../../core/PSPDFCore/Cpp/Utilities -I../../../core/PSPDFCore/Cpp/XML -I../../../core/PSPDFCore/flatbuffers/cpp -I../../../core/PSPDFCore/flatbuffers/java -I../../../core/PSPDFCore/generated-java/com -I../../../core/PSPDFCore/Obj-C/Cache -I../../../core/PSPDFCore/Cpp/Annotations/_documentation -I../../../core/PSPDFCore/Cpp/Annotations/Backend -I../../../core/PSPDFCore/Cpp/Annotations/CorePDF -I../../../core/PSPDFCore/Cpp/Annotations/Djinni -I../../../core/PSPDFCore/Cpp/Annotations/Forms -I../../../core/PSPDFCore/Cpp/Annotations/Interfaces -I../../../core/PSPDFCore/Cpp/Annotations/Render -I../../../core/PSPDFCore/Cpp/Annotations/Signatures -I../../../core/PSPDFCore/Cpp/Annotations/Sync -I../../../core/PSPDFCore/Cpp/Annotations/XFDF -I../../../core/PSPDFCore/Cpp/Cache/Database -I../../../core/PSPDFCore/Cpp/Cache/Detail -I../../../core/PSPDFCore/Cpp/Cache/Helper -I../../../core/PSPDFCore/Cpp/Common/Basic -I../../../core/PSPDFCore/Cpp/Data/Decoder -I../../../core/PSPDFCore/Cpp/Data/Encoder -I../../../core/PSPDFCore/Cpp/Database/FTS -I../../../core/PSPDFCore/Cpp/Document/Fonts -I../../../core/PSPDFCore/Cpp/Document/Metadata -I../../../core/PSPDFCore/Cpp/Licensing/Platform -I../../../core/PSPDFCore/Cpp/Utilities/CSS -I../../../core/PSPDFCore/Cpp/Utilities/Warning -I../../../core/PSPDFCore/flatbuffers/cpp/fbs -I../../../core/PSPDFCore/flatbuffers/java/com -I../../../core/PSPDFCore/generated-java/com/pspdfkit -I../../../core/PSPDFCore/Obj-C/Cache/Detail -I../../../core/PSPDFCore/Cpp/Annotations/Render/Contexts -I../../../core/PSPDFCore/Cpp/Annotations/Render/CorePDF -I../../../core/PSPDFCore/Cpp/Annotations/XFDF/AppearanceCoder -I../../../core/PSPDFCore/Cpp/Annotations/XFDF/Serializer -I../../../core/PSPDFCore/flatbuffers/java/com/pspdfkit -I../../../core/PSPDFCore/generated-java/com/pspdfkit/framework -I../../../core/PSPDFCore/flatbuffers/java/com/pspdfkit/framework -I../../../core/PSPDFCore/generated-java/com/pspdfkit/framework/jni -I../../../core/PSPDFCore/flatbuffers/java/com/pspdfkit/framework/fbs -I/Users/steipete/Projects/Viewer-iOS/Viewer/Vendor/PSPDFKit/iOS/PSPDFKit/PSPDFModel/../../../core/PSPDFDatabase/iOS -I/Users/steipete/Projects/Viewer-iOS/Viewer/Vendor/PSPDFKit/iOS/PSPDFKit/PSPDFModel/../../../core/Vendor -I/Users/steipete/Projects/Viewer-iOS/Viewer/Vendor/PSPDFKit/iOS/PSPDFKit/PSPDFModel/../../../core/Vendor/boost -I/Users/steipete/Projects/Viewer-iOS/Viewer/Vendor/PSPDFKit/iOS/PSPDFKit/PSPDFModel/../../../core/Vendor/nn -I/Users/steipete/Projects/Viewer-iOS/Viewer/Vendor/PSPDFKit/iOS/PSPDFKit/PSPDFModel/../../../pdfium/third_party -I/Users/steipete/Projects/Viewer-iOS/Viewer/Vendor/PSPDFKit/iOS/PSPDFKit/PSPDFModel/../../../pdfium -I../../../pdfium/third_party/freetype/include -I../../../pdfium/third_party/freetype/include/freetype -I../../../pdfium/third_party/freetype/include/freetype/config -I../../../pdfium/third_party/freetype/include/freetype/internal -I../../../pdfium/third_party/freetype/include/freetype/internal/services -I/Users/steipete/Projects/Viewer-iOS/Viewer/Vendor/PSPDFKit/iOS/PSPDFKit/PSPDFModel/../../../core/Vendor/json11 -I/Users/steipete/Projects/Viewer-iOS/Viewer/Vendor/PSPDFKit/iOS/PSPDFKit/PSPDFModel/../../../core/Vendor/flatbuffers/include -I/Users/steipete/Projects/Viewer-iOS/Viewer/Vendor/PSPDFKit/iOS/PSPDFKit/PSPDFModel/../../../core/Vendor/djinni/support-lib/objc -I/Applications/Xcode-beta.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator11.0.sdk/usr/include/libxml2 -I/Users/steipete/Builds/Viewer-bfkysqxtllvridggpcyephecpdwy/Build/Intermediates.noindex/PSPDFModel.build/Testing-iphonesimulator/PSPDFModel.framework.build/DerivedSources/x86_64 -I/Users/steipete/Builds/Viewer-bfkysqxtllvridggpcyephecpdwy/Build/Intermediates.noindex/PSPDFModel.build/Testing-iphonesimulator/PSPDFModel.framework.build/DerivedSources -Xclang -analyzer-checker -Xclang alpha.core.BoolAssignment -Xclang -analyzer-checker -Xclang alpha.core.CallAndMessageUnInitRefArg -Xclang -analyzer-checker -Xclang alpha.core.DynamicTypeChecker -Xclang -analyzer-checker -Xclang alpha.core.FixedAddr -Xclang -analyzer-checker -Xclang alpha.core.IdenticalExpr -Xclang -analyzer-checker -Xclang alpha.core.PointerSub -Xclang -analyzer-checker -Xclang alpha.core.SizeofPtr -Xclang -analyzer-checker -Xclang alpha.core.TestAfterDivZero -Xclang -analyzer-checker -Xclang alpha.security.ArrayBoundV2 -Xclang -analyzer-checker -Xclang alpha.security.ReturnPtrRange -Xclang -analyzer-checker -Xclang alpha.security.taint.TaintPropagation -Xclang -analyzer-checker -Xclang alpha.core.Conversion -Xclang -analyzer-checker -Xclang alpha.unix.BlockInCriticalSection -Xclang -analyzer-checker -Xclang valist.CopyToSelf -Xclang -analyzer-checker -Xclang valist.Uninitialized -Xclang -analyzer-checker -Xclang valist.Unterminated -Xclang -analyzer-checker -Xclang alpha.cplusplus.MisusedMovedObject -Weverything -Wno-error-deprecated-declarations -Wno-objc-missing-property-synthesis -Wno-unused-parameter -Wno-covered-switch-default -Wno-direct-ivar-access -Wno-assign-enum -Wno-float-equal -Wno-vla -Wno-documentation-unknown-command -Wno-packed -Wno-padded -Wno-auto-import -Wno-selector -Wno-sign-conversion -Wno-auto-import -Wno-static-in-inline -Wno-gnu-conditional-omitted-operand -Wno-gnu-zero-variadic-macro-arguments -Wno-gnu-statement-expression -Wno-language-extension-token -Wno-pointer-arith -Wno-empty-translation-unit -Wno-format-non-iso -Wno-comment -Wno-gnu-folding-constant -Wno-c++98-compat-pedantic -Wno-c++98-compat -Wno-old-style-cast -Wno-incomplete-module -Wno-vla-extension -Wno-c99-extensions -Wno-cstring-format-directive -Rno-module-build -Wno-reserved-id-macro -Wno-undef -Wno-weak-vtables -Wno-over-aligned -Wno-double-promotion -Wno-incompatible-sysroot -Wno-gnu-auto-type -Wno-undefined-func-template -Wno-comma -Wno-c++1z-extensions -F/Users/steipete/Builds/Viewer-bfkysqxtllvridggpcyephecpdwy/Build/Products/Testing-iphonesimulator -fvisibility=default -fno-omit-frame-pointer -g -include /Users/steipete/Projects/Viewer-iOS/Viewer/Vendor/PSPDFKit/iOS/PSPDFKit/PSPDFModel/PSPDFModel.pch -MMD -MT dependencies -MF /Users/steipete/Builds/Viewer-bfkysqxtllvridggpcyephecpdwy/Build/Intermediates.noindex/PSPDFModel.build/Testing-iphonesimulator/PSPDFModel.framework.build/Objects-normal/x86_64/PSPDFAnnotation.d --serialize-diagnostics /Users/steipete/Builds/Viewer-bfkysqxtllvridggpcyephecpdwy/Build/Intermediates.noindex/PSPDFModel.build/Testing-iphonesimulator/PSPDFModel.framework.build/Objects-normal/x86_64/PSPDFAnnotation.dia -c /Users/steipete/Projects/Viewer-iOS/Viewer/Vendor/PSPDFKit/iOS/PSPDFKit/PSPDFModel/Annotations/PSPDFAnnotation.mm -o /Users/steipete/Builds/Viewer-bfkysqxtllvridggpcyephecpdwy/Build/Intermediates.noindex/PSPDFModel.build/Testing-iphonesimulator/PSPDFModel.framework.build/Objects-normal/x86_64/PSPDFAnnotation.o\n\ndistcc[41285] (dcc_parse_hosts) Warning: /Users/steipete/.distcc/hosts contained no hosts; can't distribute work\ndistcc[41285] (dcc_build_somewhere) Warning: failed to distribute, running locally instead\ndistcc[41285] ERROR: compile /Users/steipete/Projects/Viewer-iOS/Viewer/Vendor/PSPDFKit/iOS/PSPDFKit/PSPDFModel/Annotations/PSPDFAnnotation.mm on localhost failed with exit code 254\nclang: error: unable to execute command: Segmentation fault: 11\nclang: error: clang frontend command failed due to signal (use -v to see invocation)\nApple LLVM version 9.0.0 (clang-900.0.31)\nTarget: x86_64-apple-darwin16.7.0\nThread model: posix\nInstalledDir: /Applications/Xcode-beta.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin\nclang: note: diagnostic msg: PLEASE submit a bug report to http://developer.apple.com/bugreporter/ and include the crash backtrace, preprocessed source, and associated run script.\nclang: note: diagnostic msg: Error generating preprocessed source(s).\r\n\r\nVersion:\r\n9b4\r\n\r\nNotes:\r\nOld Build System"
    email: steipete@gmail.com
    modified: "2017-07-26T21:15:02.76666Z"
    number: "33550801"
    number_intvalue: 33550801
    originated: 26-Jul-2017 11:15 PM
    parent_number: '&{NULL_VALUE}'
    product: Developer Tools
    product_version: 9b4
    reproducible: Always
    resolved: ""
    status: Open
    title: Xcode 9b4 compiler crash + file collection crash
