apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "33058060"
    labels:
        datastore_id: "5066320018145280"
data:
    classification: Crash/Hang/Data Loss
    created: "2017-06-29T18:03:45.63788Z"
    description: "Summary:\r\nWhen iMessage.xcassets contain at least two app icon sets with the App Store image filled out, building the app fails with an ibtoold crash.\r\nThe same project could be built using Xcode 8 just fine.\r\n\r\nSteps to Reproduce:\r\nBuild the attached project using Xcode 9.\r\n\r\nExpected Results:\r\nIt should build successfully.\r\n\r\nActual Results:\r\nIt fails with this error message:\r\n\r\nCompileAssetCatalog …iMessage\\ Extension/iMessage.xcassets\r\n    cd /Users/gentz/Documents/Development/Scratch/MessageDemo\r\n    export PATH=\"/Applications/Xcode-beta.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin:/Applications/Xcode-beta.app/Contents/Developer/usr/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin\"\r\n    /Applications/Xcode-beta.app/Contents/Developer/usr/bin/actool --output-format human-readable-text --notices --warnings --export-dependency-info /Users/gentz/Library/Developer/Xcode/DerivedData/MessageDemo-bnzlpdvswmfhaaaspazggfpxmbgc/Build/Intermediates.noindex/MessageDemo.build/Debug-iphonesimulator/MessagesExtension.build/assetcatalog_dependencies --output-partial-info-plist /Users/gentz/Library/Developer/Xcode/DerivedData/MessageDemo-bnzlpdvswmfhaaaspazggfpxmbgc/Build/Intermediates.noindex/MessageDemo.build/Debug-iphonesimulator/MessagesExtension.build/assetcatalog_generated_info.plist --app-icon iMessage\\ App\\ Icon --compress-pngs --enable-on-demand-resources NO --filter-for-device-model iPhone9,2 --filter-for-device-os-version 11.0 --sticker-pack-identifier-prefix com.futuretap.MessageDemo.MessagesExtension.sticker-pack. --target-device iphone --minimum-deployment-target 10.0 --platform iphonesimulator --product-type com.apple.product-type.app-extension.messages --compile /Users/gentz/Library/Developer/Xcode/DerivedData/MessageDemo-bnzlpdvswmfhaaaspazggfpxmbgc/Build/Products/Debug-iphonesimulator/MessagesExtension.appex … iMessage\\ Extension/iMessage.xcassets\r\n\r\n2017-06-29 19:53:29.717 ibtoold[24329:65905383] [MT] DVTAssertions: ASSERTION FAILURE in /Library/Caches/com.apple.xbs/Sources/IDEInterfaceBuilder/IDEInterfaceBuilder-13122.19/InterfaceBuilderKit/ImageCatalog/PlatformAdaptation/IBICAbstractPlatformAdapter.m:451\r\nDetails:  Assertion failed:\r\nObject:   <IBICiOSPlatformAdapter: 0x7fd3dd400430>\r\nMethod:   -addSlottedAssetWarningsToResults:filteredByIdioms:forReps:withOptions:\r\nThread:   <NSThread: 0x7fd3da70ac20>{number = 1, name = main}\r\nHints:\r\n\r\nBacktrace:\r\n  0   -[DVTAssertionHandler handleFailureInMethod:object:fileName:lineNumber:assertionSignature:messageFormat:arguments:] (in DVTFoundation)\r\n  1   _DVTAssertionHandler (in DVTFoundation)\r\n  2   _DVTAssertionFailureHandler (in DVTFoundation)\r\n  3   _DVTAssertionFailureHandler (in DVTFoundation)\r\n  4   -[IBICAbstractPlatformAdapter addSlottedAssetWarningsToResults:filteredByIdioms:forReps:withOptions:] (in IDEInterfaceBuilderKit)\r\n  5   -[IBICAbstractPlatformAdapter addBundleIconWarningsToResults:forSelection:withOptions:] (in IDEInterfaceBuilderKit)\r\n  6   -[IBAbstractCocoaTouchPlatformAdapter compileBundleIconFromSelection:options:] (in IDEInterfaceBuilderCocoaTouchIntegration)\r\n  7   -[IBICAbstractPlatformAdapter compileSelectedItems:options:queue:completionHandler:] (in IDEInterfaceBuilderKit)\r\n  8   -[IBICAbstractPlatformAdapter compileCatalogCollection:options:queue:completionHandler:] (in IDEInterfaceBuilderKit)\r\n  9  0x0000000108ef7e4b (in ibtoold)\r\n 10  0x0000000108ef9795 (in ibtoold)\r\n 11  0x0000000108ef9c00 (in ibtoold)\r\n 12  0x0000000108f070c0 (in ibtoold)\r\n 13  0x0000000108f07721 (in ibtoold)\r\n 14  0x0000000108f075f1 (in ibtoold)\r\n 15  0x0000000108ef6c7d (in ibtoold)\r\n 16  0x0000000108f06c78 (in ibtoold)\r\n 17  0x0000000108f05a9a (in ibtoold)\r\n 18   start (in libdyld.dylib)\r\nCommand /Applications/Xcode-beta.app/Contents/Developer/usr/bin/actool failed with exit code 255\r\n\r\n\r\nVersion:\r\n9.0 beta 2 (9M137d)\r\n\r\nNotes:\r\nWhen I remove the second app icon, it doesn't crash. Having two app icon sets is useful to differentiate debug and release versions in the app icon."
    email: futuretap@googlemail.com
    modified: "2018-02-22T14:00:36.31475Z"
    number: "33058060"
    number_intvalue: 33058060
    originated: 29-Juni-2017 08:03 PM
    parent_number: '&{NULL_VALUE}'
    product: Developer Tools
    product_version: 9.0 beta 2 (9M137d)
    reproducible: Always
    resolved: "2017-08-08"
    status: Closed/Resolved
    title: 'Regression: ibtoold crashing on compiling iMessage App assets'
