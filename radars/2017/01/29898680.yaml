apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "29898680"
    labels:
        datastore_id: "4942725019336704"
data:
    classification: Crash/Hang/Data Loss
    created: "2017-01-06T10:10:48.52652Z"
    description: "I was editing a book — then this\r\n\r\n2017-01-04 23:18:30.329: *** Assertion failure in -[IPXFacesOverlayController _addFaceViewsForRepresentedVersion], /Library/Caches/com.apple.xbs/Sources/PhotoApp/PhotoApp-3130.0.240/app/spark/Source/Editor/Faces/IPXFacesOverlayController.m:461\r\nMessage: did not get a work queue to dispatch _handleAddFaceViews on\r\nBacktrace:\r\n0   PhotoFoundation                     0x00007fffb4e1c488 -[PFAssertionHandler newAssertionInfoInMethod:object:function:file:lineNumber:description:arguments:] + 370\r\n1   PhotoFoundation                     0x00007fffb4e1c617 -[PFAssertionHandler continueAfterAssertInFunction:file:lineNumber:description:arguments:] + 111\r\n2   PhotoFoundation                     0x00007fffb4e1c2d0 _PFAssertContinueHandler + 308\r\n3   Photos                              0x0000000108f331c9 -[IPXFacesOverlayController _addFaceViewsForRepresentedVersion] + 367\r\n4   Photos                              0x0000000108f320d7 -[IPXViewerItemController _installOverlay:installOntoCanvas:] + 728\r\n5   Photos                              0x0000000108f2e840 -[IPXViewerItemController updateOverlay:activate:] + 128\r\n6   Photos                              0x000000010926d2cb -[IPXViewerItemController updateFacesOverlayVisibility] + 76\r\n7   Photos                              0x000000010930bb40 -[IPXEditorController _updateSubcontrollersOverlaysIfNeededForItemController:] + 674\r\n8   Photos                              0x0000000108f31099 -[IPXEditorController _updateAfterViewerSelectionChange:] + 874\r\n9   Photos                              0x00000001093153a8 -[IPXEditorController _updateAfterViewerSelectionChangeIfIsCurrentSelection:] + 85\r\n10  Photos                              0x0000000108f30ccf -[IPXEditorController viewerController:didAddItemController:] + 683\r\n11  Photos                              0x0000000108f309eb -[IPXViewerController _notifyDidAddItemController:] + 127\r\n12  Photos                              0x0000000108f27868 -[IPXViewerController _notifyDidAddItemControllers:] + 213\r\n13  Photos                              0x00000001092e8eae __46-[IPXViewerController _updateVisibleSelection]_block_invoke.749 + 411\r\n14  Photos                              0x0000000108f27755 -[IPXViewerController withAnimation:runAnimationGroup:completionHandler:] + 223\r\n15  Photos                              0x0000000108f270c8 -[IPXViewerController _updateVisibleSelection] + 2650\r\n16  Photos                              0x0000000108f2662e -[IPXViewerController _processVisibleSelection] + 101\r\n17  Photos                              0x00000001092e80ed -[IPXViewerController _selectedItemControllerIsReady:] + 333\r\n18  Photos                              0x0000000108f2fd49 __42-[IPXViewerController _loadNextSelection:]_block_invoke_4 + 243\r\n19  Photos                              0x000000010926bfe5 -[IPXViewerItemController _dispatchReadyHandlerOnQueue:usingBlock:] + 99\r\n20  Photos                              0x000000010926bf0e __66-[IPXViewerItemController _dispatchReadyHandlersWaitingForEvents:]_block_invoke + 149\r\n21  CoreFoundation                      0x00007fffa4a67ffa -[__NSSingleObjectArrayI enumerateObjectsWithOptions:usingBlock:] + 58\r\n22  Photos                              0x000000010926be05 -[IPXViewerItemController _dispatchReadyHandlersWaitingForEvents:] + 212\r\n23  Photos                              0x000000010926b986 -[IPXViewerItemController _setReady:forEventsMask:] + 102\r\n24  Photos                              0x00000001092686f6 __79-[IPXViewerItemController _updatePreviewLayerWithVersion:usingImageSizePolicy:]_block_invoke.313 + 428\r\n25  PhotoFoundation                     0x00007fffb4e5f984 __PFDispatchAsyncMainQueue_block_invoke + 25\r\n26  CoreFoundation                      0x00007fffa49917dc __CFRUNLOOP_IS_CALLING_OUT_TO_A_BLOCK__ + 12\r\n27  CoreFoundation                      0x00007fffa49727e4 __CFRunLoopDoBlocks + 356\r\n28  CoreFoundation                      0x00007fffa4972326 __CFRunLoopRun + 1878\r\n29  CoreFoundation                      0x00007fffa4971974 CFRunLoopRunSpecific (-[IPXFacesOverlayController _addFaceViewsForRepresentedVersion]:461)\r\n \r\nCrashing on exception: NSMutableRLEArray insertObject:range:: Out of bounds"
    email: manuel@carrascomolina.com
    modified: "2017-01-12T21:31:21.42456Z"
    number: "29898680"
    number_intvalue: 29898680
    originated: "2017-01-06"
    parent_number: '&{NULL_VALUE}'
    product: Photos.app
    product_version: Version 2.0 (3130.0.240)
    reproducible: Sometimes
    resolved: "2017-01-11"
    status: Duplicate/24377447 (Open)
    title: 'Photos.app: IPXFacesOverlayController crash while editing a book'
