apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "30248710"
    labels:
        datastore_id: "5063659218796544"
data:
    classification: ""
    created: "2017-01-29T14:32:54.32513Z"
    description: "Area:\r\niCloud / CloudKit\r\n\r\nSummary:\r\nI have an issue with iCloud documents not showing up in iCloud drive on my Mac or iCloud.com:\r\n\r\nI’d like to migrate file synching in some of my iOS apps from Dropbox to iCloud Drive. To get myself familiar with iCloud documents I’ve written a small, very basic sample app, CloudTest. It allows the creation and editing of text document locally and in iCloud, synchronizing changes across devices. For a purpose I didn’t use a UIDocument subclass, but utilized NSFileCoordinators on my own (NSFilePresenters are not required for the sample app).\r\n\r\nThe app works well: I can create / modify / delete documents on one device, and after some moments changes are reflected on another iOS device. In addition the iCloud Drive app is reflecting the same changes on both iOS devices, so I assume synchronization with iCloud Drive is working properly.\r\n\r\nBut for some reason neither the macOS Finder on my Mac nor iCloud.com is showing the app folder of CloudTest. Folders of other iOS-only apps (e.g. GoodReader) are listed.\r\n\r\nHere’s what I did to implement iCloud synching in CloudTest:\r\nI defined an iCloud display set „iCloud.de.xyz.CloudTest“ in iTunesConnect (weird, but its never listing CloudTest as an attached app)\r\nIn Member Center a corresponding iCloud container „iCloud.de.xyz.CloudTest“ is defined and assigned to the App ID „de.xyz.CloudTest“\r\nA dedicated distribution profile is defined for „de.xyz.CloudTest“ (not managed by Xcode)\r\nIn Xcode the app is defined with iCloud capabilities and the entitlements file is using the corresponding iCloud containers\r\nThe app’s info.plist is mentioning NSUbiquitousContainers and related keys\r\nThe documents directory is successfully set up using NSFileManager’s URLForUbiquityContainerIdentifier\r\nBuild numbers are increased for every new git commit (via Run Script phase)\r\nNSFileCoordinators are used for every access to an iCloud file with the appropriate options\r\nWhich step am I missing to propagate the app folder (and included files) to iCloud Drive on my Mac and iCloud.com? For the apps to be migrated a file synchronization with customers’ Mac / Windows computers is crucial … and was back in the past the reason to implement file synching using Dropbox.\r\n\r\nSteps to Reproduce:\r\nTo test synchronization I performed the following steps:\r\nOn all devices the same Apple ID is logged in iCloud, which is NOT the Apple ID registered as a developer\r\nI connected the first test device A via USB and built / ran CloudTest on this device\r\niCloud is enabled on device A („share“ button in the tableview controller, iOS settings), the device is connected to the internet\r\nI connected a second test device B via USB and built / ran CloudTest on this device\r\niCloud is enabled on device B („share“ button in the tableview controller, iOS settings), the device is connected to the internet\r\nA new document is created with sample text on B by touching the „add“ button in the tableview controller and entering a filename\r\nThe document is shown after some seconds in CloudTest on device A\r\nThe document is shown in the iCloud Drive app on devices A and B\r\nNeither the document nor a „CloudTest“ folder are shown in the iCloud Driver folder on my Mac or on iCloud.com (reboot without success)\r\nAfter realizing the issue when running the app in debug mode from Xcode, I loaded CloudTest in TestFlight and installed it (after removing the debug version) on the devices A and B: Same result\r\nExpected Results:\r\nApp's folder \"CloudTest\" appears in iCloud Drive on icloud.com.\r\n\r\nActual Results:\r\nApp's folder \"CloudTest\" not shown in iCloud Drive on icloud.com\r\n\r\nVersion:\r\nmacOS 10.11.6 (15G1212)\r\n\r\nConfiguration:\r\niPhone 6, iOS 10.2 (14C92)\r\niPad mini, iOS 10.2 (14C92)\r\nMacBook Pro 13“, mid 2009, macOS 10.11.6 (15G1212)\r\nXcode Version 8.2 (8C38)"
    email: google@arndt-family.com
    modified: "2017-01-29T14:32:54.32532Z"
    number: "30248710"
    number_intvalue: 30248710
    originated: 28.01.2017
    parent_number: '&{NULL_VALUE}'
    product: iOS + SDK
    product_version: ""
    reproducible: yes
    resolved: ""
    status: Open
    title: App folder of synched iCloud files doesn't show on iCloud.com
