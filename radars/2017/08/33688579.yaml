apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "33688579"
    labels:
        datastore_id: "5023805479059456"
data:
    classification: bug
    created: "2017-08-02T23:28:47.53567Z"
    description: "Summary:\r\nEvery single day I have to re-enter my google password and 2fa code as Mail.app has de-authenticated.\r\nIt is no longer possible to use an app specific password in the mail app so I cannot get around it that way.\r\nI do have multiple google accounts that I log into during the day, so the machine may not always be left logged into the correct gmail account, but that should not matter, I should be able to set up to get mail from multiple different accounts anyway.\r\nI have removed and recreated the account many times. I have gone to the google unlock captcha page. I can access gmail just fine in the web browser, and all of other google services do work fine, even with switching multiple accounts. Logging in to google accounts on this machine does not ask for the 2fa code normally, as I have checked \"do not ask on this machine\" previously - each time I re-enter the password for Mail.app though, it does ask for the 2fa code. I have not changed the password nor added 2fa since creating the internet account on the mac (it was always enabled).\r\n\r\nSteps to Reproduce:\r\nSet up a google internet account in Mail with 2fa.\r\nSee it working.\r\nGo home and come back the next day.\r\nSee the \"Google Password Required\" message.\r\n\r\nExpected Results:\r\nNot have to re-enter the password and 2fa code each day.\r\n\r\nObserved Results:\r\nThe mail account is logged out and cannot get or send mail, the password must be re-entered.\r\n\r\nVersion:\r\n10.12.6 (16G29)\r\n\r\nNotes:\r\nIf it was an option to use \"app specific\" passwords then I could work around this bug, but it seems that now mail \"supports 2fa\" it actually \"requires\" 2fa to be used when it is set up on the account.\r\n\r\nConfiguration:\r\nModel Name:\tiMac\r\nModel Identifier:\tiMac18,3\r\nProcessor Name:\tIntel Core i7\r\nProcessor Speed:\t4.2 GHz\r\nNumber of Processors:\t1\r\nTotal Number of Cores:\t4\r\nMemory:\t32 GB\r\nBoot ROM Version:\tIM183.0145.B09\r\nSMC Version (system):\t2.41f1"
    email: davidkclark@gmail.com
    modified: "2017-08-02T23:28:47.53593Z"
    number: "33688579"
    number_intvalue: 33688579
    originated: August 3 2017
    parent_number: '&{NULL_VALUE}'
    product: Mail.app
    product_version: 10.3 (3273)
    reproducible: always
    resolved: ""
    status: open
    title: Mail app loses authentication to google with 2fa every day
