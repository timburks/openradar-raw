apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "39270270"
    labels:
        datastore_id: "4984249803341824"
data:
    classification: Crash/Hang/Data Loss
    created: "2018-04-09T03:24:16.33294Z"
    description: "Summary:\r\nSetting a targetâ€™s build configuration setting of `PLATFORM_NAME` to anything that is not a valid platform name causes a crash.\r\n\r\nSteps to Reproduce:\r\nOpen the attached Xcode project. Alternatively, add a user defined build setting with the name PLATFORM_NAME and a value of `A`. Hit enter and sob.\r\n\r\nExpected Results:\r\nXcode should be able to open the project without issue, and should only error when I go to build something.\r\n\r\nActual Results:\r\n2018-04-08 20:11:52.539 xcodebuild[72217:14453984] [MT] DVTAssertions: ASSERTION FAILURE in /Library/Caches/com.apple.xbs/Sources/DVTFrameworks/DVTFrameworks-14133/DVTFoundation/MacroExpansion/DVTMacroDefinitionTable.mm:1401\r\nDetails:  macroName should be a non-empty string, but it is nil\r\nObject:   <DVTMacroDefinitionTable: 0x7f8d4bf44120>\r\nMethod:   -objectForKeyedSubscript:\r\nThread:   <NSThread: 0x7f8d495177d0>{number = 1, name = main}\r\nHints: \r\n\r\nBacktrace:\r\n  0   -[DVTAssertionHandler handleFailureInMethod:object:fileName:lineNumber:assertionSignature:messageFormat:arguments:] (in DVTFoundation)\r\n  1   _DVTAssertionHandler (in DVTFoundation)\r\n  2   _DVTAssertionFailureHandler (in DVTFoundation)\r\n  3   -[DVTMacroDefinitionTable objectForKeyedSubscript:] (in DVTFoundation)\r\n  4   -[PBXTarget createMacroExpansionScopeWithBuildParameters:] (in DevToolsCore)\r\n  5   -[PBXTarget cachedMacroExpansionScopeForBuildParameters:] (in DevToolsCore)\r\n  6   -[PBXTarget expandedValueForString:forBuildParameters:] (in DevToolsCore)\r\n  7   -[PBXNativeTarget builtProductsLocationForBuildParameters:] (in DevToolsCore)\r\n  8   -[Xcode3FileReference resolutionContextForStrategies:] (in DevToolsCore)\r\n  9   -[IDEContainerItem _absolutePath] (in IDEFoundation)\r\n 10   -[IDEFileReference _absolutePath] (in IDEFoundation)\r\n 11   -[IDEFileReference resolvedFilePath] (in IDEFoundation)\r\n 12   -[Xcode3FileReference resolvedFilePath] (in DevToolsCore)\r\n 13   -[IDEFileReference _resolveReferencedContainerExtension] (in IDEFoundation)\r\n 14   -[IDEFileReference referencedContainerExtension] (in IDEFoundation)\r\n 15   -[IDEContainer _locateFileReferencesRecursivelyInGroup:] (in IDEFoundation)\r\n 16   -[IDEContainer _locateFileReferencesRecursivelyInGroup:] (in IDEFoundation)\r\n 17   -[IDEContainer _locateFileReferencesRecursively] (in IDEFoundation)\r\n 18   __46-[IDEContainer _didReadOperationWithFilePath:]_block_invoke (in IDEFoundation)\r\n 19   -[DVTOperation main] (in DVTFoundation)\r\n 20   -[IDEContainer _readAsyncIfPossibleFromFilePath:error:] (in IDEFoundation)\r\n 21   -[IDEContainer initWithFilePath:extension:workspace:options:error:] (in IDEFoundation)\r\n 22   -[Xcode3Project initWithFilePath:extension:workspace:options:error:] (in DevToolsCore)\r\n 23   __82+[IDEContainer _retainedContainerAtFilePath:fileDataType:workspace:options:error:]_block_invoke_2 (in IDEFoundation)\r\n 24   _dispatch_client_callout (in libdispatch.dylib)\r\n 25   _dispatch_queue_barrier_sync_invoke_and_complete (in libdispatch.dylib)\r\n 26   DVTDispatchBarrierSync (in DVTFoundation)\r\n 27   -[DVTDispatchLock performLockedBlock:] (in DVTFoundation)\r\n 28   __82+[IDEContainer _retainedContainerAtFilePath:fileDataType:workspace:options:error:]_block_invoke (in IDEFoundation)\r\n 29   __58-[DVTModelObjectGraph performBlockCoalescingModelChanges:]_block_invoke (in DVTFoundation)\r\n 30   -[DVTModelGraphTransactionScope performTransaction:] (in DVTFoundation)\r\n 31   -[DVTModelObjectGraph performBlockCoalescingModelChanges:] (in DVTFoundation)\r\n 32   +[IDEContainer _retainedContainerAtFilePath:fileDataType:workspace:options:error:] (in IDEFoundation)\r\n 33   +[IDEContainer retainedContainerAtFilePath:fileDataType:workspace:error:] (in IDEFoundation)\r\n 34   -[IDEWorkspace _configureWrappedWorkspaceWithError:] (in IDEFoundation)\r\n 35   -[IDEWorkspace _setContainerFilePath:upgradeToWorkspace:error:] (in IDEFoundation)\r\n 36   +[IDEContainer retainedWrappedWorkspaceForContainerAtFilePath:fileDataType:error:] (in IDEFoundation)\r\n 37   -[Xcode3CommandLineBuildTool _resolveInputOptionsWithTimingSection:] (in Xcode3Core)\r\n 38   -[Xcode3CommandLineBuildTool run] (in Xcode3Core)\r\n 39   main (in xcodebuild)\r\n 40   start (in libdyld.dylib)\r\n\r\n\r\nVersion:\r\nXcode 9.3\r\n\r\nNotes:"
    email: segiddins@gmail.com
    modified: "2018-04-09T03:24:16.33312Z"
    number: "39270270"
    number_intvalue: 39270270
    originated: 08-Apr-2018 08:24 PM
    parent_number: '&{NULL_VALUE}'
    product: Developer Tools
    product_version: Xcode 9.3
    reproducible: Always
    resolved: ""
    status: Open
    title: Xcode Crashes when setting PLATFORM_NAME to invalid value
