apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "37236379"
    labels:
        datastore_id: "5011275885051904"
data:
    classification: ""
    created: "2018-02-05T15:43:44.86254Z"
    description: "Area:\r\nPhotos Framework\r\n\r\nSummary:\r\nI see this problem for some video files in Camera Roll where they got via AirDrop or other sources, that is these videos aren't made by current iDevice's camera. It is reproducible for all devices that I tested with.\r\n\r\nSteps to Reproduce:\r\nFor example, take a file .3gp format from Apple source https://support.apple.com/en-us/HT201549. After you downloaded it, you need to send it to device via AirDrop or email for example.\r\nThen to export this file you can use\r\nPHImageManager.default().requestExportSession(...)\r\nor \r\nPHImageManager.default().requestAVAsset(...)\r\nmethods of PHImageManager shared instance.\r\nExpected Results:\r\nIt should have exported it\r\n\r\nActual Results:\r\nError is received:\r\nError Domain=AVFoundationErrorDomain Code=-11800 \"The operation could not be completed\" UserInfo={NSLocalizedFailureReason=An unknown error occurred (1885696621), NSLocalizedDescription=The operation could not be completed, NSUnderlyingError=0x1c0a40300 {Error Domain=NSOSStatusErrorDomain Code=1885696621 \"(null)\" UserInfo={AVErrorFourCharCode='perm'}}}\r\n\r\nOptional([AnyHashable(\"PHImageResultIsInCloudKey\"): 0, AnyHashable(\"PHImageFileSandboxExtensionTokenKey\"): 9f3b1f2c03317b5a6f41e93337f025488ffd6305;00000000;00000000;000000000000001b;com.apple.avasset.read-only;01;01000003;0000000000c9db40;/private/var/mobile/Media/DCIM/100APPLE/IMG_0513.3GP, AnyHashable(\"PHImageResultWantedImageFormatKey\"): 20001, AnyHashable(\"PHImageResultDeliveredImageFormatKey\"): 20000])\r\n\r\nConfiguration:\r\niPhone 7 Plus"
    email: Mike.house.nsk@gmail.com
    modified: "2018-02-05T15:44:46.2754Z"
    number: "37236379"
    number_intvalue: 37236379
    originated: February 5 2018, 10:40 PM
    parent_number: '&{NULL_VALUE}'
    product: iOS
    product_version: iOS 11.2.5 (15D5046b)
    reproducible: always
    resolved: no
    status: opened
    title: PHImageManager cannot export a video file
