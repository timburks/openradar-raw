apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "46489378"
    labels:
        datastore_id: "6072557631438848"
data:
    classification: Crash/Hang/Data Loss
    created: "2018-12-05T17:24:42.717013Z"
    description: "Summary:\r\nWe’re seeing random crashes in UIKit via the stack trace below. My guess is that this happens during UIDocumentBrowserViewController presentation, but it’s hard to say, we see these crashes happening for more than a year now and they are not going away, so we finally report them.\n\nThis is one of the most dominant crash reasons for pdfviewer.io\r\n\r\nSteps to Reproduce:\r\nRun PDF Viewer, restart, it crashes at some point (this can take hours…)\r\n\r\nExpected Results:\r\nNo crash.\r\n\r\nActual Results:\r\nCrashed: com.apple.main-thread\n0  UIKitCore                      0x2096231f0 __71-[UIPresentationController _initViewHierarchyForPresentationSuperview:]_block_invoke + 412\n1  UIKitCore                      0x20961f530 -[UIPresentationController _transitionToPresentationController:withTransitionCoordinator:] + 1912\n2  UIKitCore                      0x209706d1c -[UIViewController _adaptedPresentationControllerForTraitCollection:withTransitionCoordinator:] + 816\n3  UIKitCore                      0x209625f1c -[UIPresentationController _sharedParent:willTransitionToTraitCollection:withTransitionCoordinator:] + 212\n4  UIKitCore                      0x209625dac -[UIPresentationController _window:willTransitionToTraitCollection:withTransitionCoordinator:] + 96\n5  UIKitCore                      0x2096f3c90 -[UIViewController _window:willTransitionToTraitCollection:withTransitionCoordinator:] + 356\n6  UIKitCore                      0x209625dd8 -[UIPresentationController _window:willTransitionToTraitCollection:withTransitionCoordinator:] + 140\n7  UIKitCore                      0x2096f3c90 -[UIViewController _window:willTransitionToTraitCollection:withTransitionCoordinator:] + 356\n8  UIKitCore                      0x209d04d14 -[UIWindow _willTransitionToTraitCollection:withTransitionCoordinator:] + 452\n9  UIKitCore                      0x209d048bc -[UIWindow _willChangeToSize:orientation:screen:withTransitionCoordinator:] + 196\n10 UIKitCore                      0x209cfc1ec -[UIWindow _rotateToBounds:withAnimator:transitionContext:] + 264\n11 UIKitCore                      0x209cfebd8 -[UIWindow _rotateWindowToOrientation:updateStatusBar:duration:skipCallbacks:] + 1196\n12 UIKitCore                      0x209cff3d4 -[UIWindow _setRotatableClient:toOrientation:updateStatusBar:duration:force:isRotating:] + 516\n13 UIKitCore                      0x209cfe67c -[UIWindow _setRotatableViewOrientation:updateStatusBar:duration:force:] + 128\n14 UIKitCore                      0x209cfd2e0 __57-[UIWindow _updateToInterfaceOrientation:duration:force:]_block_invoke + 124\n15 UIKitCore                      0x209cfd17c -[UIWindow _updateToInterfaceOrientation:duration:force:] + 460\n16 UIKitCore                      0x20955c61c -[_UICanvasMetricsCalculator updateMetricsOnWindows:animated:] + 632\n17 UIKitCore                      0x209561174 -[_UICanvas _computeMetrics:] + 180\n18 UIKitCore                      0x20955bba0 _performChangesWithTransitionContext + 848\n19 UIKitCore                      0x20955a3bc -[_UICanvasGeometrySettingsDiffAction _updateSceneGeometryWithSettingObserverContext:canvas:transitionContext:] + 132\n20 UIKitCore                      0x20955a2b8 __124-[_UICanvasGeometrySettingsDiffAction performActionsForCanvas:withUpdatedScene:settingsDiff:fromSettings:transitionContext:]_block_invoke + 104\n21 UIKitCore                      0x20955b840 _performActionsWithDelayForTransitionContext + 112\n22 UIKitCore                      0x20955a20c -[_UICanvasGeometrySettingsDiffAction performActionsForCanvas:withUpdatedScene:settingsDiff:fromSettings:transitionContext:] + 176\n23 UIKitCore                      0x20955f684 -[_UICanvas scene:didUpdateWithDiff:transitionContext:completion:] + 368\n24 UIKitCore                      0x2098a3090 -[UIApplicationSceneClientAgent scene:handleEvent:withCompletion:] + 468\n25 FrontBoardServices             0x1dfa556e4 __80-[FBSSceneImpl updater:didUpdateSettings:withDiff:transitionContext:completion:]_block_invoke.359 + 228\n26 libdispatch.dylib              0x1dca5a484 _dispatch_client_callout + 16\n27 libdispatch.dylib              0x1dc9fde20 _dispatch_block_invoke_direct$VARIANT$mp + 224\n28 FrontBoardServices             0x1dfa93a9c __FBSSERIALQUEUE_IS_CALLING_OUT_TO_A_BLOCK__ + 40\n29 FrontBoardServices             0x1dfa93728 -[FBSSerialQueue _performNext] + 416\n30 FrontBoardServices             0x1dfa93d44 -[FBSSerialQueue _performNextFromRunLoopSource] + 56\n31 CoreFoundation                 0x1dcfb01cc __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE0_PERFORM_FUNCTION__ + 24\n32 CoreFoundation                 0x1dcfb014c __CFRunLoopDoSource0 + 88\n33 CoreFoundation                 0x1dcfafa84 __CFRunLoopDoSources0 + 260\n34 CoreFoundation                 0x1dcfaa8fc __CFRunLoopRun + 1040\n35 CoreFoundation                 0x1dcfaa1cc CFRunLoopRunSpecific + 436\n36 GraphicsServices               0x1df221584 GSEventRunModal + 100\n37 UIKitCore                      0x209cbd054 UIApplicationMain + 212\n38 Viewer                         0x1026ba95c main (main.swift:12)\n39 libdyld.dylib                  0x1dca6abb4 start + 4\r\n\r\nVersion:\r\n12.1\r\n\r\nNotes:\r\nI’m unable to provide a sample project or clear steps to reproduce, so we didn’t report that, but it keeps happening and I don’t see any way how we could fix this ourselves."
    email: steipete@gmail.com
    modified: "2018-12-05T17:24:42.717159Z"
    number: "46489378"
    number_intvalue: 46489378
    originated: 05-Dec-2018 06:24 PM
    parent_number: '&{NULL_VALUE}'
    product: iOS + SDK
    product_version: "12.1"
    reproducible: Sometimes
    resolved: ""
    status: Open
    title: Random crashes in __71-[UIPresentationController _initViewHierarchyForPresentationSuperview:]_block_invoke + 412
