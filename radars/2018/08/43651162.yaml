apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "43651162"
    labels:
        datastore_id: "5053347195256832"
data:
    classification: Other Bug
    created: "2018-08-23T18:31:39.79016Z"
    description: "Summary:\r\nUsing Interface Builder: When a UIScrollView's content view is a UIStackView which again contains container views with an embed segue to child view controllers, the property `translatesAutoresizingMaskIntoConstraints` is not set to `NO`.\n\nAs [described in the documentation](https://developer.apple.com/documentation/uikit/uiview/1622572-translatesautoresizingmaskintoco), the property should be set to `NO` automatically:\n\n> If you add views in Interface Builder, the system automatically sets this property to false.\n\nThis behavior is not seen if:\n* an UIView instance is placed directly inside the UIScrollView instead of using an container view with an embed segue to child view controllers\n* the view hierarchy is defined programmatically, and `translatesAutoresizingMaskIntoConstraints` is set to `NO`\r\n\r\nSteps to Reproduce:\r\nPlease see the attached demo project. The project contains three view controllers.\n\n### Works:\n\nContains a view hierarchy defined programmatically. Please see `WorksViewController.m` for details, the storyboard just contains an empty view controller with a reference to this class.\n\n### Defect:\n\nContains a view hierarchy defined entirely using Interface Builder and storyboard. The view controller is not able to display the contents in the UIStackView accordingly, the views in the UIStackView are collapsed.\n\n### Workaround:\n\nContains the same setup as \"Defect\", but `translatesAutoresizingMaskIntoConstraints` is set programmatically to `NO` in `-[WorkaroundViewController prepareForSegue:sender:]` for every embedded view controller.\r\n\r\nExpected Results:\r\nAs described in the official documentation, the property `translatesAutoresizingMaskIntoConstraints` should be set automatically to `NO`, even in view controllers placed in a container view controller using embed segues.\r\n\r\nActual Results:\r\n`translatesAutoresizingMaskIntoConstraints` is set to the default for view added programmatically, which is `YES`. The console will log the following warning:\n\n```\n2018-08-23 20:26:41.515016+0200 ContainerViewDemo[29499:1632552] [LayoutConstraints] Unable to simultaneously satisfy constraints.\n\tProbably at least one of the constraints in the following list is one you don't want. \n\tTry this: \n\t\t(1) look at each constraint and try to figure out which you don't expect; \n\t\t(2) find the code that added the unwanted constraint or constraints and fix it. \n(\n    \"<NSLayoutConstraint:0x600000c13c50 UIView:0x7fb00b427210.height == 400   (active)>\",\n    \"<NSLayoutConstraint:0x600000c13d40 V:|-(0)-[UIView:0x7fb00b427210]   (active, names: '|':UIView:0x7fb00b427030 )>\",\n    \"<NSLayoutConstraint:0x600000c13d90 V:[UIView:0x7fb00b427210]-(0)-|   (active, names: '|':UIView:0x7fb00b427030 )>\",\n    \"<NSLayoutConstraint:0x600000c1fca0 'UIView-Encapsulated-Layout-Height' UIView:0x7fb00b427030.height == 0   (active)>\"\n)\n\nWill attempt to recover by breaking constraint \n<NSLayoutConstraint:0x600000c13c50 UIView:0x7fb00b427210.height == 400   (active)>\n\nMake a symbolic breakpoint at UIViewAlertForUnsatisfiableConstraints to catch this in the debugger.\nThe methods in the UIConstraintBasedLayoutDebugging category on UIView listed in <UIKitCore/UIView.h> may also be helpful.\n2018-08-23 20:26:41.515918+0200 ContainerViewDemo[29499:1632552] [LayoutConstraints] Unable to simultaneously satisfy constraints.\n\tProbably at least one of the constraints in the following list is one you don't want. \n\tTry this: \n\t\t(1) look at each constraint and try to figure out which you don't expect; \n\t\t(2) find the code that added the unwanted constraint or constraints and fix it. \n(\n    \"<NSLayoutConstraint:0x600000c13660 UIView:0x7fb00b424d20.height == 200   (active)>\",\n    \"<NSLayoutConstraint:0x600000c137a0 V:|-(0)-[UIView:0x7fb00b424d20]   (active, names: '|':UIView:0x7fb00b424b40 )>\",\n    \"<NSLayoutConstraint:0x600000c137f0 V:[UIView:0x7fb00b424d20]-(0)-|   (active, names: '|':UIView:0x7fb00b424b40 )>\",\n    \"<NSLayoutConstraint:0x600000c1c9b0 'UIView-Encapsulated-Layout-Height' UIView:0x7fb00b424b40.height == 0   (active)>\"\n)\n\nWill attempt to recover by breaking constraint \n<NSLayoutConstraint:0x600000c13660 UIView:0x7fb00b424d20.height == 200   (active)>\n\nMake a symbolic breakpoint at UIViewAlertForUnsatisfiableConstraints to catch this in the debugger.\nThe methods in the UIConstraintBasedLayoutDebugging category on UIView listed in <UIKitCore/UIView.h> may also be helpful.\n```\r\n\r\nVersion:\r\nXcode Version 10.0 beta 5 (10L221o)\r\n\r\nNotes:"
    email: mkalmes@gmail.com
    modified: "2018-08-23T18:31:39.79038Z"
    number: "43651162"
    number_intvalue: 43651162
    originated: 23-Aug-2018 08:31 PM
    parent_number: '&{NULL_VALUE}'
    product: Developer Tools
    product_version: Xcode Version 10.0 beta 5 (10L221o)
    reproducible: Always
    resolved: ""
    status: Open
    title: Property `translatesAutoresizingMaskIntoConstraints` not set to `NO` when using container views
