apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "6093897"
    labels:
        datastore_id: "2003"
data:
    classification: Other Bug
    created: "2008-12-20T23:17:45.859921Z"
    description: "22-Jul-2008 09:42 PM Andrea Govoni:\r\nSummary:\r\nIf I change the preferred language from English to Italian and I add a new local user account, the new account's Home folder lacks the Documents, Movies, Music, Pictures and Public standard folders and is populated only by the Desktop, Downloads, Library and Sites folders.\r\n\r\nSteps to Reproduce:\r\n1. Go to System Preferences --> International --> Language and put \"Italiano\" to the top of the language list.\r\n2. Close and reopen System Preferences.\r\n3. Go to the Accounts pane and add a new user account.\r\n4. Go to the Finder and open /Users/<name_of_the_new_account>/.\r\n\r\nExpected Results:\r\nThe new account's Home folder should contain all the standard folders.\r\n\r\nActual Results:\r\nOnly the Desktop, Downloads, Library and Sites folders are present.\r\n\r\n\r\n22-Jul-2008 11:22 PM Vanaja Pasumarthi:\r\nEngineering has requested the following information in order to further investigate this issue:\r\n\r\nWe are unable to reproduce on 10.5..4.  Could you please run following command as admin in terminal:\r\n\r\n>sudo ls -al /System/Library/User\\ Template/\r\n\r\nand post output into this bug.\r\n\r\n\r\n23-Jul-2008 10:55 PM Andrea Govoni:\r\nThe output of the command is:\r\n\r\nLast login: Wed Jul 23 22:45:40 on console\r\n[MyServer:~] xfox% sudo ls -al /System/Library/User\\ Template/\r\nPassword:\r\ntotal 0\r\ndrwx------  22 root  wheel   748 21 Mar 17:08 .\r\ndrwxr-xr-x  66 root  wheel  2244 10 Lug 22:59 ..\r\ndrwxr-xr-x   3 root  wheel   102 24 Set  2007 Dutch.lproj\r\ndrwxr-xr-x  12 root  wheel   408 21 Mar 17:00 English.lproj\r\ndrwxr-xr-x  12 root  wheel   408 21 Mar 17:11 French.lproj\r\ndrwxr-xr-x  12 root  wheel   408 21 Mar 17:11 German.lproj\r\ndrwxr-xr-x   3 root  wheel   102 24 Set  2007 Italian.lproj\r\ndrwxr-xr-x  12 root  wheel   408 21 Mar 17:11 Japanese.lproj\r\ndrwxr-xr-x   4 root  wheel   136 21 Mar 17:00 Non_localized\r\ndrwxr-xr-x   3 root  wheel   102 24 Set  2007 Spanish.lproj\r\ndrwxr-xr-x   3 root  wheel   102 24 Set  2007 da.lproj\r\ndrwxr-xr-x   3 root  wheel   102 24 Set  2007 fi.lproj\r\ndrwxr-xr-x   3 root  wheel   102 24 Set  2007 ko.lproj\r\ndrwxr-xr-x   3 root  wheel   102 24 Set  2007 no.lproj\r\ndrwxr-xr-x   3 root  wheel   102 24 Set  2007 pl.lproj\r\ndrwxr-xr-x   3 root  wheel   102 24 Set  2007 pt.lproj\r\ndrwxr-xr-x   3 root  wheel   102 24 Set  2007 pt_PT.lproj\r\ndrwxr-xr-x   3 root  wheel   102 24 Set  2007 ru.lproj\r\ndrwxr-xr-x   3 root  wheel   102 24 Set  2007 sv.lproj\r\ndrwx------   9 root  wheel   306 21 Mar 17:08 user.template\r\ndrwxr-xr-x   3 root  wheel   102 24 Set  2007 zh_CN.lproj\r\ndrwxr-xr-x   3 root  wheel   102 24 Set  2007 zh_TW.lproj\r\n[MyServer:~] xfox% \r\n\r\nI made further tests and always the local user accounts created when Italian is the preferred language lacks many standard folders.\r\nAdditionally, I found that actually only the Library and Sites folders are created when I click \"Create Account\" in System Preferences and the Desktop and Downloads folders are only created when the user login on the server for the first time.\r\nI also tried to create local user accounts with others preferred languages and the results are:\r\n- with \"Esperanto\" --> all standard folders are created;\r\n- with \"Español\" --> only the Library and Sites folders are created, just like with \"Italiano\";\r\n- with \"Français\" --> all standard folders are created.\r\n\r\n\r\n11-Aug-2008 09:57 PM Vanaja Pasumarthi :\r\nEngineering has requested the following information in order to further investigate this issue:\r\n\r\nPlease run the following commands in Terminal and send us the output:\r\n\r\nsudo -s\r\nls -al /System/Library/User\\ Template/Italian.lproj\r\nls -al /System/Library/User\\ Template/Spanish.lproj\r\nls -al /System/Library/User\\ Template/French.lproj\r\n\r\n\r\n12-Aug-2008 07:39 PM AM Andrea Govoni:\r\nThe requested output is:\r\n\r\n[MyServer:~] xfox% sudo -s\r\nPassword:\r\n[Hokage:~] root# echo $SHELL\r\n/bin/tcsh\r\n[MyServer:~] root# ls -al /System/Library/User\\ Template/Italian.lproj\r\ntotal 0\r\ndrwxr-xr-x   3 root  wheel  102 Sep 24  2007 ./\r\ndrwx------  22 root  wheel  748 Mar 21 17:08 ../\r\ndrwxr-xr-x+  3 root  wheel  102 Sep 24  2007 Sites/\r\n[MyServer:~] root# ls -al /System/Library/User\\ Template/Spanish.lproj\r\ntotal 0\r\ndrwxr-xr-x   3 root  wheel  102 Sep 24  2007 ./\r\ndrwx------  22 root  wheel  748 Mar 21 17:08 ../\r\ndrwxr-xr-x+  3 root  wheel  102 Sep 24  2007 Sites/\r\n[MyServer:~] root# ls -al /System/Library/User\\ Template/French.lproj\r\ntotal 8\r\ndrwxr-xr-x  12 root  wheel  408 Mar 21 17:11 ./\r\ndrwx------  22 root  wheel  748 Mar 21 17:08 ../\r\n-rw-------   1 root  wheel    5 Feb 25  2005 .CFUserTextEncoding\r\ndrwx------+  3 root  wheel  102 Sep 15  2007 Desktop/\r\ndrwx------+  3 root  wheel  102 Sep 15  2007 Documents/\r\ndrwx------+  3 root  wheel  102 Sep 15  2007 Downloads/\r\ndrwx------+ 20 root  wheel  680 Sep 19  2007 Library/\r\ndrwx------+  3 root  wheel  102 Sep 15  2007 Movies/\r\ndrwx------+  3 root  wheel  102 Sep 15  2007 Music/\r\ndrwx------+  4 root  wheel  136 Mar 21 17:11 Pictures/\r\ndrwxr-xr-x+  4 root  wheel  136 Sep 15  2007 Public/\r\ndrwxr-xr-x+  6 root  wheel  204 Mar 21 17:11 Sites/\r\n[MyServer:~] root# \r\n\r\n\r\n23-Oct-2008 11:04 AM KIT CHEUNG :\r\nEngineering has requested the following information in order to further investigate this issue:\r\n \r\nSomehow the standard folders were deleted from the Italian and Spanish lproj folders in User Template.  There is not enough information to determine how this happened.  This could be user error or disk corruption.  A clean install will fix it.  \r\n\r\nThen, please let us know if you continue to experience the same issue.\r\n\r\n\r\n04-Nov-2008 02:13 PM Andrea Govoni:\r\nThis bug has not been caused by user error or disk corruption.\r\nFew days ago I did a clean installation from my Leopard 10.5 (9A581) Server retail DVD (product code MB005Z/A) to an external FireWire disk's volume. After the reboot past the installation phase, I quit the setup procedure with Command + Q and clicked Shutdown. Then I booted from another volume with Mac OS X 10.4 installed and run the following commands in Terminal.\r\n\r\n[evangelion-00:~] xfox% ls -al /Volumes/Leopard\\ Server\\ Lab/System/Library/User\\ Template/\r\ntotal 0\r\ndrwx------   22 xfox  xfox   748 Oct 31 15:15 ./\r\ndrwxr-xr-x   66 xfox  xfox  2244 Oct 31 15:52 ../\r\ndrwxr-xr-x    3 xfox  xfox   102 Sep 24  2007 Dutch.lproj/\r\ndrwxr-xr-x   12 xfox  xfox   408 Oct 31 14:57 English.lproj/\r\ndrwxr-xr-x   12 xfox  xfox   408 Oct 31 15:22 French.lproj/\r\ndrwxr-xr-x   12 xfox  xfox   408 Oct 31 15:23 German.lproj/\r\ndrwxr-xr-x    3 xfox  xfox   102 Sep 24  2007 Italian.lproj/\r\ndrwxr-xr-x   12 xfox  xfox   408 Oct 31 15:24 Japanese.lproj/\r\ndrwxr-xr-x    4 xfox  xfox   136 Oct 31 14:57 Non_localized/\r\ndrwxr-xr-x    3 xfox  xfox   102 Sep 24  2007 Spanish.lproj/\r\ndrwxr-xr-x    3 xfox  xfox   102 Sep 24  2007 da.lproj/\r\ndrwxr-xr-x    3 xfox  xfox   102 Sep 24  2007 fi.lproj/\r\ndrwxr-xr-x    3 xfox  xfox   102 Sep 24  2007 ko.lproj/\r\ndrwxr-xr-x    3 xfox  xfox   102 Sep 24  2007 no.lproj/\r\ndrwxr-xr-x    3 xfox  xfox   102 Sep 24  2007 pl.lproj/\r\ndrwxr-xr-x    3 xfox  xfox   102 Sep 24  2007 pt.lproj/\r\ndrwxr-xr-x    3 xfox  xfox   102 Sep 24  2007 pt_PT.lproj/\r\ndrwxr-xr-x    3 xfox  xfox   102 Sep 24  2007 ru.lproj/\r\ndrwxr-xr-x    3 xfox  xfox   102 Sep 24  2007 sv.lproj/\r\ndrwx------    9 xfox  xfox   306 Oct 31 15:15 user.template/\r\ndrwxr-xr-x    3 xfox  xfox   102 Sep 24  2007 zh_CN.lproj/\r\ndrwxr-xr-x    3 xfox  xfox   102 Sep 24  2007 zh_TW.lproj/\r\n[evangelion-00:~] xfox% ls -al /Volumes/Leopard\\ Server\\ Lab/System/Library/User\\ Template/Italian.lproj\r\ntotal 0\r\ndrwxr-xr-x    3 xfox  xfox  102 Sep 24  2007 ./\r\ndrwx------   22 xfox  xfox  748 Oct 31 15:15 ../\r\ndrwxr-xr-x    3 xfox  xfox  102 Sep 24  2007 Sites/\r\n[evangelion-00:~] xfox% ls -al /Volumes/Leopard\\ Server\\ Lab/System/Library/User\\ Template/French.lproj\r\ntotal 8\r\ndrwxr-xr-x   12 xfox  xfox  408 Oct 31 15:22 ./\r\ndrwx------   22 xfox  xfox  748 Oct 31 15:15 ../\r\n-rw-------    1 xfox  xfox    5 Feb 25  2005 .CFUserTextEncoding\r\ndrwx------    3 xfox  xfox  102 Sep 15  2007 Desktop/\r\ndrwx------    3 xfox  xfox  102 Sep 15  2007 Documents/\r\ndrwx------    3 xfox  xfox  102 Sep 15  2007 Downloads/\r\ndrwx------   20 xfox  xfox  680 Sep 19  2007 Library/\r\ndrwx------    3 xfox  xfox  102 Sep 15  2007 Movies/\r\ndrwx------    3 xfox  xfox  102 Sep 15  2007 Music/\r\ndrwx------    4 xfox  xfox  136 Oct 31 15:22 Pictures/\r\ndrwxr-xr-x    4 xfox  xfox  136 Sep 15  2007 Public/\r\ndrwxr-xr-x    6 xfox  xfox  204 Oct 31 15:22 Sites/\r\n[evangelion-00:~] xfox%\r\n\r\nAs you can see, the standard folders are already missing.\r\nIt should be useful to add that I performed the two installations (the original one and the test one) from two (different) PowerPC machines, I didn't try on an Intel machine.\r\nIt seems to me that this is a general issue, maybe related to installing from the 10.5.0 Install DVD, and requires a fix pushed down through Software Update to restore the missing folders on all faulty installations.\r\n\r\n\r\n16-Sep-2009 03:02 AM Andrea Govoni:\r\nWhy did you close this bug as \"Behaves correctly\"?\r\nMoreover, you did this silently, without a word, so that I noticed it only now.\r\nI provided incontrovertible proofs that this bug is not due to user error or disk corruption.\r\nIf you don't trust me, try to perform the very same installation procedure I described on 04-Nov-2008.\r\nI spent a lot of time trying to sort this (and many other bugs) out and prove you it's a real Mac OS X problem, it's very discouraging finding that you don't care very much about your developers' efforts and it makes me think about reconsidering my commitment to file bug reports to you."
    email: xfox@mac.com
    modified: "2011-08-28T05:49:53.626771Z"
    number: "6093897"
    number_intvalue: 6093897
    originated: 22-Jul-2008 09:42 PM
    parent_number: '&{NULL_VALUE}'
    product: Mac OS X Server
    product_version: 10.5.4 (9E17)
    reproducible: Always
    resolved: No
    status: Behaves correctly
    title: Missing folders from new local user accounts
