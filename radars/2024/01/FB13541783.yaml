apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: FB13541783
    labels:
        datastore_id: "5524015393275904"
data:
    classification: ""
    created: "2024-01-15T16:25:42.004249Z"
    description: "Consider this complete SwiftUI macOS app\r\n\r\n```swiftui\r\n//\r\n//  TestSearchStringInViewModelApp.swift\r\n//  TestSearchStringInViewModel\r\n//\r\n//  Created by Damian Mehers on 2024-01-15.\r\n//\r\n\r\nimport SwiftUI\r\n\r\n@main\r\nstruct TestSearchStringInViewModelApp: App {\r\n    var body: some Scene {\r\n        WindowGroup {\r\n            ContentView()\r\n        }\r\n    }\r\n}\r\n\r\nstruct ContentView: View {\r\n    // using @Bindable or plain \"var\" with a Bindable<ViewModel> object in the code does same thing\r\n    @State var viewModel = ViewModel()\r\n    var body: some View {\r\n        NavigationSplitView {\r\n            VStack {\r\n                List(1..<5) { n in\r\n                    Text(\"\\(n)\")\r\n                }\r\n                .listStyle(SidebarListStyle())\r\n                // Works if not sidebar or @State searchString\r\n                .searchable(text: $viewModel.searchString, placement: .sidebar)\r\n            }\r\n        } detail: {\r\n            Text(\"Some detail\")\r\n        }\r\n    }\r\n}\r\n\r\n@Observable final class ViewModel {\r\n    var searchString = \"\"\r\n}\r\n```\r\n\r\nWhen you run it, when you tap “a” into the searchbar two “a”s appear, and when they are both deleted you get a crash:\r\n\r\n```\r\nAn uncaught exception was raised\r\n*** -[NSBigMutableString substringWithRange:]: Range {0, 1} out of bounds; string length 0\r\n(\r\n\t0   CoreFoundation                      0x00000001820d0570 __exceptionPreprocess + 176\r\n\t1   libobjc.A.dylib                     0x0000000181bc1eb4 objc_exception_throw + 60\r\n\t2   Foundation                          0x0000000183131930 -[NSString _newSubstringWithRange:zone:] + 0\r\n\t3   AppKit                              0x00000001859e6f28 -[NSTextStorage(NSUndo) _undoRedoAttributedSubstringFromRange:] + 140\r\n\t4   AppKit                              0x00000001859e6e04 -[NSUndoTyping initWithAffectedRange:textStorage:undoManager:replacementRange:] + 132\r\n\t5   AppKit                              0x00000001859e6c6c -[NSTextViewSharedData coalesceInTextView:affectedRange:replacementRange:] + 308\r\n\t6   AppKit                              0x00000001859e5f38 -[NSTextView(NSSharing) shouldChangeTextInRanges:replacementStrings:] + 968\r\n\t7   AppKit                              0x00000001861f9d18 -[NSTextView performValidatedReplacementInRange:withAttributedString:] + 196\r\n\t8   SwiftUI                             0x00000001ae4223d8 OUTLINED_FUNCTION_6 + 2648\r\n\t9   SwiftUI                             0x00000001ae53c724 OUTLINED_FUNCTION_1 + 8004\r\n\t10  SwiftUI                             0x00000001ae53bfd4 OUTLINED_FUNCTION_1 + 6132\r\n\t11  SwiftUI                             0x00000001ae53ba8c OUTLINED_FUNCTION_1 + 4780\r\n\t12  SwiftUI                             0x00000001ae53acb8 OUTLINED_FUNCTION_1 + 1240\r\n\t13  SwiftUI                             0x00000001aced8030 OUTLINED_FUNCTION_38 + 907680\r\n\t14  SwiftUI                             0x00000001ad00cae4 OUTLINED_FUNCTION_38 + 2171988\r\n\t15  SwiftUI                             0x00000001ad0eacc4 objectdestroy.127Tm + 5004\r\n\t16  SwiftUI                             0x00000001ae4045e0 OUTLINED_FUNCTION_2 + 31536\r\n\t17  SwiftUI                             0x00000001ad0084cc OUTLINED_FUNCTION_38 + 2154044\r\n\t18  SwiftUI                             0x00000001acff47b8 OUTLINED_FUNCTION_38 + 2072872\r\n\t19  SwiftUI                             0x00000001ad17aa28 objectdestroy.2265Tm + 6976\r\n\t20  AttributeGraph                      0x00000001aea237a4 _ZN2AG5Graph11UpdateStack6updateEv + 512\r\n\t21  AttributeGraph                      0x00000001aea23fe0 _ZN2AG5Graph16update_attributeENS_4data3ptrINS_4NodeEEEj + 424\r\n\t22  AttributeGraph                      0x00000001aea32828 _ZN2AG8Subgraph6updateEj + 848\r\n\t23  SwiftUI                             0x00000001ae32a2dc OUTLINED_FUNCTION_5 + 12088\r\n\t24  SwiftUI                             0x00000001adc8b68c OUTLINED_FUNCTION_10 + 6360\r\n\t25  SwiftUI                             0x00000001ad58fd6c OUTLINED_FUNCTION_58 + 1312\r\n\t26  SwiftUI                             0x00000001ad58fc34 OUTLINED_FUNCTION_58 + 1000\r\n\t27  libswiftObservation.dylib           0x0000000222ed8558 $s11Observation0A8TrackingV08_installB0_7willSet03didE0yAC_yACYbcSgAGtFZAC2IdOAC5EntryVXEfU_yyYbcfU2_TATm + 48\r\n\t28  libswiftObservation.dylib           0x0000000222ed8670 $sIegh_ytIeghr_TRTA + 28\r\n\t29  libswiftObservation.dylib           0x0000000222ed682c $s11Observation0A9RegistrarV7ContextV7willSet_7keyPathyx_s03KeyG0Cyxq_GtAA10ObservableRzr0_lFTf4dnn_n + 568\r\n\t30  libswiftObservation.dylib           0x0000000222ed725c $s11Observation0A9RegistrarV7willSet_7keyPathyx_s03KeyF0Cyxq_GtAA10ObservableRzr0_lFTf4dnn_n + 60\r\n\t31  libswiftObservation.dylib           0x0000000222ed2158 $s11Observation0A9RegistrarV12withMutation2of7keyPath_q0_x_s03KeyG0Cyxq_Gq0_yKXEtKAA10ObservableRzr1_lF + 80\r\n\t32  TestSearchStringInViewModel         0x000000010018dbf4 $s27TestSearchStringInViewModel0eF0C12withMutation7keyPath_q_s03KeyJ0CyACxG_q_yKXEtKr0_lF + 284\r\n\t33  TestSearchStringInViewModel         0x000000010018d5b8 $s27TestSearchStringInViewModel0eF0C06searchC0SSvs + 156\r\n\t34  TestSearchStringInViewModel         0x000000010018d504 $s27TestSearchStringInViewModel0eF0C06searchC0SSvpACTk + 88\r\n\t35  libswiftCore.dylib                  0x000000019198c560 $ss26NonmutatingWritebackBufferCfD + 312\r\n\t36  libswiftCore.dylib                  0x0000000191bbddb0 _swift_release_dealloc + 56\r\n\t37  libswiftCore.dylib                  0x0000000191bbea8c _ZN5swift9RefCountsINS_13RefCountBitsTILNS_19RefCountInlinednessE1EEEE15doDecrementSlowILNS_13PerformDeinitE1EEEbS3_j + 136\r\n\t38  libswiftCore.dylib                  0x000000019198dd2c swift_setAtReferenceWritableKeyPath + 244\r\n\t39  SwiftUI                             0x00000001ad28b210 OUTLINED_FUNCTION_7 + 1520\r\n\t40  SwiftUI                             0x00000001ad28b32c OUTLINED_FUNCTION_7 + 1804\r\n\t41  SwiftUI                             0x00000001ae27b25c OUTLINED_FUNCTION_1 + 9376\r\n\t42  SwiftUI                             0x00000001ad28b128 OUTLINED_FUNCTION_7 + 1288\r\n\t43  SwiftUI                             0x00000001adb31b08 OUTLINED_FUNCTION_0 + 1256\r\n\t44  SwiftUI                             0x00000001ae49dac8 objectdestroy.2Tm + 3400\r\n\t45  SwiftUI                             0x00000001adb31b08 OUTLINED_FUNCTION_0 + 1256\r\n\t46  SwiftUI                             0x00000001adb33b6c OUTLINED_FUNCTION_0 + 9548\r\n\t47  SwiftUI                             0x00000001adb31b08 OUTLINED_FUNCTION_0 + 1256\r\n\t48  SwiftUI                             0x00000001adb32f34 OUTLINED_FUNCTION_0 + 6420\r\n\t49  SwiftUI                             0x00000001adb332dc OUTLINED_FUNCTION_0 + 7356\r\n\t50  SwiftUI                             0x00000001adb31b08 OUTLINED_FUNCTION_0 + 1256\r\n\t51  SwiftUI                             0x00000001adb32f34 OUTLINED_FUNCTION_0 + 6420\r\n\t52  SwiftUI                             0x00000001adb332dc OUTLINED_FUNCTION_0 + 7356\r\n\t53  SwiftUI                             0x00000001adb31b08 OUTLINED_FUNCTION_0 + 1256\r\n\t54  SwiftUI                             0x00000001adb32f34 OUTLINED_FUNCTION_0 + 6420\r\n\t55  SwiftUI                             0x00000001adb332dc OUTLINED_FUNCTION_0 + 7356\r\n\t56  SwiftUI                             0x00000001adb31b08 OUTLINED_FUNCTION_0 + 1256\r\n\t57  SwiftUI                             0x00000001adb33b9c OUTLINED_FUNCTION_0 + 9596\r\n\t58  SwiftUI                             0x00000001adb31b08 OUTLINED_FUNCTION_0 + 1256\r\n\t59  SwiftUI                             0x00000001adb33b6c OUTLINED_FUNCTION_0 + 9548\r\n\t60  SwiftUI                             0x00000001adb31b08 OUTLINED_FUNCTION_0 + 1256\r\n\t61  SwiftUI                             0x00000001adb32f34 OUTLINED_FUNCTION_0 + 6420\r\n\t62  SwiftUI                             0x00000001adb332dc OUTLINED_FUNCTION_0 + 7356\r\n\t63  SwiftUI                             0x00000001adb31b08 OUTLINED_FUNCTION_0 + 1256\r\n\t64  SwiftUI                             0x00000001ae575560 OUTLINED_FUNCTION_29 + 16752\r\n\t65  SwiftUI                             0x00000001ae53cb38 OUTLINED_FUNCTION_1 + 9048\r\n\t66  SwiftUI                             0x00000001ae53da54 OUTLINED_FUNCTION_1 + 12916\r\n\t67  CoreFoundation                      0x0000000182050570 __CFNOTIFICATIONCENTER_IS_CALLING_OUT_TO_AN_OBSERVER__ + 148\r\n\t68  CoreFoundation                      0x00000001820e465c ___CFXRegistrationPost_block_invoke + 88\r\n\t69  CoreFoundation                      0x00000001820e45a4 _CFXRegistrationPost + 440\r\n\t70  CoreFoundation                      0x000000018201f1dc _CFXNotificationPost + 764\r\n\t71  Foundation                          0x0000000183111ff0 -[NSNotificationCenter postNotificationName:object:userInfo:] + 88\r\n\t72  CoreFoundation                      0x0000000182050570 __CFNOTIFICATIONCENTER_IS_CALLING_OUT_TO_AN_OBSERVER__ + 148\r\n\t73  CoreFoundation                      0x00000001820e465c ___CFXRegistrationPost_block_invoke + 88\r\n\t74  CoreFoundation                      0x00000001820e45a4 _CFXRegistrationPost + 440\r\n\t75  CoreFoundation                      0x000000018201f1dc _CFXNotificationPost + 764\r\n\t76  Foundation                          0x0000000183111ff0 -[NSNotificationCenter postNotificationName:object:userInfo:] + 88\r\n\t77  AppKit                              0x00000001859e7ac4 -[NSTextView(NSSharing) didChangeText] + 332\r\n\t78  AppKit                              0x0000000185b0b144 _NSDoUserReplaceForCharRange + 452\r\n\t79  AppKit                              0x0000000185b4c5d0 -[NSTextView(NSKeyBindingCommands) deleteBackward:] + 664\r\n\t80  AppKit                              0x0000000185a91248 -[NSTextView doCommandBySelector:] + 176\r\n\t81  AppKit                              0x0000000185a91158 -[NSTextInputContext(NSInputContext_WithCompletion) doCommandBySelector:completionHandler:] + 228\r\n\t82  AppKit                              0x00000001859e267c -[NSKeyBindingManager(NSKeyBindingManager_MultiClients) interpretEventAsCommand:forClient:] + 1496\r\n\t83  AppKit                              0x00000001859e9fb4 __84-[NSTextInputContext _handleEvent:options:allowingSyntheticEvent:completionHandler:]_block_invoke_5 + 360\r\n\t84  AppKit                              0x00000001864238b0 __84-[NSTextInputContext _handleEvent:options:allowingSyntheticEvent:completionHandler:]_block_invoke_3.711 + 100\r\n\t85  AppKit                              0x00000001859e9e08 -[NSTextInputContext tryHandleEvent_HasMarkedText_withDispatchCondition:dispatchWork:continuation:] + 148\r\n\t86  AppKit                              0x0000000186423810 __84-[NSTextInputContext _handleEvent:options:allowingSyntheticEvent:completionHandler:]_block_invoke.708 + 316\r\n\t87  HIToolbox                           0x000000018c7b5804 __TSMProcessRawKeyEventWithOptionsAndCompletionHandler_block_invoke_6 + 96\r\n\t88  HIToolbox                           0x000000018c650d04 ___ZL23DispatchEventToHandlersP14EventTargetRecP14OpaqueEventRefP14HandlerCallRec_block_invoke + 148\r\n\t89  AppKit                              0x000000018641e4f4 __55-[NSTextInputContext handleTSMEvent:completionHandler:]_block_invoke.186 + 576\r\n\t90  AppKit                              0x00000001859e4538 __55-[NSTextInputContext handleTSMEvent:completionHandler:]_block_invoke_2 + 100\r\n\t91  AppKit                              0x00000001859e4484 -[NSTextInputContext tryHandleTSMEvent_HasMarkedText_withDispatchCondition:dispatchWork:continuation:] + 148\r\n\t92  AppKit                              0x00000001859e39fc -[NSTextInputContext handleTSMEvent:completionHandler:] + 2044\r\n\t93  AppKit                              0x00000001859e3194 _NSTSMEventHandler + 332\r\n\t94  HIToolbox                           0x000000018c5e0894 _ZL23DispatchEventToHandlersP14EventTargetRecP14OpaqueEventRefP14HandlerCallRec + 1228\r\n\t95  HIToolbox                           0x000000018c5dfc98 _ZL30SendEventToEventTargetInternalP14OpaqueEventRefP20OpaqueEventTargetRefP14HandlerCallRec + 356\r\n\t96  HIToolbox                           0x000000018c5dfb28 SendEventToEventTargetWithOptions + 44\r\n\t97  HIToolbox                           0x000000018c63ce30 SendTSMEvent_WithCompletionHandler + 432\r\n\t98  HIToolbox                           0x000000018c63d380 __SendUnicodeTextAEToUnicodeDoc_WithCompletionHandler_block_invoke + 456\r\n\t99  HIToolbox                           0x000000018c63d18c __SendFilterTextEvent_WithCompletionHandler_block_invoke + 228\r\n\t100 HIToolbox                           0x000000018c63ce88 SendTSMEvent_WithCompletionHandler + 520\r\n\t101 HIToolbox                           0x000000018c63cc38 SendFilterTextEvent_WithCompletionHandler + 260\r\n\t102 HIToolbox                           0x000000018c63c86c SendUnicodeTextAEToUnicodeDoc_WithCompletionHandler + 296\r\n\t103 HIToolbox                           0x000000018c63c5f8 __utDeliverTSMEvent_WithCompletionHandler_block_invoke_2 + 320\r\n\t104 HIToolbox                           0x000000018c63c37c __utDeliverTSMEvent_WithCompletionHandler_block_invoke + 284\r\n\t105 HIToolbox                           0x000000018c63c1e0 TSMKeyEvent_WithCompletionHandler + 588\r\n\t106 HIToolbox                           0x000000018c640a18 __TSMProcessRawKeyEventWithOptionsAndCompletionHandler_block_invoke_5 + 312\r\n\t107 HIToolbox                           0x000000018c63bf7c __TSMProcessRawKeyEventWithOptionsAndCompletionHandler_block_invoke_4 + 408\r\n\t108 HIToolbox                           0x000000018c63bd34 __TSMProcessRawKeyEventWithOptionsAndCompletionHandler_block_invoke_3 + 352\r\n\t109 HIToolbox                           0x000000018c63ba10 __TSMProcessRawKeyEventWithOptionsAndCompletionHandler_block_invoke_2 + 312\r\n\t110 HIToolbox                           0x000000018c63b71c __TSMProcessRawKeyEventWithOptionsAndCompletionHandler_block_invoke + 312\r\n\t111 HIToolbox                           0x000000018c629388 TSMProcessRawKeyEventWithOptionsAndCompletionHandler + 2308\r\n\t112 AppKit                              0x00000001864236c4 __84-[NSTextInputContext _handleEvent:options:allowingSyntheticEvent:completionHandler:]_block_invoke_3.704 + 148\r\n\t113 AppKit                              0x00000001864233a0 __204-[NSTextInputContext tryTSMProcessRawKeyEvent_orSubstitution:dispatchCondition:setupForDispatch:furtherCondition:doubleSpaceSubstitutionCondition:doubleSpaceSubstitutionWork:dispatchTSMWork:continuation:]_block_invoke.687 + 192\r\n\t114 AppKit                              0x00000001859e1f50 -[NSTextInputContext tryTSMProcessRawKeyEvent_orSubstitution:dispatchCondition:setupForDispatch:furtherCondition:doubleSpaceSubstitutionCondition:doubleSpaceSubstitutionWork:dispatchTSMWork:continuation:] + 336\r\n\t115 AppKit                              0x00000001859e1978 -[NSTextInputContext _handleEvent:options:allowingSyntheticEvent:completionHandler:] + 1456\r\n\t116 AppKit                              0x00000001859e1388 -[NSTextInputContext _handleEvent:allowingSyntheticEvent:] + 132\r\n\t117 AppKit                              0x00000001859e11e0 -[NSView interpretKeyEvents:] + 156\r\n\t118 AppKit                              0x00000001859e1034 -[NSTextView keyDown:] + 524\r\n\t119 SwiftUI                             0x00000001ae699dfc OUTLINED_FUNCTION_14 + 38788\r\n\t120 SwiftUI                             0x00000001ae69a1a0 OUTLINED_FUNCTION_14 + 39720\r\n\t121 SwiftUI                             0x00000001ada85d04 OUTLINED_FUNCTION_0 + 76892\r\n\t122 SwiftUI                             0x00000001ada85f14 OUTLINED_FUNCTION_0 + 77420\r\n\t123 AppKit                              0x0000000185962810 -[NSWindow(NSEventRouting) _reallySendEvent:isDelayedEvent:] + 480\r\n\t124 AppKit                              0x000000018596245c -[NSWindow(NSEventRouting) sendEvent:] + 284\r\n\t125 AppKit                              0x000000018600f9f4 -[NSApplication(NSEventRouting) sendEvent:] + 1604\r\n\t126 AppKit                              0x0000000185c5e908 -[NSApplication _handleEvent:] + 60\r\n\t127 AppKit                              0x0000000185829d74 -[NSApplication run] + 512\r\n\t128 AppKit                              0x0000000185801014 NSApplicationMain + 880\r\n\t129 SwiftUI                             0x00000001accb4364 OUTLINED_FUNCTION_12 + 15824\r\n\t130 SwiftUI                             0x00000001ad54393c OUTLINED_FUNCTION_3 + 196\r\n\t131 SwiftUI                             0x00000001ad98ad60 OUTLINED_FUNCTION_1 + 152\r\n\t132 TestSearchStringInViewModel         0x000000010018bbc4 $s27TestSearchStringInViewModel0abcdeF3AppV5$mainyyFZ + 40\r\n\t133 TestSearchStringInViewModel         0x000000010018e00c main + 12\r\n\t134 dyld                                0x0000000181bfd0e0 start + 2360\r\n)\r\nNSHostingView is being laid out reentrantly while rendering its SwiftUI content. This is not supported and the current layout pass will be skipped.\r\n*** -[NSBigMutableString substringWithRange:]: Range {0, 1} out of bounds; string length 0\r\n(\r\n\t0   CoreFoundation                      0x00000001820d0570 __exceptionPreprocess + 176\r\n\t1   libobjc.A.dylib                     0x0000000181bc1eb4 objc_exception_throw + 60\r\n\t2   Foundation                          0x0000000183131930 -[NSString _newSubstringWithRange:zone:] + 0\r\n\t3   AppKit                              0x00000001859e6f28 -[NSTextStorage(NSUndo) _undoRedoAttributedSubstringFromRange:] + 140\r\n\t4   AppKit                              0x00000001859fff14 -[NSUndoReplaceCharacters initWithAffectedRange:textStorage:undoManager:replacementRange:] + 112\r\n\t5   AppKit                              0x00000001859e5edc -[NSTextView(NSSharing) shouldChangeTextInRanges:replacementStrings:] + 876\r\n\t6   AppKit                              0x00000001861f9d18 -[NSTextView performValidatedReplacementInRange:withAttributedString:] + 196\r\n\t7   SwiftUI                             0x00000001ae4223d8 OUTLINED_FUNCTION_6 + 2648\r\n\t8   SwiftUI                             0x00000001ae53c724 OUTLINED_FUNCTION_1 + 8004\r\n\t9   SwiftUI                             0x00000001ae53bfd4 OUTLINED_FUNCTION_1 + 6132\r\n\t10  SwiftUI                             0x00000001ae53ba8c OUTLINED_FUNCTION_1 + 4780\r\n\t11  SwiftUI                             0x00000001ae53acb8 OUTLINED_FUNCTION_1 + 1240\r\n\t12  SwiftUI                             0x00000001aced8030 OUTLINED_FUNCTION_38 + 907680\r\n\t13  SwiftUI                             0x00000001ad00cae4 OUTLINED_FUNCTION_38 + 2171988\r\n\t14  SwiftUI                             0x00000001ad0eacc4 objectdestroy.127Tm + 5004\r\n\t15  SwiftUI                             0x00000001ae4045e0 OUTLINED_FUNCTION_2 + 31536\r\n\t16  SwiftUI                             0x00000001ad0084cc OUTLINED_FUNCTION_38 + 2154044\r\n\t17  SwiftUI                             0x00000001acff47b8 OUTLINED_FUNCTION_38 + 2072872\r\n\t18  SwiftUI                             0x00000001ad17aa28 objectdestroy.2265Tm + 6976\r\n\t19  AttributeGraph                      0x00000001aea237a4 _ZN2AG5Graph11UpdateStack6updateEv + 512\r\n\t20  AttributeGraph                      0x00000001aea23fe0 _ZN2AG5Graph16update_attributeENS_4data3ptrINS_4NodeEEEj + 424\r\n\t21  AttributeGraph                      0x00000001aea32828 _ZN2AG8Subgraph6updateEj + 848\r\n\t22  SwiftUI                             0x00000001ae32a2dc OUTLINED_FUNCTION_5 + 12088\r\n\t23  SwiftUI                             0x00000001add7f524 OUTLINED_FUNCTION_23 + 74788\r\n\t24  SwiftUI                             0x00000001add7dd8c OUTLINED_FUNCTION_23 + 68748\r\n\t25  SwiftUI                             0x00000001ad1b6830 OUTLINED_FUNCTION_151 + 56568\r\n\t26  SwiftUI                             0x00000001ad1b6878 OUTLINED_FUNCTION_151 + 56640\r\n\t27  AppKit                              0x00000001863fd9e0 -[NSTableRowData enumerateAvailableRowViewsIncludingOrphanRows:usingBlock:] + 168\r\n\t28  SwiftUI                             0x00000001add7c968 OUTLINED_FUNCTION_23 + 63592\r\n\t29  SwiftUI                             0x00000001add7b6ac OUTLINED_FUNCTION_23 + 58796\r\n\t30  SwiftUI                             0x00000001add7a0dc OUTLINED_FUNCTION_23 + 53212\r\n\t31  SwiftUI                             0x00000001ad44cc64 OUTLINED_FUNCTION_0 + 16392\r\n\t32  SwiftUI                             0x00000001ad451e9c __swift_memcpy216_8 + 904\r\n\t33  SwiftUI                             0x00000001ae27b25c OUTLINED_FUNCTION_1 + 9376\r\n\t34  SwiftUI                             0x00000001ad44c930 OUTLINED_FUNCTION_0 + 15572\r\n\t35  SwiftUI                             0x00000001adeecb6c __swift_allocate_boxed_opaque_existential_1Tm + 268\r\n\t36  AttributeGraph                      0x00000001aea237a4 _ZN2AG5Graph11UpdateStack6updateEv + 512\r\n\t37  AttributeGraph                      0x00000001aea23fe0 _ZN2AG5Graph16update_attributeENS_4data3ptrINS_4NodeEEEj + 424\r\n\t38  AttributeGraph                      0x00000001aea32828 _ZN2AG8Subgraph6updateEj + 848\r\n\t39  SwiftUI                             0x00000001ae32a2dc OUTLINED_FUNCTION_5 + 12088\r\n\t40  SwiftUI                             0x00000001ae401e6c OUTLINED_FUNCTION_2 + 21436\r\n\t41  SwiftUI                             0x00000001ae3feb10 OUTLINED_FUNCTION_2 + 8288\r\n\t42  SwiftUI                             0x00000001ada81a84 OUTLINED_FUNCTION_0 + 59868\r\n\t43  SwiftUI                             0x00000001ada8d0a0 OUTLINED_FUNCTION_0 + 106488\r\n\t44  SwiftUI                             0x00000001ada81f18 OUTLINED_FUNCTION_0 + 61040\r\n\t45  AppKit                              0x000000018584d6f4 +[NSAnimationContext runAnimationGroup:] + 56\r\n\t46  SwiftUI                             0x00000001ada81960 OUTLINED_FUNCTION_0 + 59576\r\n\t47  SwiftUI                             0x00000001ada81f58 OUTLINED_FUNCTION_0 + 61104\r\n\t48  AppKit                              0x00000001862c8af4 ___NSViewLayout_block_invoke + 592\r\n\t49  AppKit                              0x0000000185878714 NSPerformVisuallyAtomicChange + 108\r\n\t50  AppKit                              0x000000018587d244 _NSViewLayout + 96\r\n\t51  AppKit                              0x00000001862bf0cc __36-[NSView _layoutSubtreeWithOldSize:]_block_invoke + 364\r\n\t52  AppKit                              0x0000000185878714 NSPerformVisuallyAtomicChange + 108\r\n\t53  AppKit                              0x000000018587d1d8 -[NSView _layoutSubtreeWithOldSize:] + 100\r\n\t54  AppKit                              0x00000001862bf210 __36-[NSView _layoutSubtreeWithOldSize:]_block_invoke + 688\r\n\t55  AppKit                              0x0000000185878714 NSPerformVisuallyAtomicChange + 108\r\n\t56  AppKit                              0x000000018587d1d8 -[NSView _layoutSubtreeWithOldSize:] + 100\r\n\t57  AppKit                              0x00000001862bfbb4 __56-[NSView _layoutSubtreeIfNeededAndAllowTemporaryEngine:]_block_invoke + 796\r\n\t58  AppKit                              0x0000000185878714 NSPerformVisuallyAtomicChange + 108\r\n\t59  AppKit                              0x000000018587cd98 -[NSView _layoutSubtreeIfNeededAndAllowTemporaryEngine:] + 100\r\n\t60  AppKit                              0x0000000185878714 NSPerformVisuallyAtomicChange + 108\r\n\t61  AppKit                              0x000000018587cd28 -[NSView layoutSubtreeIfNeeded] + 96\r\n\t62  AppKit                              0x000000018656af20 -[NSWindow(NSConstraintBasedLayoutInternal) _layoutViewTree] + 104\r\n\t63  AppKit                              0x000000018656b0a8 -[NSWindow(NSConstraintBasedLayoutInternal) layoutIfNeeded] + 240\r\n\t64  AppKit                              0x00000001858db94c __NSWindowGetDisplayCycleObserverForLayout_block_invoke + 364\r\n\t65  AppKit                              0x00000001858daee8 NSDisplayCycleObserverInvoke + 168\r\n\t66  AppKit                              0x00000001858dab44 NSDisplayCycleFlush + 644\r\n\t67  QuartzCore                          0x000000018a11dfb4 _ZN2CA11Transaction19run_commit_handlersE18CATransactionPhase + 120\r\n\t68  QuartzCore                          0x000000018a11cd54 _ZN2CA11Transaction6commitEv + 320\r\n\t69  AppKit                              0x000000018595eec8 __62+[CATransaction(NSCATransaction) NS_setFlushesWithDisplayLink]_block_invoke + 272\r\n\t70  AppKit                              0x0000000186304558 ___NSRunLoopObserverCreateWithHandler_block_invoke + 64\r\n\t71  CoreFoundation                      0x000000018205adf0 __CFRUNLOOP_IS_CALLING_OUT_TO_AN_OBSERVER_CALLBACK_FUNCTION__ + 36\r\n\t72  CoreFoundation                      0x000000018205acdc __CFRunLoopDoObservers + 532\r\n\t73  CoreFoundation                      0x000000018205a30c __CFRunLoopRun + 776\r\n\t74  CoreFoundation                      0x00000001820599ac CFRunLoopRunSpecific + 608\r\n\t75  HIToolbox                           0x000000018c608448 RunCurrentEventLoopInMode + 292\r\n\t76  HIToolbox                           0x000000018c6080d8 ReceiveNextEventCommon + 220\r\n\t77  HIToolbox                           0x000000018c607fdc _BlockUntilNextEventMatchingListInModeWithFilter + 76\r\n\t78  AppKit                              0x00000001858368a4 _DPSNextEvent + 660\r\n\t79  AppKit                              0x0000000186010980 -[NSApplication(NSEventRouting) _nextEventMatchingEventMask:untilDate:inMode:dequeue:] + 716\r\n\t80  AppKit                              0x0000000185829d50 -[NSApplication run] + 476\r\n\t81  AppKit                              0x0000000185801014 NSApplicationMain + 880\r\n\t82  SwiftUI                             0x00000001accb4364 OUTLINED_FUNCTION_12 + 15824\r\n\t83  SwiftUI                             0x00000001ad54393c OUTLINED_FUNCTION_3 + 196\r\n\t84  SwiftUI                             0x00000001ad98ad60 OUTLINED_FUNCTION_1 + 152\r\n\t85  TestSearchStringInViewModel         0x000000010018bbc4 $s27TestSearchStringInViewModel0abcdeF3AppV5$mainyyFZ + 40\r\n\t86  TestSearchStringInViewModel         0x000000010018e00c main + 12\r\n\t87  dyld                                0x0000000181bfd0e0 start + 2360\r\n)\r\n```\r\n\r\nI’m attaching a demo video which uses @Bindable, but the same thing happens with @State or just “var” and a bindable variable created in code."
    email: damian@mehers.com
    modified: "2024-01-15T16:25:42.004407Z"
    number: FB13541783
    number_intvalue: 13541783
    originated: 14 Jan 2024
    parent_number: '&{NULL_VALUE}'
    product: ""
    product_version: ""
    reproducible: macOS 14.2.1 (23C71), xCode 15.2 (15C500b)
    resolved: ""
    status: Open
    title: Crash using .searchable bound to viewModel and sidebar placement on macOS
