apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: FB11830038
    labels:
        datastore_id: "5522356084670464"
data:
    classification: Application Crash
    created: "2022-11-28T04:50:39.819045Z"
    description: "actool crashed when archiving an iOS app which uses a single icon image file for the App Icon asset. \r\n\r\nSteps to Reproduce:\r\n1. Create a new app \r\n2. Setup an image to be used as the app icon \r\n3. In the asset inspector, under iOS, ensure “Single Icon” is selected\r\n4. Archive the app \r\n5. actool crashes \r\n\r\nCrash\r\n----\r\n\r\nCompileAssetCatalog /Root/DerivedData/Yeti/Build/Intermediates.noindex/ArchiveIntermediates/Elytra/InstallationBuildProductsLocation/Applications/Elytra.app /Root/Yeti/Assets.xcassets (in target 'Elytra' from project 'Yeti')\r\n    cd /Root\r\n    /Applications/Xcode.app/Contents/Developer/usr/bin/actool --output-format human-readable-text --notices --warnings --export-dependency-info /Root/DerivedData/Yeti/Build/Intermediates.noindex/ArchiveIntermediates/Elytra/IntermediateBuildFilesPath/Yeti.build/Release-iphoneos/Elytra.build/assetcatalog_dependencies --output-partial-info-plist /Root/DerivedData/Yeti/Build/Intermediates.noindex/ArchiveIntermediates/Elytra/IntermediateBuildFilesPath/Yeti.build/Release-iphoneos/Elytra.build/assetcatalog_generated_info.plist --app-icon AppIcon --alternate-app-icon AppIcon-PlatinumDark --alternate-app-icon AppIcon-PlatinumLight --alternate-app-icon AppIcon-Black --alternate-app-icon AppIcon-Dark --compress-pngs --enable-on-demand-resources YES --optimization time --development-region en --target-device iphone --target-device ipad --minimum-deployment-target 15.0 --platform iphoneos --compile /Root/DerivedData/Yeti/Build/Intermediates.noindex/ArchiveIntermediates/Elytra/InstallationBuildProductsLocation/Applications/Elytra.app /Root/Yeti/Assets.xcassets\r\n\r\n2022-11-28 09:52:38.782 AssetCatalogSimulatorAgent[21082:198815] *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: 'Object 0xafb46027490e3307 <x-coredata://12505222-B356-44B6-AB95-6D9914AA9B32/SimpleArtworkRenditionSpec/p356> persistent store is not reachable from this NSManagedObjectContext's coordinator'\r\n*** First throw call stack:\r\n(\r\n    0   CoreFoundation                      0x00000001058518cb __exceptionPreprocess + 242\r\n    1   libobjc.A.dylib                     0x0000000105090ba3 objc_exception_throw + 48\r\n    2   CoreData                            0x000000011366e973 -[NSManagedObjectContext _changeIDsForManagedObjects:toIDs:] + 0\r\n    3   CoreData                            0x0000000113662619 -[NSManagedObjectContext objectWithID:] + 485\r\n    4   CoreThemeDefinition                 0x0000000105240f6a __34-[TDRenditionsDistiller _distill:]_block_invoke + 42\r\n    5   CoreData                            0x000000011366c277 developerSubmittedBlockToNSManagedObjectContextPerform + 151\r\n    6   libdispatch.dylib                   0x0000000107b64a3a _dispatch_client_callout + 8\r\n    7   libdispatch.dylib                   0x0000000107b6c346 _dispatch_lane_serial_drain + 949\r\n    8   libdispatch.dylib                   0x0000000107b6cfe3 _dispatch_lane_invoke + 400\r\n    9   libdispatch.dylib                   0x0000000107b79b46 _dispatch_workloop_worker_thread + 870\r\n    10  libsystem_pthread.dylib             0x00007ff834c39fd0 _pthread_wqthread + 326\r\n    11  libsystem_pthread.dylib             0x00007ff834c38f57 start_wqthread + 15\r\n)\r\nlibc++abi: terminating with uncaught exception of type NSException\r\n2022-11-28 09:52:39.827 ibtoold[20717:195893] *** Terminating app due to uncaught exception 'IBPlatformToolFailureException', reason: 'The tool closed the connection (AssetCatalogSimulatorAgent)\r\n\r\nLast command:\r\n_ON_QUEUE_sendMessage:toChannelReturningError:during:\r\n\r\nBacktrace of last command:\r\n  0   -[IBAbstractPlatformToolProxy _ON_QUEUE_sendMessage:toChannelReturningError:during:] (in IDEInterfaceBuilderKit)\r\n  1   __74-[IBAbstractPlatformToolProxy sendMessage:toChannelReturningError:during:]_block_invoke (in IDEInterfaceBuilderKit)\r\n  2   _dispatch_client_callout (in libdispatch.dylib)\r\n  3   _dispatch_lane_barrier_sync_invoke_and_complete (in libdispatch.dylib)\r\n  4   DVTDispatchSync (in DVTFoundation)\r\n  5   -[IBAbstractPlatformToolProxy sendMessage:toChannelReturningError:during:] (in IDEInterfaceBuilderKit)\r\n  6   -[AssetCatalogSimulatorAgentProxy compileItemsWithCatalogRelativeIdentifierPaths:tagSolutionSpace:andStickerPacksWithCatalogRelativeIdentifierPaths:options:] (in IDEInterfaceBuilderCocoaTouchIntegration)\r\n  7   -[IBICSimulatorToolCARCompiler compileCARItems:tagSolutionSpace:options:queue:completionHandler:] (in AssetCatalogCocoaTouchKit)\r\n  8   -[IBICAbstractPlatformAdapter compileCARItems:tagSolutionSpace:options:queue:completionHandler:] (in AssetCatalogFoundation)\r\n  9   __84-[IBICAbstractPlatformAdapter compileSelectedItems:options:queue:completionHandler:]_block_invoke (in AssetCatalogFoundation)\r\n 10   __93-[IBICAbstractPlatformAdapter compileStandaloneCatalogItems:options:queue:completionHandler:]_block_invoke (in AssetCatalogFoundation)\r\n 11   __DVT_CALLING_CLIENT_BLOCK__ (in DVTFoundation)\r\n 12   __DVTDispatchAsync_block_invoke (in DVTFoundation)\r\n 13   _dispatch_call_block_and_release (in libdispatch.dylib)\r\n 14   _dispatch_client_callout (in libdispatch.dylib)\r\n 15   _dispatch_main_queue_drain (in libdispatch.dylib)\r\n 16   _dispatch_main_queue_callback_4CF (in libdispatch.dylib)\r\n 17   __CFRUNLOOP_IS_SERVICING_THE_MAIN_DISPATCH_QUEUE__ (in CoreFoundation)\r\n 18   __CFRunLoopRun (in CoreFoundation)\r\n 19   CFRunLoopRunSpecific (in CoreFoundation)\r\n 20   -[NSRunLoop(NSRunLoop) runMode:beforeDate:] (in Foundation)\r\n 21   -[NSRunLoop(DVTNSRunLoopAdditions) dvt_spinRunLoopInMode:whileQueue:executesAsynchronously:] (in DVTFoundation)\r\n 22   -[NSRunLoop(DVTNSRunLoopAdditions) dvt_spinRunLoopInMode:whileBlockExecutesConcurrently:] (in DVTFoundation)\r\n 23   -[NSRunLoop(DVTNSRunLoopAdditions) dvt_spinRunLoopInMode:waitingForSemaphore:] (in DVTFoundation)\r\n 24   -[IBCLIImageCatalogToolPersona compileCatalogCollection:withPlatformAdapter:arguments:outputDictionary:] (in ibtoold)\r\n 25   -[IBCLIImageCatalogToolPersona invokeArguments:outputDictionary:] (in ibtoold)\r\n 26   -[IBCLIImageCatalogToolPersona runSingleInvocation:outputtingToFileHandle:andVerifyingEnvironment:] (in ibtoold)\r\n 27   IBCLIServerRunSingleInvocation (in ibtoold)\r\n 28   __IBCLIServerRunSingleInvocationWithIODirectedAtPipesAndUnlinkOnSuccess_block_invoke_2 (in ibtoold)\r\n 29   __IBCLIServerRunSingleInvocationWithIODirectedAtPipesAndUnlinkOnSuccess_block_invoke (in ibtoold)\r\n 30   -[IBCLIErrorForwarder forwardErrorOutputToDescriptor:whileInvokingBlock:] (in ibtoold)\r\n 31   IBCLIServerRunSingleInvocationWithIODirectedAtPipesAndUnlinkOnSuccess (in ibtoold)\r\n 32   main (in ibtoold)\r\n 33   start (in dyld)\r\n\r\n\r\nExecution Context:\r\n<IBSimulatorToolCoreSimulatorCLIExecutionContext: 0x6000015a1d40 busyCount=0, Idle for 0.0 secs, lifeTime=7.5 secs>, device=IBSimDeviceTypeiPad3x (25385CFE-D917-4848-BB2E-F81AE0068DA3, iOS 16.1, Shutdown), idiom=<IBIPhoneIdiom: 0x60000077e520>\r\n\r\n'\r\n*** First throw call stack:\r\n(\r\n    0   CoreFoundation                      0x00007ff817cfb773 __exceptionPreprocess + 242\r\n    1   libobjc.A.dylib                     0x00007ff817a5bbc3 objc_exception_throw + 48\r\n    2   CoreFoundation                      0x00007ff817d24056 -[NSException raise] + 9\r\n    3   IDEInterfaceBuilderKit              0x000000010a94516d -[IBAbstractPlatformToolProxy _errorByAddingAdditionalCrashInformationToError:orRaiseIfNeededOnFailure:shouldRaiseOnFailures:waitForCrashLog:] + 1651\r\n    4   IDEInterfaceBuilderKit              0x000000010a944ad0 -[IBAbstractPlatformToolProxy errorByAddingAdditionalCrashInformationToError:orRaiseIfNeededOnFailure:] + 94\r\n    5   IDEInterfaceBuilderKit              0x000000010a946aac -[IBAbstractPlatformToolProxy _ON_QUEUE_sendMessage:toChannelReturningError:during:] + 210\r\n    6   IDEInterfaceBuilderKit              0x000000010a9469a2 __74-[IBAbstractPlatformToolProxy sendMessage:toChannelReturningError:during:]_block_invoke + 38\r\n    7   libdispatch.dylib                   0x00007ff817a02317 _dispatch_client_callout + 8\r\n    8   libdispatch.dylib                   0x00007ff817a0f7ee _dispatch_lane_barrier_sync_invoke_and_complete + 60\r\n    9   DVTFoundation                       0x000000010b5482ab DVTDispatchSync + 148\r\n    10  IDEInterfaceBuilderKit              0x000000010a9468c7 -[IBAbstractPlatformToolProxy sendMessage:toChannelReturningError:during:] + 228\r\n    11  IDEInterfaceBuilderCocoaTouchIntegr 0x00000001146d6ba8 -[AssetCatalogSimulatorAgentProxy compileItemsWithCatalogRelativeIdentifierPaths:tagSolutionSpace:andStickerPacksWithCatalogRelativeIdentifierPaths:options:] + 213\r\n    12  AssetCatalogCocoaTouchKit           0x000000011435b203 -[IBICSimulatorToolCARCompiler compileCARItems:tagSolutionSpace:options:queue:completionHandler:] + 1115\r\n    13  AssetCatalogFoundation              0x00000001093f1ce8 -[IBICAbstractPlatformAdapter compileCARItems:tagSolutionSpace:options:queue:completionHandler:] + 487\r\n    14  AssetCatalogFoundation              0x00000001093f101c __84-[IBICAbstractPlatformAdapter compileSelectedItems:options:queue:completionHandler:]_block_invoke + 237\r\n    15  AssetCatalogFoundation              0x00000001093f567a __93-[IBICAbstractPlatformAdapter compileStandaloneCatalogItems:options:queue:completionHandler:]_block_invoke + 15\r\n    16  DVTFoundation                       0x000000010b547879 __DVT_CALLING_CLIENT_BLOCK__ + 7\r\n    17  DVTFoundation                       0x000000010b5482fb __DVTDispatchAsync_block_invoke + 50\r\n    18  libdispatch.dylib                   0x00007ff817a010cc _dispatch_call_block_and_release + 12\r\n    19  libdispatch.dylib                   0x00007ff817a02317 _dispatch_client_callout + 8\r\n    20  libdispatch.dylib                   0x00007ff817a0ec78 _dispatch_main_queue_drain + 943\r\n    21  libdispatch.dylib                   0x00007ff817a0e8bb _dispatch_main_queue_callback_4CF + 31\r\n    22  CoreFoundation                      0x00007ff817cbdf37 __CFRUNLOOP_IS_SERVICING_THE_MAIN_DISPATCH_QUEUE__ + 9\r\n    23  CoreFoundation                      0x00007ff817c7efcf __CFRunLoopRun + 2771\r\n    24  CoreFoundation                      0x00007ff817c7de3c CFRunLoopRunSpecific + 562\r\n    25  Foundation                          0x00007ff818adbd4a -[NSRunLoop(NSRunLoop) runMode:beforeDate:] + 216\r\n    26  DVTFoundation                       0x000000010b3dd15f -[NSRunLoop(DVTNSRunLoopAdditions) dvt_spinRunLoopInMode:whileQueue:executesAsynchronously:] + 493\r\n    27  DVTFoundation                       0x000000010b3dd3dd -[NSRunLoop(DVTNSRunLoopAdditions) dvt_spinRunLoopInMode:whileBlockExecutesConcurrently:] + 87\r\n    28  DVTFoundation                       0x000000010b3dd547 -[NSRunLoop(DVTNSRunLoopAdditions) dvt_spinRunLoopInMode:waitingForSemaphore:] + 119\r\n    29  ibtoold                             0x0000000108c44aa8 -[IBCLIImageCatalogToolPersona compileCatalogCollection:withPlatformAdapter:arguments:outputDictionary:] + 1664\r\n    30  ibtoold                             0x0000000108c465a7 -[IBCLIImageCatalogToolPersona invokeArguments:outputDictionary:] + 2394\r\n    31  ibtoold                             0x0000000108c46aca -[IBCLIImageCatalogToolPersona runSingleInvocation:outputtingToFileHandle:andVerifyingEnvironment:] + 574\r\n    32  ibtoold                             0x0000000108c54dea IBCLIServerRunSingleInvocation + 426\r\n    33  ibtoold                             0x0000000108c5540a __IBCLIServerRunSingleInvocationWithIODirectedAtPipesAndUnlinkOnSuccess_block_invoke_2 + 34\r\n    34  ibtoold                             0x0000000108c552da __IBCLIServerRunSingleInvocationWithIODirectedAtPipesAndUnlinkOnSuccess_block_invoke + 840\r\n    35  ibtoold                             0x0000000108c434ed -[IBCLIErrorForwarder forwardErrorOutputToDescriptor:whileInvokingBlock:] + 97\r\n    36  ibtoold                             0x0000000108c54a82 IBCLIServerRunSingleInvocationWithIODirectedAtPipesAndUnlinkOnSuccess + 527\r\n    37  ibtoold                             0x0000000108c5351f main + 1683\r\n    38  dyld                                0x000000010c46b52e start + 462\r\n)\r\nlibc++abi: terminating with uncaught exception of type NSException"
    email: nikhil@dezinezync.com
    modified: "2022-11-28T04:50:39.819189Z"
    number: FB11830038
    number_intvalue: 11830038
    originated: 28/11/2022
    parent_number: '&{NULL_VALUE}'
    product: Xcode
    product_version: Version 14.1 (14B47b)
    reproducible: Yes
    resolved: No
    status: Open
    title: Xcode crashes archiving app using single icon for App icon in Assets Catalog
