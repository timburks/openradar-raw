apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "14829080"
    labels:
        datastore_id: "5825092344872960"
data:
    classification: UI/Usability
    created: "2013-08-25T04:43:56.349179Z"
    description: "Summary:\nWith overlay scrollers enabled, the standard Cocoa About panel does not center RTF/HTML credits; instead they are offset to the left.\n\nSteps to Reproduce:\n1. Make sure overlay scrollers are enabled.\n2. Open Preview (as an example of an Apple app with RTF credits).\n\nExpected Results:\n\"Map imagery owned by NASA…\" is horizontally centered in the panel.\n\nActual Results:\n\"Map imagery owned by NASA…\" is horizontally offset to the left.\n\nRegression:\nThis does not occur if overlay scrollers are disabled at the time the About panel is first displayed.\n\nNotes:\n\nThe NSTextView width does not match that of the NSClipView.\n\nThe following is a relatively robust workaround which also contains some debug logging that demonstrates the problem:\n\n- (IBAction)orderFrontAboutPanel:(id)sender;\n{\n    // XXX work around bug in OS X 10.7 / 10.8 where the Credits text is not centered\n    NSSet *windowsBefore = [NSSet setWithArray:[NSApp windows]];\n    [NSApp orderFrontStandardAboutPanelWithOptions:nil];\n     \n    for (NSWindow *window in [NSApp windows]) {\n        if ([windowsBefore containsObject:window])\n            continue;\n\n        for (NSView *view in [[window contentView] subviews]) {\n            if (![view isKindOfClass:[NSScrollView class]])\n                continue;\n\n            NSClipView *clipView = [(NSScrollView *)view contentView];\n            NSRect clipViewFrame = [clipView frame];\n            NSView *documentView = [clipView documentView];\n            NSRect documentViewFrame = [documentView frame];\n\n            if (clipViewFrame.size.height != documentViewFrame.size.height)\n                continue; // don't mess with a scrollable view\n\n            if (clipViewFrame.size.width != documentViewFrame.size.width) {\n                NSLog(@\"%@\", [view _subtreeDescription]);\n\n                documentViewFrame.size.width = clipViewFrame.size.width;\n                \n                [documentView setFrame:documentViewFrame];\n                NSLog(@\"%@\", [view _subtreeDescription]);\n                break;\n            }\n        }\n        break;\n    }\n}\n\nSample output:\n\n2013-08-24 23:34:24.339 Shroud[99473:303] [   AF     LU ] h=--- v=&-- NSScrollView 0x101a7d260 f=(12,40,260,36) b=(-) TIME drawRect: min/mean/max 0.00/0.00/0.00 ms\n  [   AF  G  LU ] h=--- v=--- NSClipView 0x101a7df30 f=(0,0,260,36) b=(15,0,-,-) TIME drawRect: min/mean/max 0.00/0.00/0.00 ms\n    [   AF  G  LU ] h=-&- v=-&- NSTextView 0x101a7f160 f=(0,0,275,36) b=(-) TIME drawRect: min/mean/max 0.00/0.00/0.00 ms\n  [  HAF     LU#] h=--- v=--- NSScroller 0x101a83f10 f=(-100,-100,16,54) b=(-) TIME drawRect: min/mean/max 0.00/0.00/0.00 ms\n  [  HAF     LU#] h=--- v=--- NSScroller 0x101a84230 f=(-100,-100,87,18) b=(-) TIME drawRect: min/mean/max 0.00/0.00/0.00 ms\nA=autoresizesSubviews, C=canDrawConcurrently, D=needsDisplay, F=flipped, G=gstate, H=hidden (h=by ancestor), L=needsLayout (l=child needsLayout), U=needsUpdateConstraints (u=child needsUpdateConstraints), O=opaque, P=preservesContentDuringLiveResize, S=scaled/rotated, W=wantsLayer (w=ancestor wantsLayer), #=has surface\n2013-08-24 23:34:24.340 Shroud[99473:303] [ D AF     LU ] h=--- v=&-- NSScrollView 0x101a7d260 f=(12,40,260,36) b=(-) TIME drawRect: min/mean/max 0.00/0.00/0.00 ms\n  [ D AF  G  LU ] h=--- v=--- NSClipView 0x101a7df30 f=(0,0,260,36) b=(-) TIME drawRect: min/mean/max 0.00/0.00/0.00 ms\n    [ D AF  G  LU ] h=-&- v=-&- NSTextView 0x101a7f160 f=(0,0,260,36) b=(-) TIME drawRect: min/mean/max 0.00/0.00/0.00 ms\n  [  HAF     LU#] h=--- v=--- NSScroller 0x101a83f10 f=(-100,-100,16,54) b=(-) TIME drawRect: min/mean/max 0.00/0.00/0.00 ms\n  [  HAF     LU#] h=--- v=--- NSScroller 0x101a84230 f=(-100,-100,87,18) b=(-) TIME drawRect: min/mean/max 0.00/0.00/0.00 ms\nA=autoresizesSubviews, C=canDrawConcurrently, D=needsDisplay, F=flipped, G=gstate, H=hidden (h=by ancestor), L=needsLayout (l=child needsLayout), U=needsUpdateConstraints (u=child needsUpdateConstraints), O=opaque, P=preservesContentDuringLiveResize, S=scaled/rotated, W=wantsLayer (w=ancestor wantsLayer), #=has surface"
    email: nriley@gmail.com
    modified: "2013-08-25T04:43:56.34932Z"
    number: "14829080"
    number_intvalue: 14829080
    originated: 24-Aug-2013 11:43 PM
    parent_number: '&{NULL_VALUE}'
    product: OS X
    product_version: 10.8.4/12E55
    reproducible: Always
    resolved: ""
    status: Open
    title: 'AppKit: Standard About panel does not center RTF/HTML credits with overlay scrollers'
