apiVersion: openapi/v1alpha1
kind: Radar
metadata:
    name: "7163059"
    labels:
        datastore_id: "71410"
data:
    classification: Serious Bug
    created: "2009-08-22T19:06:28.904666Z"
    description: "22-Aug-2009 03:03 PM Justin Elliott:\r\nSummary:\r\n\r\nWhen on an IPv6 enabled network, Apple Remote Desktop 3.3 (451.15) can't reconnect to a client that is running the ARD client version 3.3.1 once ARD has been relaunched.\r\n\r\nSteps to Reproduce:\r\n\r\n1. Get on an IPv6 enabled network - where the host Mac running ARD Admin and the client to connect to has valid IPv6 addresses.\r\n2. Enable Remote Management on the client.\r\n3. Add the client to a computer list with it's IPv4 address (ie, 192.168.1.74).\r\n4. Double click to control or observe the client, and it works fine.\r\n5. Quit out of ARD Admin.\r\n6. Relaunch ARD Admin, double click the entry for the client, and ARD will display an error: \"Connection Failed to 'Elliott Mac'.\r\n7. Open the /var/log/system.log file to see interesting errors when ARD was first launched:\r\n\r\nAug 22 14:22:31 jde6MacBookPro Remote Desktop[402]: [IPMIInterface initWithDescriptor] Could not convert '::' to an IP address\r\nAug 22 14:22:31 jde6MacBookPro Remote Desktop[402]: [Computer initWithDescriptor] CFStringToIPv6Address failed to convert string [::] to an IP address.\r\nAug 22 14:22:31: --- last message repeated 104 times ---\r\n\r\n8. Later attempts to launch Apple Remote Desktop just does not work - it never completes launch, becomes unresponsive, and I have to force quit it.\r\n\r\n9. The only thing that allows me to reconnect to the client is to either delete the entry for it in the Computer list and re-add it for that session, OR disable IPv6 on the client and then I can connect to it every time, relaunch of ARD and everything.\r\n\r\nExpected Results:\r\n\r\nI should be able to reconnect to the client after relaunching ARD Admin and keeping IPv6 enabled on the client.\r\n\r\nActual Results:\r\n\r\nARD Admin can connect the first time to a 10.5.8 client, with ARD 3.3.1 client enabled, IPv6 enabled, but after relaunching ARD, it can't and then subsequent launches of ARD never launch fully and have to be force quit.\r\n\r\nRegression:\r\n\r\nThe previous version of ARD Admin worked fine.\r\n\r\nNotes:\r\n\r\nHere's the full email thread that I posted to the MacEnterprise email list:\r\n\r\nThe drama continues ...\r\n\r\nTurned off IPv6, rebooted, and ARD now launches completely, but still reports the same can't convert '::' to IP address in the system log.\r\n\r\nIf I add a new client, which has the newest ARD client, and IPv6 also enable, as long as I don't quit out of ARD I can connect to the client, no problem.\r\n\r\nAs soon as I quit ARD, and then relaunch it, ARD can't connect to the client and reports the usual \"Connection Failed to MacName\"...\r\n\r\nThe only thing that allows me to reconnect to the client is to either delete the entry for it in the Computer list and re-add it for that session, OR disable IPv6 on the client and then I can connect to it every time, relaunch of ARD and everything.\r\n\r\nSmells like a bug to me.\r\n\r\nCan anyone else confirm this? Note that in order for this to happen you'll need to be on an IPv6 enabled network with an IPv6 savvy router and IPv6 enabled on the client and admin you're at.\r\n\r\n- Justin\r\n\r\n-- \r\nJustin Elliott                       Penn State University\r\nManager, Macintosh & Linux Systems   Information Technology Services\r\njde6@psu.edu                         TLT/Classroom and Lab Computing\r\n\r\n\r\nOn Aug 22, 2009, at 2:30 PM, Justin Elliott wrote:\r\n\r\nHello everyone -\r\n\r\nAnyone else having issue with the newest release of Apple Remote Desktop Admin version 3.3 (451.15) never fully starting up and reporting a lot of issues when parsing IPv6 addresses in the system.log? I have to force quit ARD. This is occurring on my home network where I have IPv6 enabled and my router is an Apple Airport Extreme handing out the IPv6 addresses.\r\n\r\nHere's the relevant system.log section:\r\n\r\nAug 22 14:22:31 jde6MacBookPro Remote Desktop[402]: [IPMIInterface initWithDescriptor] Could not convert '::' to an IP address\r\nAug 22 14:22:31 jde6MacBookPro Remote Desktop[402]: [Computer initWithDescriptor] CFStringToIPv6Address failed to convert string [::] to an IP address.\r\nAug 22 14:22:31: --- last message repeated 104 times ---\r\n\r\nThe Mac I'm connecting from:\r\n\r\n\tinet6 fe80::226:4aff:fe00:46%en0 prefixlen 64 scopeid 0x4\r\n\tinet6 2002:473a:6ec6::226:4aff:fe00:46 prefixlen 64 autoconf\r\n\tinet 128.118.108.83 netmask 0xffffffc0 broadcast 128.118.108.127\r\n\tinet 192.168.1.100 netmask 0xffffff00 broadcast 192.168.1.255\r\n\r\nI've turned off IPv6 also on my network interface, relaunch ARD Admin, and same problem.\r\n\r\nIdears, anyone? ;-)\r\n\r\nThanks!\r\n\r\n- Justin\r\n\r\n-- \r\nJustin Elliott                       Penn State University\r\nManager, Macintosh & Linux Systems   Information Technology Services\r\njde6@psu.edu                         TLT/Classroom and Lab Computing\r\n\r\n_____________________________________________________\r\nMacEnterprise, Inc\r\nhttp://www.macenterprise.org"
    email: justindelliott@gmail.com
    modified: "2011-08-28T05:45:14.173929Z"
    number: "7163059"
    number_intvalue: 7163059
    originated: 8/22/2009
    parent_number: '&{NULL_VALUE}'
    product: Apple Remote Desktop Admin
    product_version: 3.3 (451.15)
    reproducible: Always
    resolved: ""
    status: Open
    title: Apple Remote Desktop Admin Can't Reconnect to client on IPv6 Enabled Network
